/*! For license information please see app.js.LICENSE.txt */
!function(){var t={9346:function(t,e,n){var r=n(5108),o=n(4155),i=n(6559),s=n(2538),c=n(3140),a=n(6904),u=n(522),l=n(4253),p=(n(8299),n(496));function f(t){return 0===t.readyState||1===t.readyState?"connecting":"disconnected"}function h(t){u.EventEmitter.call(this),this.collections={},this.undoManagers=[],this.nextQueryId=1,this.nextSnapshotRequestId=1,this.queries={},this._snapshotRequests={},this.seq=1,this.id=null,this.agent=null,this.debug=!1,this.state=f(t),this.bindToSocket(t)}function y(t){return t.hasPending()}function d(t){return t.hasWritePending()}t.exports=h,u.mixin(h),h.prototype.bindToSocket=function(t){this.socket&&(this.socket.close(),this.socket.onmessage=null,this.socket.onopen=null,this.socket.onerror=null,this.socket.onclose=null),this.socket=t;var e=f(t);this._setState(e),this.canSend=!1;var n=this;t.onmessage=function(t){try{var e="string"==typeof t.data?JSON.parse(t.data):t.data}catch(e){return void r.warn("Failed to parse message",t)}n.debug&&r.log("RECV",JSON.stringify(e));var i={data:e};if(n.emit("receive",i),i.data)try{n.handleMessage(i.data)}catch(t){o.nextTick((function(){n.emit("error",t)}))}},t.onopen=function(){n._setState("connecting")},t.onerror=function(t){n.emit("connection error",t)},t.onclose=function(t){"closed"===t||"Closed"===t?n._setState("closed",t):"stopped"===t||"Stopped by server"===t?n._setState("stopped",t):n._setState("disconnected",t)}},h.prototype.handleMessage=function(t){var e=null;switch(t.error&&((e=new Error(t.error.message)).code=t.error.code,e.data=t,delete t.error),t.a){case"init":return 1!==t.protocol?(e=new l(4019,"Invalid protocol version"),this.emit("error",e)):"string"!=typeof t.id?(e=new l(4021,"Invalid client id"),this.emit("error",e)):(this.id=t.id,void this._setState("connected"));case"qf":return void((n=this.queries[t.id])&&n._handleFetch(e,t.data,t.extra));case"qs":return void((n=this.queries[t.id])&&n._handleSubscribe(e,t.data,t.extra));case"qu":return;case"q":var n;if(!(n=this.queries[t.id]))return;return e?n._handleError(e):(t.diff&&n._handleDiff(t.diff),void(t.hasOwnProperty("extra")&&n._handleExtra(t.extra)));case"bf":return this._handleBulkMessage(t,"_handleFetch");case"bs":return this._handleBulkMessage(t,"_handleSubscribe");case"bu":return this._handleBulkMessage(t,"_handleUnsubscribe");case"nf":return this._handleSnapshotFetch(e,t);case"f":return void((o=this.getExisting(t.c,t.d))&&o._handleFetch(e,t.data));case"s":return void((o=this.getExisting(t.c,t.d))&&o._handleSubscribe(e,t.data));case"u":return void((o=this.getExisting(t.c,t.d))&&o._handleUnsubscribe(e));case"op":return void((o=this.getExisting(t.c,t.d))&&o._handleOp(e,t));case"p":var o;return void((o=this.getExisting(t.c,t.d))&&o._handlePresence(e,t));default:r.warn("Ignoring unrecognized message",t)}},h.prototype._handleBulkMessage=function(t,e){if(t.data)for(var n in t.data)(i=this.getExisting(t.c,n))&&i[e](t.error,t.data[n]);else if(Array.isArray(t.b))for(var o=0;o<t.b.length;o++)n=t.b[o],(i=this.getExisting(t.c,n))&&i[e](t.error);else if(t.b)for(var n in t.b){var i;(i=this.getExisting(t.c,n))&&i[e](t.error)}else r.error("Invalid bulk message",t)},h.prototype._reset=function(){this.seq=1,this.id=null,this.agent=null},h.prototype._setState=function(t,e){if(this.state!==t){if("connecting"===t&&"disconnected"!==this.state&&"stopped"!==this.state&&"closed"!==this.state||"connected"===t&&"connecting"!==this.state){var n=new l(5007,"Cannot transition directly from "+this.state+" to "+t);return this.emit("error",n)}for(var r in this.state=t,this.canSend="connected"===t,"disconnected"!==t&&"stopped"!==t&&"closed"!==t||this._reset(),this.startBulk(),this.queries)this.queries[r]._onConnectionStateChanged();for(var o in this.collections){var i=this.collections[o];for(var r in i)i[r]._onConnectionStateChanged()}for(var r in this._snapshotRequests)this._snapshotRequests[r]._onConnectionStateChanged();this.endBulk(),this.emit(t,e),this.emit("state",t,e)}},h.prototype.startBulk=function(){this.bulk||(this.bulk={})},h.prototype.endBulk=function(){if(this.bulk)for(var t in this.bulk){var e=this.bulk[t];this._sendBulk("f",t,e.f),this._sendBulk("s",t,e.s),this._sendBulk("u",t,e.u)}this.bulk=null},h.prototype._sendBulk=function(t,e,n){if(n){var r,o=[],i={},s=0;for(var c in n){var a=n[c];null==a?o.push(c):(i[c]=a,r=c,s++)}if(1===o.length?(c=o[0],this.send({a:t,c:e,d:c})):o.length&&this.send({a:"b"+t,c:e,b:o}),1===s){var u=i[r];this.send({a:t,c:e,d:r,v:u})}else s&&this.send({a:"b"+t,c:e,b:i})}},h.prototype._sendAction=function(t,e,n){if(this._addDoc(e),this.bulk){var r=this.bulk[e.collection]||(this.bulk[e.collection]={}),o=r[t]||(r[t]={}),i=o.hasOwnProperty(e.id);return o[e.id]=n,i}var s={a:t,c:e.collection,d:e.id,v:n};this.send(s)},h.prototype.sendFetch=function(t){return this._sendAction("f",t,t.version)},h.prototype.sendSubscribe=function(t){return this._sendAction("s",t,t.version)},h.prototype.sendUnsubscribe=function(t){return this._sendAction("u",t)},h.prototype.sendOp=function(t,e){this._addDoc(t);var n={a:"op",c:t.collection,d:t.id,v:t.version,src:e.src,seq:e.seq};e.op&&(n.op=e.op),e.create&&(n.create=e.create),e.del&&(n.del=e.del),this.send(n)},h.prototype.sendPresence=function(t,e,n){this._addDoc(t);var r={a:"p",c:t.collection,d:t.id,p:e,v:t.version||0,seq:this.seq++};n&&(r.r=!0),this.send(r)},h.prototype.send=function(t){this.debug&&r.log("SEND",JSON.stringify(t)),this.emit("send",t),this.socket.send(JSON.stringify(t))},h.prototype.close=function(){this.socket.close()},h.prototype.getExisting=function(t,e){if(this.collections[t])return this.collections[t][e]},h.prototype.get=function(t,e){var n=this.collections[t]||(this.collections[t]={}),r=n[e];return r||(r=n[e]=new i(this,t,e),this.emit("doc",r)),r},h.prototype._destroyDoc=function(t){var e=this.collections[t.collection];e&&(delete e[t.id],p.hasKeys(e)||delete this.collections[t.collection])},h.prototype._addDoc=function(t){var e=this.collections[t.collection];e||(e=this.collections[t.collection]={}),e[t.id]!==t&&(e[t.id]=t)},h.prototype._createQuery=function(t,e,n,r,o){var i=this.nextQueryId++,c=new s(t,this,i,e,n,r,o);return this.queries[i]=c,c.send(),c},h.prototype._destroyQuery=function(t){delete this.queries[t.id]},h.prototype.createFetchQuery=function(t,e,n,r){return this._createQuery("qf",t,e,n,r)},h.prototype.createSubscribeQuery=function(t,e,n,r){return this._createQuery("qs",t,e,n,r)},h.prototype.hasPending=function(){return!!(this._firstDoc(y)||this._firstQuery(y)||this._firstSnapshotRequest())},h.prototype.hasWritePending=function(){return!!this._firstDoc(d)},h.prototype.whenNothingPending=function(t){var e=this._firstDoc(y);if(e)e.once("nothing pending",this._nothingPendingRetry(t));else{var n=this._firstQuery(y);if(n)n.once("ready",this._nothingPendingRetry(t));else{var r=this._firstSnapshotRequest();r?r.once("ready",this._nothingPendingRetry(t)):o.nextTick(t)}}},h.prototype._nothingPendingRetry=function(t){var e=this;return function(){o.nextTick((function(){e.whenNothingPending(t)}))}},h.prototype._firstDoc=function(t){for(var e in this.collections){var n=this.collections[e];for(var r in n){var o=n[r];if(t(o))return o}}},h.prototype._firstQuery=function(t){for(var e in this.queries){var n=this.queries[e];if(t(n))return n}},h.prototype.createUndoManager=function(t){var e=new c(this,t);return this.undoManagers.push(e),e},h.prototype.removeUndoManager=function(t){var e=this.undoManagers.indexOf(t);e>=0&&this.undoManagers.splice(e,1)},h.prototype.onDocLoad=function(t){for(var e=0;e<this.undoManagers.length;e++)this.undoManagers[e].onDocLoad(t)},h.prototype.onDocDestroy=function(t){for(var e=0;e<this.undoManagers.length;e++)this.undoManagers[e].onDocDestroy(t)},h.prototype.onDocCreate=function(t){for(var e=0;e<this.undoManagers.length;e++)this.undoManagers[e].onDocCreate(t)},h.prototype.onDocDelete=function(t){for(var e=0;e<this.undoManagers.length;e++)this.undoManagers[e].onDocDelete(t)},h.prototype.onDocOp=function(t,e,n,r,o,i){for(var s=0;s<this.undoManagers.length;s++)this.undoManagers[s].onDocOp(t,e,n,r,o,i)},h.prototype._firstSnapshotRequest=function(){for(var t in this._snapshotRequests)return this._snapshotRequests[t]},h.prototype.fetchSnapshot=function(t,e,n,r){"function"==typeof n&&(r=n,n=null);var o=this.nextSnapshotRequestId++,i=new a(this,o,t,e,n,r);this._snapshotRequests[i.requestId]=i,i.send()},h.prototype._handleSnapshotFetch=function(t,e){var n=this._snapshotRequests[e.id];n&&(delete this._snapshotRequests[e.id],n._handleResponse(t,e))}},6559:function(t,e,n){var r=n(4155),o=n(5108),i=n(522),s=n(4253),c=n(8299);function a(t,e,n){i.EventEmitter.call(this),this.connection=t,this.collection=e,this.id=n,this.version=null,this.type=null,this.data=void 0,this.presence=Object.create(null),this.receivedPresence=Object.create(null),this.receivedPresenceTimeout=6e4,this.requestReplyPresence=!0,this.cachedOps=[],this.cachedOpsTimeout=6e4,this.inflightPresenceSeq=0,this.inflightFetch=[],this.inflightSubscribe=[],this.inflightUnsubscribe=[],this.inflightPresence=null,this.pendingFetch=[],this.pendingPresence=null,this.subscribed=!1,this.wantSubscribe=!1,this.inflightOp=null,this.pendingOps=[],this.type=null,this.applyStack=null,this.preventCompose=!1}function u(t,e,n){if(e){var r=t.pop();t.push((function(t){r&&r(t),n&&n(t)}))}else t.push(n)}function l(t,e){if(t.del)return delete(n=e).op,delete n.create,void delete n.del;var n;if(e.del)return new s(4017,"Document was deleted");if(e.create)return new s(4018,"Document alredy created");if(e.op){if(t.create)return new s(4018,"Document already created");if(t.type.transformX){var r=t.type.transformX(t.op,e.op);t.op=r[0],e.op=r[1]}else{var o=t.type.transform(t.op,e.op,"left"),i=t.type.transform(e.op,t.op,"right");t.op=o,e.op=i}}}function p(t,e){for(var n=!1,r=0;r<t.length;r++){var o=t[r];o&&(o(e),n=!0)}return n}t.exports=a,i.mixin(a),a.prototype.destroy=function(t){var e=this;e.whenNothingPending((function(){e.wantSubscribe?e.unsubscribe((function(n){if(n)return t?t(n):e.emit("error",n);e.receivedPresence=Object.create(null),e.cachedOps.length=0,e.connection._destroyDoc(e),e.connection.onDocDestroy(e),t&&t()})):(e.receivedPresence=Object.create(null),e.cachedOps.length=0,e.connection._destroyDoc(e),e.connection.onDocDestroy(e),t&&t())}))},a.prototype._setType=function(t){if("string"==typeof t&&(t=c.map[t]),t)this.type=t;else{if(null!==t){var e=new s(4008,"Missing type "+t);return this.emit("error",e)}this.type=t,this.data=void 0}},a.prototype.ingestSnapshot=function(t,e){if(!t)return e&&e();if("number"!=typeof t.v){var n=new s(5008,"Missing version in ingested snapshot. "+this.collection+"."+this.id);return e?e(n):this.emit("error",n)}if(this.type||this.hasWritePending())return null==this.version?this.hasWritePending()?e&&this.once("no write pending",e):(n=new s(5009,"Cannot ingest snapshot in doc with null version. "+this.collection+"."+this.id),e?e(n):this.emit("error",n)):t.v>this.version?this.fetch(e):e&&e();if(this.version>t.v)return e&&e();this.version=t.v,this.cachedOps.length=0;var r=void 0===t.type?c.defaultType:t.type;this._setType(r),this.data=this.type&&this.type.deserialize?this.type.deserialize(t.data):t.data,this.connection.onDocLoad(this),this.emit("load"),this._processAllReceivedPresence(),e&&e()},a.prototype.whenNothingPending=function(t){var e=this;r.nextTick((function(){e.hasPending()?e.once("nothing pending",t):t()}))},a.prototype.hasPending=function(){return!!(this.inflightOp||this.pendingOps.length||this.inflightFetch.length||this.inflightSubscribe.length||this.inflightUnsubscribe.length||this.pendingFetch.length||this.inflightPresence||this.pendingPresence)},a.prototype.hasWritePending=function(){return!(!this.inflightOp&&!this.pendingOps.length)},a.prototype._emitNothingPending=function(){this.hasWritePending()||(this.emit("no write pending"),this.hasPending()||this.emit("nothing pending"))},a.prototype._emitResponseError=function(t,e){if(e)return e(t),void this._emitNothingPending();this._emitNothingPending(),this.emit("error",t)},a.prototype._handleFetch=function(t,e){var n=this.inflightFetch.shift();if(t)return this._emitResponseError(t,n);this.ingestSnapshot(e,n),this._emitNothingPending()},a.prototype._handleSubscribe=function(t,e){var n=this.inflightSubscribe.shift();if(t)return this._emitResponseError(t,n);this.wantSubscribe&&(this.subscribed=!0),this.ingestSnapshot(e,n),this._emitNothingPending(),this.flush()},a.prototype._handleUnsubscribe=function(t){var e=this.inflightUnsubscribe.shift();if(t)return this._emitResponseError(t,e);e&&e(),this._emitNothingPending()},a.prototype._handleOp=function(t,e){if(t)return this.inflightOp?(4002===t.code&&(t=null),this._rollback(t)):this.emit("error",t);if(this.inflightOp&&e.src===this.inflightOp.src&&e.seq===this.inflightOp.seq)this._opAcknowledged(e);else if(null==this.version||e.v>this.version)this.fetch();else if(!(e.v<this.version)){var n={src:e.src,time:Date.now(),create:!!e.create,op:e.op,del:!!e.del};if(this.inflightOp&&(o=l(this.inflightOp,e)))return this._hardRollback(o);for(var r=0;r<this.pendingOps.length;r++){var o;if(o=l(this.pendingOps[r],e))return this._hardRollback(o)}this.version++,this._cacheOp(n),this._otApply(e),this._processAllReceivedPresence()}},a.prototype._onConnectionStateChanged=function(){if(this.connection.canSend)this.flush(),this._resubscribe();else if(this.inflightOp&&(this.pendingOps.unshift(this.inflightOp),this.inflightOp=null),this.subscribed=!1,(this.inflightFetch.length||this.inflightSubscribe.length)&&(this.pendingFetch=this.pendingFetch.concat(this.inflightFetch,this.inflightSubscribe),this.inflightFetch.length=0,this.inflightSubscribe.length=0),this.inflightUnsubscribe.length){var t=this.inflightUnsubscribe;this.inflightUnsubscribe=[],this._pausePresence(),p(t)}else this._pausePresence()},a.prototype._resubscribe=function(){var t=this,e=this.pendingFetch;if(this.pendingFetch=[],this.wantSubscribe)return e.length?void this.subscribe((function(n){var r=p(e,n);n&&!r&&t.emit("error",n)})):void this.subscribe();e.length&&this.fetch((function(n){var r=p(e,n);n&&!r&&t.emit("error",n)}))},a.prototype.fetch=function(t){if(this.connection.canSend){var e=this.connection.sendFetch(this);u(this.inflightFetch,e,t)}else this.pendingFetch.push(t)},a.prototype.subscribe=function(t){if(this.wantSubscribe=!0,this.connection.canSend){var e=this.connection.sendSubscribe(this);u(this.inflightSubscribe,e,t)}else this.pendingFetch.push(t)},a.prototype.unsubscribe=function(t){if(this.wantSubscribe=!1,this.subscribed=!1,this.connection.canSend){var e=this.connection.sendUnsubscribe(this);return u(this.inflightUnsubscribe,e,t),void this._pausePresence()}this._pausePresence(),t&&r.nextTick(t)},a.prototype.flush=function(){this.paused||(this.connection.canSend&&!this.inflightOp&&this.pendingOps.length&&this._sendOp(),this.subscribed&&!this.inflightPresence&&this.pendingPresence&&!this.hasWritePending()&&(this.inflightPresence=this.pendingPresence,this.inflightPresenceSeq=this.connection.seq,this.pendingPresence=null,this.connection.sendPresence(this,this.presence[""],this.requestReplyPresence),this.requestReplyPresence=!1))},a.prototype._otApply=function(t,e){var n=e&&e.source||!1;if(t.op){if(!this.type){var r=new s(4015,"Cannot apply op to uncreated document. "+this.collection+"."+this.id);return this.emit("error",r)}var o=e&&e.undoOp||null,i=e&&e.undoable||!1,a=e&&e.fixUp||!1;if(!n&&this.type===c.defaultType&&t.op.length>1){this.applyStack||(this.applyStack=[]);for(var u=this.applyStack.length,p=0;p<t.op.length;p++){for(var f={op:[t.op[p]]},h=u;h<this.applyStack.length;h++){var y=l(this.applyStack[h],f);if(y)return this._hardRollback(y)}this.emit("before op",f.op,n),this._applyOp(f,o,n,i,a),this._transformAllPresence(f),this.emit("op",f.op,n)}return void this._popApplyStack(u)}return this.emit("before op",t.op,n),this._applyOp(t,o,n,i,a),this._transformAllPresence(t),void this.emit("op",t.op,n)}if(t.create)return this._setType(t.create.type),this.data=this.type.deserialize?this.type.createDeserialized?this.type.createDeserialized(t.create.data):this.type.deserialize(this.type.create(t.create.data)):this.type.create(t.create.data),this._transformAllPresence(t),this.connection.onDocCreate(this),void this.emit("create",n);if(t.del){var d=this.data;return this._setType(null),this._transformAllPresence(t),this.connection.onDocDelete(this),void this.emit("del",d,n)}},a.prototype._applyOp=function(t,e,n,r,o){if(null==e&&(r||o||t.needsUndoOp))if(this.type.applyAndInvert){var i=this.type.applyAndInvert(this.data,t.op);this.data=i[0],e={op:i[1]}}else this.data=this.type.apply(this.data,t.op),e={op:this.type.invert(t.op)};else this.data=this.type.apply(this.data,t.op);this.connection.onDocOp(this,t,e,n,r,o)},a.prototype._sendOp=function(){var t=this.connection.id;if(t){this.inflightOp||(this.inflightOp=this.pendingOps.shift());var e=this.inflightOp;if(!e){var n=new s(5010,"No op to send on call to _sendOp");return this.emit("error",n)}e.sentAt=Date.now(),e.retries=null==e.retries?0:e.retries+1,null==e.seq&&(e.seq=this.connection.seq++),this.connection.sendOp(this,e),null==e.src&&(e.src=t)}},a.prototype._submit=function(t,e,n){if(e||(e={}),e.source||(e.source=!0),t.op){if(!this.type){var o=new s(4015,"Cannot submit op. Document has not been created. "+this.collection+"."+this.id);return n?n(o):this.emit("error",o)}if((e.undoable||e.fixUp||t.needsUndoOp)&&!this.type.invert&&!this.type.applyAndInvert)return o=new s(4028,"Cannot submit op. OT type does not support invert not applyAndInvert. "+this.collection+"."+this.id),n?n(o):this.emit("error",o);if(this.type.normalize&&(t.op=this.type.normalize(t.op)),e.skipNoop&&this.type.isNoop&&this.type.isNoop(t.op))return void(n&&r.nextTick(n))}this._pushOp(t,n),this._otApply(t,e);var i=this;r.nextTick((function(){i.flush()}))},a.prototype._pushOp=function(t,e){if(this.applyStack)this.applyStack.push(t);else{var n=this._tryCompose(t);if(n)return void n.callbacks.push(e)}t.type=this.type,t.callbacks=[e],this.pendingOps.push(t)},a.prototype._popApplyStack=function(t){if(t>0)this.applyStack.length=t;else{var e=this.applyStack[0];if(this.applyStack=null,e&&-1!==(r=this.pendingOps.indexOf(e)))for(var n=this.pendingOps.splice(r),r=0;r<n.length;r++){e=n[r];var o=this._tryCompose(e);o?o.callbacks=o.callbacks.concat(e.callbacks):this.pendingOps.push(e)}}},a.prototype._tryCompose=function(t){if(!this.preventCompose){var e=this.pendingOps[this.pendingOps.length-1];if(e)return e.op&&t.op&&this.type.compose?(e.op=this.type.compose(e.op,t.op),e):void 0}},a.prototype.submitOp=function(t,e,n){"function"==typeof e&&(n=e,e=null);var r={op:t},o={source:e&&e.source,skipNoop:e&&e.skipNoop,undoable:e&&e.undoable,fixUp:e&&e.fixUp};this._submit(r,o,n)},a.prototype.submitSnapshot=function(t,e,n){if("function"==typeof e&&(n=e,e=null),!this.type){var r=new s(4015,"Cannot submit snapshot. Document has not been created. "+this.collection+"."+this.id);return n?n(r):this.emit("error",r)}if(!this.type.diff&&!this.type.diffX)return r=new s(4027,"Cannot submit snapshot. Document type does not support diff nor diffX. "+this.collection+"."+this.id),n?n(r):this.emit("error",r);var o,i,c=!(!e||!e.undoable),a=e&&e.fixUp,u=e&&e.diffHint;if((c||a)&&this.type.diffX||!this.type.diff){var l=this.type.diffX(this.data,t,u);i={op:l[0]},o={op:l[1]}}else i=null,o={op:this.type.diff(this.data,t,u)};var p={source:e&&e.source,skipNoop:e&&e.skipNoop,undoable:c,undoOp:i,fixUp:a};this._submit(o,p,n)},a.prototype.create=function(t,e,n,r){if("function"==typeof e?(r=e,n=null,e=null):"function"==typeof n&&(r=n,n=null),e||(e=c.defaultType.uri),this.type){var o=new s(4016,"Document already exists");return r?r(o):this.emit("error",o)}var i={create:{type:e,data:t}},a=n&&n.source;this._submit(i,{source:a},r)},a.prototype.del=function(t,e){if("function"==typeof t&&(e=t,t=null),!this.type){var n=new s(4015,"Document does not exist");return e?e(n):this.emit("error",n)}var r=t&&t.source;this._submit({del:!0},{source:r},e)},a.prototype.pause=function(){this.paused=!0},a.prototype.resume=function(){this.paused=!1,this.flush()},a.prototype._opAcknowledged=function(t){if(this.inflightOp.create)this.version=t.v,this.cachedOps.length=0;else if(t.v!==this.version)return o.warn("Invalid version from server. Expected: "+this.version+" Received: "+t.v,t),this.fetch();this.version++,this._cacheOp({src:this.inflightOp.src,time:Date.now(),create:!!this.inflightOp.create,op:this.inflightOp.op,del:!!this.inflightOp.del}),this._clearInflightOp(),this._processAllReceivedPresence()},a.prototype._rollback=function(t){var e=this.inflightOp;if(e.op&&e.type.invert){e.op=e.type.invert(e.op);for(var n=0;n<this.pendingOps.length;n++){var r=l(this.pendingOps[n],e);if(r)return this._hardRollback(r)}return this._otApply(e),void this._clearInflightOp(t)}this._hardRollback(t)},a.prototype._hardRollback=function(t){var e=[];this.inflightPresence&&(e.push.apply(e,this.inflightPresence),this.inflightPresence=null,this.inflightPresenceSeq=0),this.pendingPresence&&(e.push.apply(e,this.pendingPresence),this.pendingPresence=null),this.inflightOp&&e.push.apply(e,this.inflightOp.callbacks);for(var n=0;n<this.pendingOps.length;n++)e.push.apply(e,this.pendingOps[n].callbacks);this._setType(null),this.version=null,this.inflightOp=null,this.pendingOps=[],this.cachedOps.length=0,this.receivedPresence=Object.create(null),this.requestReplyPresence=!0;var r=Object.keys(this.presence),o=[];for(n=0;n<r.length;n++){var i=r[n];this._setPresence(i,null)&&o.push(i)}this._emitPresence(o,!1);var s=this;this.fetch((function(){var n=p(e,t);if(t&&!n)return s.emit("error",t)}))},a.prototype._clearInflightOp=function(t){var e=this.inflightOp&&this.inflightOp.callbacks;this.inflightOp=null;var n=e&&p(e,t);if(this.flush(),this._emitNothingPending(),t&&!n)return this.emit("error",t)},a.prototype.submitPresence=function(t,e){if(null!=t){if(!this.type){var n=this;return r.nextTick((function(){var t=new s(4015,"Cannot submit presence. Document has not been created. "+n.collection+"."+n.id);if(e)return e(t);n.emit("error",t)}))}if(!this.type.createPresence||!this.type.transformPresence)return n=this,r.nextTick((function(){var t=new s(4029,"Cannot submit presence. Document's type does not support presence. "+n.collection+"."+n.id);if(e)return e(t);n.emit("error",t)}));t=this.type.createPresence(t)}this._setPresence("",t,!0)||this.pendingPresence||this.inflightPresence?(this.pendingPresence||(this.pendingPresence=[]),e&&this.pendingPresence.push(e)):e&&r.nextTick(e),n=this,r.nextTick((function(){n.flush()}))},a.prototype._handlePresence=function(t,e){if(this.subscribed){var n=e.src;if(n){if(t)return this.emit("error",t);if(e.r&&!this.pendingPresence&&(this.pendingPresence=[],this.flush()),!this.receivedPresence[n]||!(this.receivedPresence[n].seq>e.seq||this.receivedPresence[n].seq===e.seq&&null!=e.v))return this.receivedPresence[n]=e,null==e.v?(e.processedAt=Date.now(),this._setPresence(n,null,!0)):null==this.version||this.version<e.v?this.fetch():void this._processReceivedPresence(n,!0)}else if(this.inflightPresenceSeq===e.seq){var r=this.inflightPresence;this.inflightPresence=null,this.inflightPresenceSeq=0;var o=r&&p(r,t);t&&!o&&this.emit("error",t),this.flush(),this._emitNothingPending()}}},a.prototype._processReceivedPresence=function(t,e){if(!t)return!1;var n=this.receivedPresence[t];if(!n)return!1;if(null!=n.processedAt)return Date.now()>=n.processedAt+this.receivedPresenceTimeout&&delete this.receivedPresence[t],!1;if(null==this.version||this.version<n.v)return!1;if(null==n.p)return n.processedAt=Date.now(),this._setPresence(t,null,e);if(!this.type||!this.type.createPresence||!this.type.transformPresence)return n.processedAt=Date.now(),this._setPresence(t,null,e);if(this.inflightOp&&null==this.inflightOp.op)return n.processedAt=Date.now(),this._setPresence(t,null,e);for(var r=0;r<this.pendingOps.length;r++)if(null==this.pendingOps[r].op)return n.processedAt=Date.now(),this._setPresence(t,null,e);var o=this.cachedOps.length-(this.version-n.v);if(o<0)return n.processedAt=Date.now(),this._setPresence(t,null,e);for(r=o;r<this.cachedOps.length;r++)if(null==this.cachedOps[r].op)return n.processedAt=Date.now(),this._setPresence(t,null,e);var i=this.type.createPresence(n.p);for(r=o;r<this.cachedOps.length;r++){var s=this.cachedOps[r];i=this.type.transformPresence(i,s.op,n.src===s.src)}for(this.inflightOp&&(i=this.type.transformPresence(i,this.inflightOp.op,!1)),r=0;r<this.pendingOps.length;r++)i=this.type.transformPresence(i,this.pendingOps[r].op,!1);return n.processedAt=Date.now(),this._setPresence(t,i,e)},a.prototype._processAllReceivedPresence=function(){for(var t=Object.keys(this.receivedPresence),e=[],n=0;n<t.length;n++){var r=t[n];this._processReceivedPresence(r)&&e.push(r)}this._emitPresence(e,!0)},a.prototype._transformPresence=function(t,e){var n=this.presence[t];if(null!=e.op){var r=t===(e.src||"");n=this.type.transformPresence(n,e.op,r)}else n=null;return this._setPresence(t,n)},a.prototype._transformAllPresence=function(t){for(var e=Object.keys(this.presence),n=[],r=0;r<e.length;r++){var o=e[r];this._transformPresence(o,t)&&n.push(o)}this._emitPresence(n,!1)},a.prototype._pausePresence=function(){this.inflightPresence?(this.pendingPresence=this.pendingPresence?this.inflightPresence.concat(this.pendingPresence):this.inflightPresence,this.inflightPresence=null,this.inflightPresenceSeq=0):this.pendingPresence||null==this.presence[""]||(this.pendingPresence=[]),this.receivedPresence=Object.create(null),this.requestReplyPresence=!0;for(var t=Object.keys(this.presence),e=[],n=0;n<t.length;n++){var r=t[n];r&&this._setPresence(r,null)&&e.push(r)}this._emitPresence(e,!1)},a.prototype._setPresence=function(t,e,n){if(null==e){if(null==this.presence[t])return!1;delete this.presence[t]}else{if(this.presence[t]===e||this.type.comparePresence&&this.type.comparePresence(this.presence[t],e))return!1;this.presence[t]=e}return n&&this._emitPresence([t],!0),!0},a.prototype._emitPresence=function(t,e){if(t&&t.length>0){var n=this;r.nextTick((function(){n.emit("presence",t,e)}))}},a.prototype._cacheOp=function(t){var e,n=Date.now()-this.cachedOpsTimeout;for(e=0;e<this.cachedOps.length&&!(this.cachedOps[e].time>=n);e++);e>0&&this.cachedOps.splice(0,e),this.cachedOps.push(t)}},6330:function(t,e,n){e.Connection=n(9346),n(6559),n(4253),n(2538),e.types=n(8299)},2538:function(t,e,n){var r=n(4155),o=n(522);function i(t,e,n,r,i,s,c){o.EventEmitter.call(this),this.action=t,this.connection=e,this.id=n,this.collection=r,this.query=i,this.results=null,s&&s.results&&(this.results=s.results,delete s.results),this.extra=void 0,this.options=s,this.callback=c,this.ready=!1,this.sent=!1}t.exports=i,o.mixin(i),i.prototype.hasPending=function(){return!this.ready},i.prototype.send=function(){if(this.connection.canSend){var t={a:this.action,id:this.id,c:this.collection,q:this.query};if(this.options&&(t.o=this.options),this.results){for(var e=[],n=0;n<this.results.length;n++){var r=this.results[n];e.push([r.id,r.version])}t.r=e}this.connection.send(t),this.sent=!0}},i.prototype.destroy=function(t){this.connection.canSend&&"qs"===this.action&&this.connection.send({a:"qu",id:this.id}),this.connection._destroyQuery(this),t&&r.nextTick(t)},i.prototype._onConnectionStateChanged=function(){this.connection.canSend&&!this.sent?this.send():this.sent=!1},i.prototype._handleFetch=function(t,e,n){this.connection._destroyQuery(this),this._handleResponse(t,e,n)},i.prototype._handleSubscribe=function(t,e,n){this._handleResponse(t,e,n)},i.prototype._handleResponse=function(t,e,n){var r=this.callback;if(this.callback=null,t)return this._finishResponse(t,r);if(!e)return this._finishResponse(null,r);var o=this,i=1,s=function(t){if(t)return o._finishResponse(t,r);--i||o._finishResponse(null,r)};if(Array.isArray(e))i+=e.length,this.results=this._ingestSnapshots(e,s),this.extra=n;else for(var c in e){i++;var a=e[c];this.connection.get(a.c||this.collection,c).ingestSnapshot(a,s)}s()},i.prototype._ingestSnapshots=function(t,e){for(var n=[],r=0;r<t.length;r++){var o=t[r],i=this.connection.get(o.c||this.collection,o.d);i.ingestSnapshot(o,e),n.push(i)}return n},i.prototype._finishResponse=function(t,e){if(this.emit("ready"),this.ready=!0,t)return this.connection._destroyQuery(this),e?e(t):this.emit("error",t);e&&e(null,this.results,this.extra)},i.prototype._handleError=function(t){this.emit("error",t)},i.prototype._handleDiff=function(t){for(var e=0;e<t.length;e++)"insert"===(n=t[e]).type&&(n.values=this._ingestSnapshots(n.values));for(e=0;e<t.length;e++){var n;switch((n=t[e]).type){case"insert":var r=n.values;Array.prototype.splice.apply(this.results,[n.index,0].concat(r)),this.emit("insert",r,n.index);break;case"remove":var o=n.howMany||1,i=this.results.splice(n.index,o);this.emit("remove",i,n.index);break;case"move":o=n.howMany||1;var s=this.results.splice(n.from,o);Array.prototype.splice.apply(this.results,[n.to,0].concat(s)),this.emit("move",s,n.from,n.to)}}this.emit("changed",this.results)},i.prototype._handleExtra=function(t){this.extra=t,this.emit("extra",t)}},6904:function(t,e,n){var r=n(5727),o=n(496),i=n(522);function s(t,e,n,r,s,c){if(i.EventEmitter.call(this),"function"!=typeof c)throw new Error("Callback is required for SnapshotRequest");if(!o.isValidVersion(s))throw new Error("Snapshot version must be a positive integer or null");this.requestId=e,this.connection=t,this.id=r,this.collection=n,this.version=s,this.callback=c,this.sent=!1}t.exports=s,i.mixin(s),s.prototype.send=function(){if(this.connection.canSend){var t={a:"nf",id:this.requestId,c:this.collection,d:this.id,v:this.version};this.connection.send(t),this.sent=!0}},s.prototype._onConnectionStateChanged=function(){this.connection.canSend?this.sent||this.send():this.sent=!1},s.prototype._handleResponse=function(t,e){if(this.emit("ready"),t)return this.callback(t);var n=new r(this.id,e.v,e.type,e.data,null);this.callback(null,n)}},3140:function(t,e,n){var r=n(4155);function o(t,e){for(var n=t.length-1;n>=0&&t[n].doc!==e;)n--;return n}function i(t){var e=t.length-1;if(e<0)throw new Error("List empty");return t[e]}function s(t,e){var n=t.length-1;if(n<0)throw new Error("List empty");t[n]=e}function c(t,e){this.op=t,this.doc=e,this.needsUndoOp=!0}function a(t,e){this._connection=t,this._source=e&&e.source,this._limit=e&&"number"==typeof e.limit?e.limit:100,this._composeInterval=e&&"number"==typeof e.composeInterval?e.composeInterval:1e3,this._undoStack=[],this._redoStack=[],this._previousUndoableOperationTime=-1/0}t.exports=a,a.prototype.destroy=function(){this._connection.removeUndoManager(this),this.clear()},a.prototype.clear=function(t){if(t){var e=function(e){return e.doc!==t};this._undoStack=this._undoStack.filter(e),this._redoStack=this._redoStack.filter(e)}else this._undoStack.length=0,this._redoStack.length=0},a.prototype.canUndo=function(){return this._undoStack.length>0},a.prototype.undo=function(t,e){if("function"==typeof t&&(e=t,t=null),this.canUndo()){var n=i(this._undoStack),o={source:t&&t.source};n.doc._submit(n,o,e)}else e&&r.nextTick(e)},a.prototype.canRedo=function(){return this._redoStack.length>0},a.prototype.redo=function(t,e){if("function"==typeof t&&(e=t,t=null),this.canRedo()){var n=i(this._redoStack),o={source:t&&t.source};n.doc._submit(n,o,e)}else e&&r.nextTick(e)},a.prototype.onDocLoad=function(t){this.clear(t)},a.prototype.onDocDestroy=function(t){this.clear(t)},a.prototype.onDocCreate=function(t){},a.prototype.onDocDelete=function(t){this.clear(t)},a.prototype.onDocOp=function(t,e,n,r,o,s){this.canUndo()&&i(this._undoStack)===e?(this._undoStack.pop(),this._updateStacksUndo(t,e.op,n.op)):this.canRedo()&&i(this._redoStack)===e?(this._redoStack.pop(),this._updateStacksRedo(t,e.op,n.op)):s||!o||null!=this._source&&this._source!==r?this._updateStacksFixed(t,e.op,n&&n.op,s):this._updateStacksUndoable(t,e.op,n.op)},a.prototype._updateStacksUndoable=function(t,e,n){var r=t.type.isNoop;if(!r||!r(n)){var o=Date.now();if(0===this._undoStack.length||i(this._undoStack).doc!==t||o-this._previousUndoableOperationTime>this._composeInterval)this._undoStack.push(new c(n,t));else if(t.type.composeSimilar){var a=i(this._undoStack);null!=(u=t.type.composeSimilar(n,a.op))?s(this._undoStack,new c(u,t)):this._undoStack.push(new c(n,t))}else if(t.type.compose){a=i(this._undoStack);var u=t.type.compose(n,a.op);s(this._undoStack,new c(u,t))}else this._undoStack.push(new c(n,t));this._redoStack.length=0,this._previousUndoableOperationTime=o,r&&r(i(this._undoStack).op)&&this._undoStack.pop();var l=this._undoStack.length-this._limit;l>0&&this._undoStack.splice(0,l)}},a.prototype._updateStacksUndo=function(t,e,n){t.type.isNoop&&t.type.isNoop(n)||this._redoStack.push(new c(n,t)),this._previousUndoableOperationTime=-1/0},a.prototype._updateStacksRedo=function(t,e,n){t.type.isNoop&&t.type.isNoop(n)||this._undoStack.push(new c(n,t)),this._previousUndoableOperationTime=-1/0},a.prototype._updateStacksFixed=function(t,e,n,r){if(r&&null!=n&&t.type.compose){var i=o(this._undoStack,t);if(i>=0){var s=this._undoStack[i],a=t.type.compose(n,s.op);t.type.isNoop&&t.type.isNoop(a)?this._undoStack.splice(i,1):this._undoStack[i]=new c(a,t)}var u=o(this._redoStack,t);u>=0&&(s=this._redoStack[u],a=t.type.compose(n,s.op),t.type.isNoop&&t.type.isNoop(a)?this._redoStack.splice(u,1):this._redoStack[u]=new c(a,t))}else this._undoStack=this._transformStack(this._undoStack,t,e),this._redoStack=this._transformStack(this._redoStack,t,e)},a.prototype._transformStack=function(t,e,n){for(var r=e.type.transform,o=e.type.transformX,i=e.type.isNoop,s=[],a=0,u=t.length-1;u>=0;--u){var l=t[u];if(l.doc===e){var p,f,h=l.op;if(o){var y=o(n,h);f=y[0],p=y[1]}else f=r(n,h,"left"),p=r(h,n,"right");i&&i(p)||(s[a++]=new c(p,e)),n=f}else s[a++]=l}return s.reverse()}},522:function(t,e,n){var r=n(7187).EventEmitter;e.EventEmitter=r,e.mixin=function(t){for(var e in r.prototype)t.prototype[e]=r.prototype[e]}},4253:function(t,e,n){function r(t,e){r.super.call(this,e),this.code=t}n(1432)(r),t.exports=r},5727:function(t){t.exports=function(t,e,n,r,o){this.id=t,this.v=e,this.type=n,this.data=r,this.m=o}},8299:function(t,e,n){e.defaultType=n(9517).type,e.map={},e.register=function(t){t.name&&(e.map[t.name]=t),t.uri&&(e.map[t.uri]=t)},e.register(e.defaultType)},496:function(t,e){e.doNothing=function(){},e.hasKeys=function(t){for(var e in t)return!0;return!1},e.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},e.isValidVersion=function(t){return null===t||e.isInteger(t)&&t>=0}},7787:function(t){t.exports=function(t,e,n,r){var o=t.transformX=function(t,i){n(t),n(i);for(var s,c,a,u=[],l=0;l<i.length;l++){for(var p=i[l],f=[],h=0;h<t.length;){var y=[];if(s=t[h],a=y,e(f,s,c=p,"left"),e(a,c,s,"right"),h++,1!==y.length){if(0===y.length){for(var d=h;d<t.length;d++)r(f,t[d]);p=null;break}for(var g=o(t.slice(h),y),v=0;v<g[0].length;v++)r(f,g[0][v]);for(var b=0;b<g[1].length;b++)r(u,g[1][b]);p=null;break}p=y[0]}null!=p&&r(u,p),t=f}return[t,u]};t.transform=function(t,n,r){if("left"!==r&&"right"!==r)throw new Error("type must be 'left' or 'right'");return 0===n.length?t:1===t.length&&1===n.length?e([],t[0],n[0],r):"left"===r?o(t,n)[0]:o(n,t)[1]}}},9517:function(t,e,n){t.exports={type:n(5207)}},5207:function(t,e,n){var r=function(t){return"[object Array]"==Object.prototype.toString.call(t)},o=function(t){return JSON.parse(JSON.stringify(t))},i={name:"json0",uri:"http://sharejs.org/types/JSONv0"},s={};function c(t){t.t="text0";var e={p:t.p.pop()};null!=t.si&&(e.i=t.si),null!=t.sd&&(e.d=t.sd),t.o=[e]}function a(t){t.p.push(t.o[0].p),null!=t.o[0].i&&(t.si=t.o[0].i),null!=t.o[0].d&&(t.sd=t.o[0].d),delete t.t,delete t.o}i.registerSubtype=function(t){s[t.name]=t},i.create=function(t){return void 0===t?null:o(t)},i.invertComponent=function(t){var e={p:t.p};return t.t&&s[t.t]&&(e.t=t.t,e.o=s[t.t].invert(t.o)),void 0!==t.si&&(e.sd=t.si),void 0!==t.sd&&(e.si=t.sd),void 0!==t.oi&&(e.od=t.oi),void 0!==t.od&&(e.oi=t.od),void 0!==t.li&&(e.ld=t.li),void 0!==t.ld&&(e.li=t.ld),void 0!==t.na&&(e.na=-t.na),void 0!==t.lm&&(e.lm=t.p[t.p.length-1],e.p=t.p.slice(0,t.p.length-1).concat([t.lm])),e},i.invert=function(t){for(var e=t.slice().reverse(),n=[],r=0;r<e.length;r++)n.push(i.invertComponent(e[r]));return n},i.checkValidOp=function(t){for(var e=0;e<t.length;e++)if(!r(t[e].p))throw new Error("Missing path")},i.checkList=function(t){if(!r(t))throw new Error("Referenced element not a list")},i.checkObj=function(t){if(!(e=t)||e.constructor!==Object)throw new Error("Referenced element not an object (it was "+JSON.stringify(t)+")");var e},i.apply=function(t,e){i.checkValidOp(e),e=o(e);for(var n={data:t},r=0;r<e.length;r++){var a=e[r];null==a.si&&null==a.sd||c(a);for(var u=null,l=n,p="data",f=0;f<a.p.length;f++){var h=a.p[f];if(u=l,l=l[p],p=h,null==u)throw new Error("Path invalid")}if(a.t&&void 0!==a.o&&s[a.t])l[p]=s[a.t].apply(l[p],a.o);else if(void 0!==a.na){if("number"!=typeof l[p])throw new Error("Referenced element not a number");l[p]+=a.na}else if(void 0!==a.li&&void 0!==a.ld)i.checkList(l),l[p]=a.li;else if(void 0!==a.li)i.checkList(l),l.splice(p,0,a.li);else if(void 0!==a.ld)i.checkList(l),l.splice(p,1);else if(void 0!==a.lm){if(i.checkList(l),a.lm!=p){var y=l[p];l.splice(p,1),l.splice(a.lm,0,y)}}else if(void 0!==a.oi)i.checkObj(l),l[p]=a.oi;else{if(void 0===a.od)throw new Error("invalid / missing instruction in op");i.checkObj(l),delete l[p]}}return n.data},i.shatter=function(t){for(var e=[],n=0;n<t.length;n++)e.push([t[n]]);return e},i.incrementalApply=function(t,e,n){for(var r=0;r<e.length;r++){var o=[e[r]];n(o,t=i.apply(t,o))}return t};var u=i.pathMatches=function(t,e,n){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r]&&(!n||r!==t.length-1))return!1;return!0};i.append=function(t,e){if(e=o(e),0!==t.length){var n=t[t.length-1];if(null==e.si&&null==e.sd||null==n.si&&null==n.sd||(c(e),c(n)),u(e.p,n.p))if(e.t&&n.t&&e.t===n.t&&s[e.t]){if(n.o=s[e.t].compose(n.o,e.o),null!=e.si||null!=e.sd){for(var r=e.p,i=0;i<n.o.length-1;i++)e.o=[n.o.pop()],e.p=r.slice(),a(e),t.push(e);a(n)}}else null!=n.na&&null!=e.na?t[t.length-1]={p:n.p,na:n.na+e.na}:void 0!==n.li&&void 0===e.li&&e.ld===n.li?void 0!==n.ld?delete n.li:t.pop():void 0!==n.od&&void 0===n.oi&&void 0!==e.oi&&void 0===e.od?n.oi=e.oi:void 0!==n.oi&&void 0!==e.od?void 0!==e.oi?n.oi=e.oi:void 0!==n.od?delete n.oi:t.pop():void 0!==e.lm&&e.p[e.p.length-1]===e.lm||t.push(e);else null==e.si&&null==e.sd||null==n.si&&null==n.sd||(a(e),a(n)),t.push(e)}else t.push(e)},i.compose=function(t,e){i.checkValidOp(t),i.checkValidOp(e);for(var n=o(t),r=0;r<e.length;r++)i.append(n,e[r]);return n},i.normalize=function(t){var e=[];t=r(t)?t:[t];for(var n=0;n<t.length;n++){var o=t[n];null==o.p&&(o.p=[]),i.append(e,o)}return e},i.commonLengthForOps=function(t,e){var n=t.p.length,r=e.p.length;if((null!=t.na||t.t)&&n++,(null!=e.na||e.t)&&r++,0===n)return-1;if(0===r)return null;n--,r--;for(var o=0;o<n;o++){var i=t.p[o];if(o>=r||i!==e.p[o])return null}return n},i.canOpAffectPath=function(t,e){return null!=i.commonLengthForOps({p:e},t)},i.transformComponent=function(t,e,n,u){e=o(e);var l=i.commonLengthForOps(n,e),p=i.commonLengthForOps(e,n),f=e.p.length,h=n.p.length;if((null!=e.na||e.t)&&f++,(null!=n.na||n.t)&&h++,null!=p&&h>f&&e.p[p]==n.p[p]&&(void 0!==e.ld?((d=o(n)).p=d.p.slice(f),e.ld=i.apply(o(e.ld),[d])):void 0!==e.od&&((d=o(n)).p=d.p.slice(f),e.od=i.apply(o(e.od),[d]))),null!=l){var y=f==h,d=n;if(null==e.si&&null==e.sd||null==n.si&&null==n.sd||(c(e),c(d=o(n))),d.t&&s[d.t]){if(e.t&&e.t===d.t){var g=s[e.t].transform(e.o,d.o,u);if(null!=e.si||null!=e.sd)for(var v=e.p,b=0;b<g.length;b++)e.o=[g[b]],e.p=v.slice(),a(e),i.append(t,e);else(!r(g)||g.length>0)&&(e.o=g,i.append(t,e));return t}}else if(void 0!==n.na);else if(void 0!==n.li&&void 0!==n.ld){if(n.p[l]===e.p[l]){if(!y)return t;if(void 0!==e.ld){if(void 0===e.li||"left"!==u)return t;e.ld=o(n.li)}}}else if(void 0!==n.li)void 0!==e.li&&void 0===e.ld&&y&&e.p[l]===n.p[l]?"right"===u&&e.p[l]++:n.p[l]<=e.p[l]&&e.p[l]++,void 0!==e.lm&&y&&n.p[l]<=e.lm&&e.lm++;else if(void 0!==n.ld){if(void 0!==e.lm&&y){if(n.p[l]===e.p[l])return t;v=n.p[l];var m=e.p[l];(v<(w=e.lm)||v===w&&m<w)&&e.lm--}if(n.p[l]<e.p[l])e.p[l]--;else if(n.p[l]===e.p[l]){if(h<f)return t;if(void 0!==e.ld){if(void 0===e.li)return t;delete e.ld}}}else if(void 0!==n.lm)if(void 0!==e.lm&&f===h){m=e.p[l];var w=e.lm,_=n.p[l],O=n.lm;if(_!==O)if(m===_){if("left"!==u)return t;e.p[l]=O,m===w&&(e.lm=O)}else m>_&&e.p[l]--,m>O?e.p[l]++:m===O&&_>O&&(e.p[l]++,m===w&&e.lm++),(w>_||w===_&&w>m)&&e.lm--,w>O?e.lm++:w===O&&(O>_&&w>m||O<_&&w<m?"right"===u&&e.lm++:w>m?e.lm++:w===_&&e.lm--)}else void 0!==e.li&&void 0===e.ld&&y?(m=n.p[l],w=n.lm,(v=e.p[l])>m&&e.p[l]--,v>w&&e.p[l]++):(m=n.p[l],w=n.lm,(v=e.p[l])===m?e.p[l]=w:(v>m&&e.p[l]--,(v>w||v===w&&m>w)&&e.p[l]++));else if(void 0!==n.oi&&void 0!==n.od){if(e.p[l]===n.p[l]){if(void 0===e.oi||!y)return t;if("right"===u)return t;e.od=n.oi}}else if(void 0!==n.oi){if(void 0!==e.oi&&e.p[l]===n.p[l]){if("left"!==u)return t;i.append(t,{p:e.p,od:n.oi})}}else if(void 0!==n.od&&e.p[l]==n.p[l]){if(!y)return t;if(void 0===e.oi)return t;delete e.od}}return i.append(t,e),t},i.createPresence=function(t){return t},i.comparePresence=function(t,e){return JSON.stringify(t)===JSON.stringify(e)},i.transformPresence=function(t,e,n){if(!t.t)return t;for(var r=0;r<e.length;r++){var o=e[r];null==o.si&&null==o.sd||c(o),o.t&&o.t===t.t&&i.pathMatches(o.p,t.p)&&(t=Object.assign({},t,{s:s[t.t].transformPresence(t.s,[o],n)})),"text0"===o.t&&a(o)}return t},n(7787)(i,i.transformComponent,i.checkValidOp,i.append);var l=n(1224);i.registerSubtype(l),t.exports=i},1224:function(t,e,n){var r=t.exports={name:"text0",uri:"http://sharejs.org/types/textv0",create:function(t){if(null!=t&&"string"!=typeof t)throw new Error("Initial data must be a string");return t||""}},o=function(t,e,n){return t.slice(0,e)+n+t.slice(e)},i=function(t){if("number"!=typeof t.p)throw new Error("component missing position field");if("string"==typeof t.i==("string"==typeof t.d))throw new Error("component needs an i or d field");if(t.p<0)throw new Error("position cannot be negative")},s=function(t){for(var e=0;e<t.length;e++)i(t[e])};r.apply=function(t,e){var n;s(e);for(var r=0;r<e.length;r++){var i=e[r];if(null!=i.i)t=o(t,i.p,i.i);else{if(n=t.slice(i.p,i.p+i.d.length),i.d!==n)throw new Error("Delete component '"+i.d+"' does not match deleted text '"+n+"'");t=t.slice(0,i.p)+t.slice(i.p+i.d.length)}}return t};var c=r._append=function(t,e){if(""!==e.i&&""!==e.d)if(0===t.length)t.push(e);else{var n=t[t.length-1];null!=n.i&&null!=e.i&&n.p<=e.p&&e.p<=n.p+n.i.length?t[t.length-1]={i:o(n.i,e.p-n.p,e.i),p:n.p}:null!=n.d&&null!=e.d&&e.p<=n.p&&n.p<=e.p+e.d.length?t[t.length-1]={d:o(e.d,n.p-e.p,n.d),p:e.p}:t.push(e)}};r.compose=function(t,e){s(t),s(e);for(var n=t.slice(),r=0;r<e.length;r++)c(n,e[r]);return n},r.normalize=function(t){var e=[];null==t.i&&null==t.p||(t=[t]);for(var n=0;n<t.length;n++){var r=t[n];null==r.p&&(r.p=0),c(e,r)}return e};var a=function(t,e,n){return null!=e.i?e.p<t||e.p===t&&n?t+e.i.length:t:t<=e.p?t:t<=e.p+e.d.length?e.p:t-e.d.length};r.transformCursor=function(t,e,n){for(var r,o,i=0;i<e.length;i++)r=t,t=null!=(o=e[i]).i?o.p<r||o.p===r?r+o.i.length:r:r<=o.p?r:r<=o.p+o.d.length?o.p:r-o.d.length;return t};var u=r._tc=function(t,e,n,r){if(i(e),i(n),null!=e.i)c(t,{i:e.i,p:a(e.p,n,"right"===r)});else if(null!=n.i){var o=e.d;e.p<n.p&&(c(t,{d:o.slice(0,n.p-e.p),p:e.p}),o=o.slice(n.p-e.p)),""!==o&&c(t,{d:o,p:e.p+n.i.length})}else if(e.p>=n.p+n.d.length)c(t,{d:e.d,p:e.p-n.d.length});else if(e.p+e.d.length<=n.p)c(t,e);else{var s={d:"",p:e.p};e.p<n.p&&(s.d=e.d.slice(0,n.p-e.p)),e.p+e.d.length>n.p+n.d.length&&(s.d+=e.d.slice(n.p+n.d.length-e.p));var u=Math.max(e.p,n.p),l=Math.min(e.p+e.d.length,n.p+n.d.length);if(e.d.slice(u-e.p,l-e.p)!==n.d.slice(u-n.p,l-n.p))throw new Error("Delete ops delete different text in the same region of the document");""!==s.d&&(s.p=a(s.p,n),c(t,s))}return t};r.invert=function(t){t=t.slice().reverse();for(var e=0;e<t.length;e++)t[e]=null!=(n=t[e]).i?{d:n.i,p:n.p}:{i:n.d,p:n.p};var n;return t},r.createPresence=function(t){return t},r.transformPresence=function(t,e,n){for(var o=t.u,i=t.c,s=t.s,c=n?"right":"left",a=new Array(s.length),u=0,l=s.length;u<l;++u)a[u]=[r.transformCursor(s[u][0],e[0].o,c),r.transformCursor(s[u][1],e[0].o,c)];return{u:o,c:i,s:a}},r.comparePresence=function(t,e){return JSON.stringify(t)===JSON.stringify(e)},n(7787)(r,u,s,c)},2190:function(t){t.exports=function(t,n,r){if(t.filter)return t.filter(n,r);if(null==t)throw new TypeError;if("function"!=typeof n)throw new TypeError;for(var o=[],i=0;i<t.length;i++)if(e.call(t,i)){var s=t[i];n.call(r,s,i,t)&&o.push(s)}return o};var e=Object.prototype.hasOwnProperty},9282:function(t,e,n){"use strict";var r=n(4155),o=n(5108);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s,c,a=n(2136).codes,u=a.ERR_AMBIGUOUS_ARGUMENT,l=a.ERR_INVALID_ARG_TYPE,p=a.ERR_INVALID_ARG_VALUE,f=a.ERR_INVALID_RETURN_VALUE,h=a.ERR_MISSING_ARGS,y=n(5961),d=n(9539).inspect,g=n(9539).types,v=g.isPromise,b=g.isRegExp,m=Object.assign?Object.assign:n(8091).assign,w=Object.is?Object.is:n(609);function _(){var t=n(9158);s=t.isDeepEqual,c=t.isDeepStrictEqual}new Map;var O=!1,S=t.exports=j,E={};function P(t){if(t.message instanceof Error)throw t.message;throw new y(t)}function x(t,e,n,r){if(!n){var o=!1;if(0===e)o=!0,r="No value argument passed to `assert.ok()`";else if(r instanceof Error)throw r;var i=new y({actual:n,expected:!0,message:r,operator:"==",stackStartFn:t});throw i.generatedMessage=o,i}}function j(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];x.apply(void 0,[j,e.length].concat(e))}S.fail=function t(e,n,i,s,c){var a,u=arguments.length;if(0===u)a="Failed";else if(1===u)i=e,e=void 0;else{if(!1===O){O=!0;var l=r.emitWarning?r.emitWarning:o.warn.bind(o);l("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}2===u&&(s="!=")}if(i instanceof Error)throw i;var p={actual:e,expected:n,operator:void 0===s?"fail":s,stackStartFn:c||t};void 0!==i&&(p.message=i);var f=new y(p);throw a&&(f.message=a,f.generatedMessage=!0),f},S.AssertionError=y,S.ok=j,S.equal=function t(e,n,r){if(arguments.length<2)throw new h("actual","expected");e!=n&&P({actual:e,expected:n,message:r,operator:"==",stackStartFn:t})},S.notEqual=function t(e,n,r){if(arguments.length<2)throw new h("actual","expected");e==n&&P({actual:e,expected:n,message:r,operator:"!=",stackStartFn:t})},S.deepEqual=function t(e,n,r){if(arguments.length<2)throw new h("actual","expected");void 0===s&&_(),s(e,n)||P({actual:e,expected:n,message:r,operator:"deepEqual",stackStartFn:t})},S.notDeepEqual=function t(e,n,r){if(arguments.length<2)throw new h("actual","expected");void 0===s&&_(),s(e,n)&&P({actual:e,expected:n,message:r,operator:"notDeepEqual",stackStartFn:t})},S.deepStrictEqual=function t(e,n,r){if(arguments.length<2)throw new h("actual","expected");void 0===s&&_(),c(e,n)||P({actual:e,expected:n,message:r,operator:"deepStrictEqual",stackStartFn:t})},S.notDeepStrictEqual=function t(e,n,r){if(arguments.length<2)throw new h("actual","expected");void 0===s&&_(),c(e,n)&&P({actual:e,expected:n,message:r,operator:"notDeepStrictEqual",stackStartFn:t})},S.strictEqual=function t(e,n,r){if(arguments.length<2)throw new h("actual","expected");w(e,n)||P({actual:e,expected:n,message:r,operator:"strictEqual",stackStartFn:t})},S.notStrictEqual=function t(e,n,r){if(arguments.length<2)throw new h("actual","expected");w(e,n)&&P({actual:e,expected:n,message:r,operator:"notStrictEqual",stackStartFn:t})};var k=function t(e,n,r){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n.forEach((function(t){t in e&&(void 0!==r&&"string"==typeof r[t]&&b(e[t])&&e[t].test(r[t])?o[t]=r[t]:o[t]=e[t])}))};function A(t,e,n,r,o,i){if(!(n in t)||!c(t[n],e[n])){if(!r){var s=new k(t,o),a=new k(e,o,t),u=new y({actual:s,expected:a,operator:"deepStrictEqual",stackStartFn:i});throw u.actual=t,u.expected=e,u.operator=i.name,u}P({actual:t,expected:e,message:r,operator:i.name,stackStartFn:i})}}function T(t,e,n,r){if("function"!=typeof e){if(b(e))return e.test(t);if(2===arguments.length)throw new l("expected",["Function","RegExp"],e);if("object"!==i(t)||null===t){var o=new y({actual:t,expected:e,message:n,operator:"deepStrictEqual",stackStartFn:r});throw o.operator=r.name,o}var c=Object.keys(e);if(e instanceof Error)c.push("name","message");else if(0===c.length)throw new p("error",e,"may not be an empty object");return void 0===s&&_(),c.forEach((function(o){"string"==typeof t[o]&&b(e[o])&&e[o].test(t[o])||A(t,e,o,n,c,r)})),!0}return void 0!==e.prototype&&t instanceof e||!Error.isPrototypeOf(e)&&!0===e.call({},t)}function R(t){if("function"!=typeof t)throw new l("fn","Function",t);try{t()}catch(t){return t}return E}function N(t){return v(t)||null!==t&&"object"===i(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function D(t){return Promise.resolve().then((function(){var e;if("function"==typeof t){if(!N(e=t()))throw new f("instance of Promise","promiseFn",e)}else{if(!N(t))throw new l("promiseFn",["Function","Promise"],t);e=t}return Promise.resolve().then((function(){return e})).then((function(){return E})).catch((function(t){return t}))}))}function I(t,e,n,r){if("string"==typeof n){if(4===arguments.length)throw new l("error",["Object","Error","Function","RegExp"],n);if("object"===i(e)&&null!==e){if(e.message===n)throw new u("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===n)throw new u("error/message",'The error "'.concat(e,'" is identical to the message.'));r=n,n=void 0}else if(null!=n&&"object"!==i(n)&&"function"!=typeof n)throw new l("error",["Object","Error","Function","RegExp"],n);if(e===E){var o="";n&&n.name&&(o+=" (".concat(n.name,")")),o+=r?": ".concat(r):".";var s="rejects"===t.name?"rejection":"exception";P({actual:void 0,expected:n,operator:t.name,message:"Missing expected ".concat(s).concat(o),stackStartFn:t})}if(n&&!T(e,n,r,t))throw e}function F(t,e,n,r){if(e!==E){if("string"==typeof n&&(r=n,n=void 0),!n||T(e,n)){var o=r?": ".concat(r):".",i="doesNotReject"===t.name?"rejection":"exception";P({actual:e,expected:n,operator:t.name,message:"Got unwanted ".concat(i).concat(o,"\n")+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:t})}throw e}}function q(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];x.apply(void 0,[q,e.length].concat(e))}S.throws=function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];I.apply(void 0,[t,R(e)].concat(r))},S.rejects=function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return D(e).then((function(e){return I.apply(void 0,[t,e].concat(r))}))},S.doesNotThrow=function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];F.apply(void 0,[t,R(e)].concat(r))},S.doesNotReject=function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return D(e).then((function(e){return F.apply(void 0,[t,e].concat(r))}))},S.ifError=function t(e){if(null!=e){var n="ifError got unwanted exception: ";"object"===i(e)&&"string"==typeof e.message?0===e.message.length&&e.constructor?n+=e.constructor.name:n+=e.message:n+=d(e);var r=new y({actual:e,expected:null,operator:"ifError",message:n,stackStartFn:t}),o=e.stack;if("string"==typeof o){var s=o.split("\n");s.shift();for(var c=r.stack.split("\n"),a=0;a<s.length;a++){var u=c.indexOf(s[a]);if(-1!==u){c=c.slice(0,u);break}}r.stack="".concat(c.join("\n"),"\n").concat(s.join("\n"))}throw r}},S.strict=m(q,S,{equal:S.strictEqual,deepEqual:S.deepStrictEqual,notEqual:S.notStrictEqual,notDeepEqual:S.notDeepStrictEqual}),S.strict.strict=S.strict},5961:function(t,e,n){"use strict";var r=n(4155);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?c(t):e}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t){var e="function"==typeof Map?new Map:void 0;return(a=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return l(t,arguments,f(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),p(r,t)})(t)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function l(t,e,n){return(l=u()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&p(o,n.prototype),o}).apply(null,arguments)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var y=n(9539).inspect,d=n(2136).codes.ERR_INVALID_ARG_TYPE;function g(t,e,n){return(void 0===n||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}var v="",b="",m="",w="",_={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function O(t){var e=Object.keys(t),n=Object.create(Object.getPrototypeOf(t));return e.forEach((function(e){n[e]=t[e]})),Object.defineProperty(n,"message",{value:t.message}),n}function S(t){return y(t,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var E=function(t){function e(t){var n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),"object"!==h(t)||null===t)throw new d("options","Object",t);var o=t.message,i=t.operator,a=t.stackStartFn,u=t.actual,l=t.expected,p=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=o)n=s(this,f(e).call(this,String(o)));else if(r.stderr&&r.stderr.isTTY&&(r.stderr&&r.stderr.getColorDepth&&1!==r.stderr.getColorDepth()?(v="[34m",b="[32m",w="[39m",m="[31m"):(v="",b="",w="",m="")),"object"===h(u)&&null!==u&&"object"===h(l)&&null!==l&&"stack"in u&&u instanceof Error&&"stack"in l&&l instanceof Error&&(u=O(u),l=O(l)),"deepStrictEqual"===i||"strictEqual"===i)n=s(this,f(e).call(this,function(t,e,n){var o="",i="",s=0,c="",a=!1,u=S(t),l=u.split("\n"),p=S(e).split("\n"),f=0,y="";if("strictEqual"===n&&"object"===h(t)&&"object"===h(e)&&null!==t&&null!==e&&(n="strictEqualObject"),1===l.length&&1===p.length&&l[0]!==p[0]){var d=l[0].length+p[0].length;if(d<=10){if(!("object"===h(t)&&null!==t||"object"===h(e)&&null!==e||0===t&&0===e))return"".concat(_[n],"\n\n")+"".concat(l[0]," !== ").concat(p[0],"\n")}else if("strictEqualObject"!==n&&d<(r.stderr&&r.stderr.isTTY?r.stderr.columns:80)){for(;l[0][f]===p[0][f];)f++;f>2&&(y="\n  ".concat(function(t,e){if(e=Math.floor(e),0==t.length||0==e)return"";var n=t.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)t+=t,e--;return t+t.substring(0,n-t.length)}(" ",f),"^"),f=0)}}for(var O=l[l.length-1],E=p[p.length-1];O===E&&(f++<2?c="\n  ".concat(O).concat(c):o=O,l.pop(),p.pop(),0!==l.length&&0!==p.length);)O=l[l.length-1],E=p[p.length-1];var P=Math.max(l.length,p.length);if(0===P){var x=u.split("\n");if(x.length>30)for(x[26]="".concat(v,"...").concat(w);x.length>27;)x.pop();return"".concat(_.notIdentical,"\n\n").concat(x.join("\n"),"\n")}f>3&&(c="\n".concat(v,"...").concat(w).concat(c),a=!0),""!==o&&(c="\n  ".concat(o).concat(c),o="");var j=0,k=_[n]+"\n".concat(b,"+ actual").concat(w," ").concat(m,"- expected").concat(w),A=" ".concat(v,"...").concat(w," Lines skipped");for(f=0;f<P;f++){var T=f-s;if(l.length<f+1)T>1&&f>2&&(T>4?(i+="\n".concat(v,"...").concat(w),a=!0):T>3&&(i+="\n  ".concat(p[f-2]),j++),i+="\n  ".concat(p[f-1]),j++),s=f,o+="\n".concat(m,"-").concat(w," ").concat(p[f]),j++;else if(p.length<f+1)T>1&&f>2&&(T>4?(i+="\n".concat(v,"...").concat(w),a=!0):T>3&&(i+="\n  ".concat(l[f-2]),j++),i+="\n  ".concat(l[f-1]),j++),s=f,i+="\n".concat(b,"+").concat(w," ").concat(l[f]),j++;else{var R=p[f],N=l[f],D=N!==R&&(!g(N,",")||N.slice(0,-1)!==R);D&&g(R,",")&&R.slice(0,-1)===N&&(D=!1,N+=","),D?(T>1&&f>2&&(T>4?(i+="\n".concat(v,"...").concat(w),a=!0):T>3&&(i+="\n  ".concat(l[f-2]),j++),i+="\n  ".concat(l[f-1]),j++),s=f,i+="\n".concat(b,"+").concat(w," ").concat(N),o+="\n".concat(m,"-").concat(w," ").concat(R),j+=2):(i+=o,o="",1!==T&&0!==f||(i+="\n  ".concat(N),j++))}if(j>20&&f<P-2)return"".concat(k).concat(A,"\n").concat(i,"\n").concat(v,"...").concat(w).concat(o,"\n")+"".concat(v,"...").concat(w)}return"".concat(k).concat(a?A:"","\n").concat(i).concat(o).concat(c).concat(y)}(u,l,i)));else if("notDeepStrictEqual"===i||"notStrictEqual"===i){var y=_[i],E=S(u).split("\n");if("notStrictEqual"===i&&"object"===h(u)&&null!==u&&(y=_.notStrictEqualObject),E.length>30)for(E[26]="".concat(v,"...").concat(w);E.length>27;)E.pop();n=1===E.length?s(this,f(e).call(this,"".concat(y," ").concat(E[0]))):s(this,f(e).call(this,"".concat(y,"\n\n").concat(E.join("\n"),"\n")))}else{var P=S(u),x="",j=_[i];"notDeepEqual"===i||"notEqual"===i?(P="".concat(_[i],"\n\n").concat(P)).length>1024&&(P="".concat(P.slice(0,1021),"...")):(x="".concat(S(l)),P.length>512&&(P="".concat(P.slice(0,509),"...")),x.length>512&&(x="".concat(x.slice(0,509),"...")),"deepEqual"===i||"equal"===i?P="".concat(j,"\n\n").concat(P,"\n\nshould equal\n\n"):x=" ".concat(i," ").concat(x)),n=s(this,f(e).call(this,"".concat(P).concat(x)))}return Error.stackTraceLimit=p,n.generatedMessage=!o,Object.defineProperty(c(n),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),n.code="ERR_ASSERTION",n.actual=u,n.expected=l,n.operator=i,Error.captureStackTrace&&Error.captureStackTrace(c(n),a),n.stack,n.name="AssertionError",s(n)}var n,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,t),n=e,(a=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:y.custom,value:function(t,e){return y(this,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){o(t,e,n[e])}))}return t}({},e,{customInspect:!1,depth:0}))}}])&&i(n.prototype,a),e}(a(Error));t.exports=E},2136:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s,c,a={};function u(t,e,n){n||(n=Error);var s=function(n){function s(n,i,c){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(a=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,o(s).call(this,function(t,n,r){return"string"==typeof e?e:e(t,n,r)}(n,i,c)))).code=t,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(s,n),s}(n);a[t]=s}function l(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map((function(t){return String(t)})),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:2===n?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}u("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),u("ERR_INVALID_ARG_TYPE",(function(t,e,o){var i,c,a,u,p;if(void 0===s&&(s=n(9282)),s("string"==typeof t,"'name' must be a string"),"string"==typeof e&&(c="not ",e.substr(0,c.length)===c)?(i="must not be",e=e.replace(/^not /,"")):i="must be",function(t,e,n){return(void 0===n||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}(t," argument"))a="The ".concat(t," ").concat(i," ").concat(l(e,"type"));else{var f=("number"!=typeof p&&(p=0),p+".".length>(u=t).length||-1===u.indexOf(".",p)?"argument":"property");a='The "'.concat(t,'" ').concat(f," ").concat(i," ").concat(l(e,"type"))}return a+". Received type ".concat(r(o))}),TypeError),u("ERR_INVALID_ARG_VALUE",(function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===c&&(c=n(9539));var o=c.inspect(e);return o.length>128&&(o="".concat(o.slice(0,128),"...")),"The argument '".concat(t,"' ").concat(r,". Received ").concat(o)}),TypeError,RangeError),u("ERR_INVALID_RETURN_VALUE",(function(t,e,n){var o;return o=n&&n.constructor&&n.constructor.name?"instance of ".concat(n.constructor.name):"type ".concat(r(n)),"Expected ".concat(t,' to be returned from the "').concat(e,'"')+" function but got ".concat(o,".")}),TypeError),u("ERR_MISSING_ARGS",(function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];void 0===s&&(s=n(9282)),s(e.length>0,"At least one arg needs to be specified");var o="The ",i=e.length;switch(e=e.map((function(t){return'"'.concat(t,'"')})),i){case 1:o+="".concat(e[0]," argument");break;case 2:o+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:o+=e.slice(0,i-1).join(", "),o+=", and ".concat(e[i-1]," arguments")}return"".concat(o," must be specified")}),TypeError),t.exports.codes=a},9158:function(t,e,n){"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var s,c=t[Symbol.iterator]();!(r=(s=c.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=void 0!==/a/g.flags,s=function(t){var e=[];return t.forEach((function(t){return e.push(t)})),e},c=function(t){var e=[];return t.forEach((function(t,n){return e.push([n,t])})),e},a=Object.is?Object.is:n(609),u=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},l=Number.isNaN?Number.isNaN:n(360);function p(t){return t.call.bind(t)}var f=p(Object.prototype.hasOwnProperty),h=p(Object.prototype.propertyIsEnumerable),y=p(Object.prototype.toString),d=n(9539).types,g=d.isAnyArrayBuffer,v=d.isArrayBufferView,b=d.isDate,m=d.isMap,w=d.isRegExp,_=d.isSet,O=d.isNativeError,S=d.isBoxedPrimitive,E=d.isNumberObject,P=d.isStringObject,x=d.isBooleanObject,j=d.isBigIntObject,k=d.isSymbolObject,A=d.isFloat32Array,T=d.isFloat64Array;function R(t){if(0===t.length||t.length>10)return!0;for(var e=0;e<t.length;e++){var n=t.charCodeAt(e);if(n<48||n>57)return!0}return 10===t.length&&t>=Math.pow(2,32)}function N(t){return Object.keys(t).filter(R).concat(u(t).filter(Object.prototype.propertyIsEnumerable.bind(t)))}function D(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0}function I(t,e,n,r){if(t===e)return 0!==t||!n||a(t,e);if(n){if("object"!==o(t))return"number"==typeof t&&l(t)&&l(e);if("object"!==o(e)||null===t||null===e)return!1;if(Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1}else{if(null===t||"object"!==o(t))return(null===e||"object"!==o(e))&&t==e;if(null===e||"object"!==o(e))return!1}var s,c,u,p,f=y(t);if(f!==y(e))return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;var h=N(t),d=N(e);return h.length===d.length&&q(t,e,n,r,1,h)}if("[object Object]"===f&&(!m(t)&&m(e)||!_(t)&&_(e)))return!1;if(b(t)){if(!b(e)||Date.prototype.getTime.call(t)!==Date.prototype.getTime.call(e))return!1}else if(w(t)){if(!w(e)||(u=t,p=e,!(i?u.source===p.source&&u.flags===p.flags:RegExp.prototype.toString.call(u)===RegExp.prototype.toString.call(p))))return!1}else if(O(t)||t instanceof Error){if(t.message!==e.message||t.name!==e.name)return!1}else{if(v(t)){if(n||!A(t)&&!T(t)){if(!function(t,e){return t.byteLength===e.byteLength&&0===D(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}(t,e))return!1}else if(!function(t,e){if(t.byteLength!==e.byteLength)return!1;for(var n=0;n<t.byteLength;n++)if(t[n]!==e[n])return!1;return!0}(t,e))return!1;var R=N(t),I=N(e);return R.length===I.length&&q(t,e,n,r,0,R)}if(_(t))return!(!_(e)||t.size!==e.size)&&q(t,e,n,r,2);if(m(t))return!(!m(e)||t.size!==e.size)&&q(t,e,n,r,3);if(g(t)){if(c=e,(s=t).byteLength!==c.byteLength||0!==D(new Uint8Array(s),new Uint8Array(c)))return!1}else if(S(t)&&!function(t,e){return E(t)?E(e)&&a(Number.prototype.valueOf.call(t),Number.prototype.valueOf.call(e)):P(t)?P(e)&&String.prototype.valueOf.call(t)===String.prototype.valueOf.call(e):x(t)?x(e)&&Boolean.prototype.valueOf.call(t)===Boolean.prototype.valueOf.call(e):j(t)?j(e)&&BigInt.prototype.valueOf.call(t)===BigInt.prototype.valueOf.call(e):k(e)&&Symbol.prototype.valueOf.call(t)===Symbol.prototype.valueOf.call(e)}(t,e))return!1}return q(t,e,n,r,0)}function F(t,e){return e.filter((function(e){return h(t,e)}))}function q(t,e,n,r,o,i){if(5===arguments.length){i=Object.keys(t);var s=Object.keys(e);if(i.length!==s.length)return!1}for(var c=0;c<i.length;c++)if(!f(e,i[c]))return!1;if(n&&5===arguments.length){var a=u(t);if(0!==a.length){var l=0;for(c=0;c<a.length;c++){var p=a[c];if(h(t,p)){if(!h(e,p))return!1;i.push(p),l++}else if(h(e,p))return!1}var y=u(e);if(a.length!==y.length&&F(e,y).length!==l)return!1}else{var d=u(e);if(0!==d.length&&0!==F(e,d).length)return!1}}if(0===i.length&&(0===o||1===o&&0===t.length||0===t.size))return!0;if(void 0===r)r={val1:new Map,val2:new Map,position:0};else{var g=r.val1.get(t);if(void 0!==g){var v=r.val2.get(e);if(void 0!==v)return g===v}r.position++}r.val1.set(t,r.position),r.val2.set(e,r.position);var b=G(t,e,n,i,r,o);return r.val1.delete(t),r.val2.delete(e),b}function L(t,e,n,r){for(var o=s(t),i=0;i<o.length;i++){var c=o[i];if(I(e,c,n,r))return t.delete(c),!0}return!1}function M(t){switch(o(t)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":t=+t;case"number":if(l(t))return!1}return!0}function C(t,e,n){var r=M(n);return null!=r?r:e.has(r)&&!t.has(r)}function U(t,e,n,r,o){var i=M(n);if(null!=i)return i;var s=e.get(i);return!(void 0===s&&!e.has(i)||!I(r,s,!1,o))&&!t.has(i)&&I(r,s,!1,o)}function B(t,e,n,r,o,i){for(var c=s(t),a=0;a<c.length;a++){var u=c[a];if(I(n,u,o,i)&&I(r,e.get(u),o,i))return t.delete(u),!0}return!1}function G(t,e,n,i,a,u){var l=0;if(2===u){if(!function(t,e,n,r){for(var i=null,c=s(t),a=0;a<c.length;a++){var u=c[a];if("object"===o(u)&&null!==u)null===i&&(i=new Set),i.add(u);else if(!e.has(u)){if(n)return!1;if(!C(t,e,u))return!1;null===i&&(i=new Set),i.add(u)}}if(null!==i){for(var l=s(e),p=0;p<l.length;p++){var f=l[p];if("object"===o(f)&&null!==f){if(!L(i,f,n,r))return!1}else if(!n&&!t.has(f)&&!L(i,f,n,r))return!1}return 0===i.size}return!0}(t,e,n,a))return!1}else if(3===u){if(!function(t,e,n,i){for(var s=null,a=c(t),u=0;u<a.length;u++){var l=r(a[u],2),p=l[0],f=l[1];if("object"===o(p)&&null!==p)null===s&&(s=new Set),s.add(p);else{var h=e.get(p);if(void 0===h&&!e.has(p)||!I(f,h,n,i)){if(n)return!1;if(!U(t,e,p,f,i))return!1;null===s&&(s=new Set),s.add(p)}}}if(null!==s){for(var y=c(e),d=0;d<y.length;d++){var g=r(y[d],2),v=(p=g[0],g[1]);if("object"===o(p)&&null!==p){if(!B(s,t,p,v,n,i))return!1}else if(!(n||t.has(p)&&I(t.get(p),v,!1,i)||B(s,t,p,v,!1,i)))return!1}return 0===s.size}return!0}(t,e,n,a))return!1}else if(1===u)for(;l<t.length;l++){if(!f(t,l)){if(f(e,l))return!1;for(var p=Object.keys(t);l<p.length;l++){var h=p[l];if(!f(e,h)||!I(t[h],e[h],n,a))return!1}return p.length===Object.keys(e).length}if(!f(e,l)||!I(t[l],e[l],n,a))return!1}for(l=0;l<i.length;l++){var y=i[l];if(!I(t[y],e[y],n,a))return!1}return!0}t.exports={isDeepEqual:function(t,e){return I(t,e,!1)},isDeepStrictEqual:function(t,e){return I(t,e,!0)}}},6314:function(t,e,n){"use strict";var r=n(2190);t.exports=function(){return r(["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],(function(t){return"function"==typeof n.g[t]}))}},1924:function(t,e,n){"use strict";var r=n(210),o=n(5559),i=o(r("String.prototype.indexOf"));t.exports=function(t,e){var n=r(t,!!e);return"function"==typeof n&&i(t,".prototype.")>-1?o(n):n}},5559:function(t,e,n){"use strict";var r=n(8612),o=n(210),i=o("%Function.prototype.apply%"),s=o("%Function.prototype.call%"),c=o("%Reflect.apply%",!0)||r.call(s,i),a=o("%Object.getOwnPropertyDescriptor%",!0),u=o("%Object.defineProperty%",!0),l=o("%Math.max%");if(u)try{u({},"a",{value:1})}catch(t){u=null}t.exports=function(t){var e=c(r,s,arguments);if(a&&u){var n=a(e,"length");n.configurable&&u(e,"length",{value:1+l(0,t.length-(arguments.length-1))})}return e};var p=function(){return c(r,i,arguments)};u?u(t.exports,"apply",{value:p}):t.exports.apply=p},5108:function(t,e,n){var r=n(9539),o=n(9282);function i(){return(new Date).getTime()}var s,c=Array.prototype.slice,a={};s=void 0!==n.g&&n.g.console?n.g.console:"undefined"!=typeof window&&window.console?window.console:{};for(var u=[[function(){},"log"],[function(){s.log.apply(s,arguments)},"info"],[function(){s.log.apply(s,arguments)},"warn"],[function(){s.warn.apply(s,arguments)},"error"],[function(t){a[t]=i()},"time"],[function(t){var e=a[t];if(!e)throw new Error("No such label: "+t);delete a[t];var n=i()-e;s.log(t+": "+n+"ms")},"timeEnd"],[function(){var t=new Error;t.name="Trace",t.message=r.format.apply(null,arguments),s.error(t.stack)},"trace"],[function(t){s.log(r.inspect(t)+"\n")},"dir"],[function(t){if(!t){var e=c.call(arguments,1);o.ok(!1,r.format.apply(null,e))}},"assert"]],l=0;l<u.length;l++){var p=u[l],f=p[0],h=p[1];s[h]||(s[h]=f)}t.exports=s},3099:function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},5787:function(t){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},9670:function(t,e,n){var r=n(111);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},1318:function(t,e,n){var r=n(5656),o=n(7466),i=n(1400),s=function(t){return function(e,n,s){var c,a=r(e),u=o(a.length),l=i(s,u);if(t&&n!=n){for(;u>l;)if((c=a[l++])!=c)return!0}else for(;u>l;l++)if((t||l in a)&&a[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},7072:function(t,e,n){var r=n(5112)("iterator"),o=!1;try{var i=0,s={next:function(){return{done:!!i++}},return:function(){o=!0}};s[r]=function(){return this},Array.from(s,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n}},4326:function(t){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},648:function(t,e,n){var r=n(1694),o=n(4326),i=n(5112)("toStringTag"),s="Arguments"==o(function(){return arguments}());t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:s?o(e):"Object"==(r=o(e))&&"function"==typeof e.callee?"Arguments":r}},9920:function(t,e,n){var r=n(6656),o=n(3887),i=n(1236),s=n(3070);t.exports=function(t,e){for(var n=o(e),c=s.f,a=i.f,u=0;u<n.length;u++){var l=n[u];r(t,l)||c(t,l,a(e,l))}}},8880:function(t,e,n){var r=n(9781),o=n(3070),i=n(9114);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},9114:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},9781:function(t,e,n){var r=n(7293);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(t,e,n){var r=n(7854),o=n(111),i=r.document,s=o(i)&&o(i.createElement);t.exports=function(t){return s?i.createElement(t):{}}},6833:function(t,e,n){var r=n(8113);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},5268:function(t,e,n){var r=n(4326),o=n(7854);t.exports="process"==r(o.process)},1036:function(t,e,n){var r=n(8113);t.exports=/web0s(?!.*chrome)/i.test(r)},8113:function(t,e,n){var r=n(5005);t.exports=r("navigator","userAgent")||""},7392:function(t,e,n){var r,o,i=n(7854),s=n(8113),c=i.process,a=c&&c.versions,u=a&&a.v8;u?o=(r=u.split("."))[0]+r[1]:s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(o=r[1]),t.exports=o&&+o},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(t,e,n){var r=n(7854),o=n(1236).f,i=n(8880),s=n(1320),c=n(3505),a=n(9920),u=n(4705);t.exports=function(t,e){var n,l,p,f,h,y=t.target,d=t.global,g=t.stat;if(n=d?r:g?r[y]||c(y,{}):(r[y]||{}).prototype)for(l in e){if(f=e[l],p=t.noTargetGet?(h=o(n,l))&&h.value:n[l],!u(d?l:y+(g?".":"#")+l,t.forced)&&void 0!==p){if(typeof f==typeof p)continue;a(f,p)}(t.sham||p&&p.sham)&&i(f,"sham",!0),s(n,l,f,t)}}},7293:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},9974:function(t,e,n){var r=n(3099);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},5005:function(t,e,n){var r=n(857),o=n(7854),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t])||i(o[t]):r[t]&&r[t][e]||o[t]&&o[t][e]}},1246:function(t,e,n){var r=n(648),o=n(7497),i=n(5112)("iterator");t.exports=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},7854:function(t,e,n){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},6656:function(t){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},3501:function(t){t.exports={}},842:function(t,e,n){var r=n(7854);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},490:function(t,e,n){var r=n(5005);t.exports=r("document","documentElement")},4664:function(t,e,n){var r=n(9781),o=n(7293),i=n(317);t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},8361:function(t,e,n){var r=n(7293),o=n(4326),i="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},2788:function(t,e,n){var r=n(5465),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return o.call(t)}),t.exports=r.inspectSource},9909:function(t,e,n){var r,o,i,s=n(8536),c=n(7854),a=n(111),u=n(8880),l=n(6656),p=n(5465),f=n(6200),h=n(3501),y=c.WeakMap;if(s){var d=p.state||(p.state=new y),g=d.get,v=d.has,b=d.set;r=function(t,e){return e.facade=t,b.call(d,t,e),e},o=function(t){return g.call(d,t)||{}},i=function(t){return v.call(d,t)}}else{var m=f("state");h[m]=!0,r=function(t,e){return e.facade=t,u(t,m,e),e},o=function(t){return l(t,m)?t[m]:{}},i=function(t){return l(t,m)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!a(e)||(n=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},7659:function(t,e,n){var r=n(5112),o=n(7497),i=r("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||s[i]===t)}},4705:function(t,e,n){var r=n(7293),o=/#|\.prototype\./,i=function(t,e){var n=c[s(t)];return n==u||n!=a&&("function"==typeof e?r(e):!!e)},s=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},c=i.data={},a=i.NATIVE="N",u=i.POLYFILL="P";t.exports=i},111:function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},1913:function(t){t.exports=!1},408:function(t,e,n){var r=n(9670),o=n(7659),i=n(7466),s=n(9974),c=n(1246),a=n(9212),u=function(t,e){this.stopped=t,this.result=e};t.exports=function(t,e,n){var l,p,f,h,y,d,g,v=n&&n.that,b=!(!n||!n.AS_ENTRIES),m=!(!n||!n.IS_ITERATOR),w=!(!n||!n.INTERRUPTED),_=s(e,v,1+b+w),O=function(t){return l&&a(l),new u(!0,t)},S=function(t){return b?(r(t),w?_(t[0],t[1],O):_(t[0],t[1])):w?_(t,O):_(t)};if(m)l=t;else{if("function"!=typeof(p=c(t)))throw TypeError("Target is not iterable");if(o(p)){for(f=0,h=i(t.length);h>f;f++)if((y=S(t[f]))&&y instanceof u)return y;return new u(!1)}l=p.call(t)}for(d=l.next;!(g=d.call(l)).done;){try{y=S(g.value)}catch(t){throw a(l),t}if("object"==typeof y&&y&&y instanceof u)return y}return new u(!1)}},9212:function(t,e,n){var r=n(9670);t.exports=function(t){var e=t.return;if(void 0!==e)return r(e.call(t)).value}},7497:function(t){t.exports={}},5948:function(t,e,n){var r,o,i,s,c,a,u,l,p=n(7854),f=n(1236).f,h=n(261).set,y=n(6833),d=n(1036),g=n(5268),v=p.MutationObserver||p.WebKitMutationObserver,b=p.document,m=p.process,w=p.Promise,_=f(p,"queueMicrotask"),O=_&&_.value;O||(r=function(){var t,e;for(g&&(t=m.domain)&&t.exit();o;){e=o.fn,o=o.next;try{e()}catch(t){throw o?s():i=void 0,t}}i=void 0,t&&t.enter()},y||g||d||!v||!b?w&&w.resolve?(u=w.resolve(void 0),l=u.then,s=function(){l.call(u,r)}):s=g?function(){m.nextTick(r)}:function(){h.call(p,r)}:(c=!0,a=b.createTextNode(""),new v(r).observe(a,{characterData:!0}),s=function(){a.data=c=!c})),t.exports=O||function(t){var e={fn:t,next:void 0};i&&(i.next=e),o||(o=e,s()),i=e}},3366:function(t,e,n){var r=n(7854);t.exports=r.Promise},133:function(t,e,n){var r=n(7293);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},8536:function(t,e,n){var r=n(7854),o=n(2788),i=r.WeakMap;t.exports="function"==typeof i&&/native code/.test(o(i))},8523:function(t,e,n){"use strict";var r=n(3099),o=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new o(t)}},3070:function(t,e,n){var r=n(9781),o=n(4664),i=n(9670),s=n(7593),c=Object.defineProperty;e.f=r?c:function(t,e,n){if(i(t),e=s(e,!0),i(n),o)try{return c(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:function(t,e,n){var r=n(9781),o=n(5296),i=n(9114),s=n(5656),c=n(7593),a=n(6656),u=n(4664),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=s(t),e=c(e,!0),u)try{return l(t,e)}catch(t){}if(a(t,e))return i(!o.f.call(t,e),t[e])}},8006:function(t,e,n){var r=n(6324),o=n(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},6324:function(t,e,n){var r=n(6656),o=n(5656),i=n(1318).indexOf,s=n(3501);t.exports=function(t,e){var n,c=o(t),a=0,u=[];for(n in c)!r(s,n)&&r(c,n)&&u.push(n);for(;e.length>a;)r(c,n=e[a++])&&(~i(u,n)||u.push(n));return u}},5296:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);e.f=o?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},288:function(t,e,n){"use strict";var r=n(1694),o=n(648);t.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},3887:function(t,e,n){var r=n(5005),o=n(8006),i=n(5181),s=n(9670);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(s(t)),n=i.f;return n?e.concat(n(t)):e}},857:function(t,e,n){var r=n(7854);t.exports=r},2534:function(t){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},9478:function(t,e,n){var r=n(9670),o=n(111),i=n(8523);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},2248:function(t,e,n){var r=n(1320);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},1320:function(t,e,n){var r=n(7854),o=n(8880),i=n(6656),s=n(3505),c=n(2788),a=n(9909),u=a.get,l=a.enforce,p=String(String).split("String");(t.exports=function(t,e,n,c){var a,u=!!c&&!!c.unsafe,f=!!c&&!!c.enumerable,h=!!c&&!!c.noTargetGet;"function"==typeof n&&("string"!=typeof e||i(n,"name")||o(n,"name",e),(a=l(n)).source||(a.source=p.join("string"==typeof e?e:""))),t!==r?(u?!h&&t[e]&&(f=!0):delete t[e],f?t[e]=n:o(t,e,n)):f?t[e]=n:s(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||c(this)}))},4488:function(t){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},3505:function(t,e,n){var r=n(7854),o=n(8880);t.exports=function(t,e){try{o(r,t,e)}catch(n){r[t]=e}return e}},6340:function(t,e,n){"use strict";var r=n(5005),o=n(3070),i=n(5112),s=n(9781),c=i("species");t.exports=function(t){var e=r(t),n=o.f;s&&e&&!e[c]&&n(e,c,{configurable:!0,get:function(){return this}})}},8003:function(t,e,n){var r=n(3070).f,o=n(6656),i=n(5112)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},6200:function(t,e,n){var r=n(2309),o=n(9711),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},5465:function(t,e,n){var r=n(7854),o=n(3505),i="__core-js_shared__",s=r[i]||o(i,{});t.exports=s},2309:function(t,e,n){var r=n(1913),o=n(5465);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.8.3",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},6707:function(t,e,n){var r=n(9670),o=n(3099),i=n(5112)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||null==(n=r(s)[i])?e:o(n)}},261:function(t,e,n){var r,o,i,s=n(7854),c=n(7293),a=n(9974),u=n(490),l=n(317),p=n(6833),f=n(5268),h=s.location,y=s.setImmediate,d=s.clearImmediate,g=s.process,v=s.MessageChannel,b=s.Dispatch,m=0,w={},_=function(t){if(w.hasOwnProperty(t)){var e=w[t];delete w[t],e()}},O=function(t){return function(){_(t)}},S=function(t){_(t.data)},E=function(t){s.postMessage(t+"",h.protocol+"//"+h.host)};y&&d||(y=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return w[++m]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(m),m},d=function(t){delete w[t]},f?r=function(t){g.nextTick(O(t))}:b&&b.now?r=function(t){b.now(O(t))}:v&&!p?(i=(o=new v).port2,o.port1.onmessage=S,r=a(i.postMessage,i,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts&&h&&"file:"!==h.protocol&&!c(E)?(r=E,s.addEventListener("message",S,!1)):r="onreadystatechange"in l("script")?function(t){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),_(t)}}:function(t){setTimeout(O(t),0)}),t.exports={set:y,clear:d}},1400:function(t,e,n){var r=n(9958),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},5656:function(t,e,n){var r=n(8361),o=n(4488);t.exports=function(t){return r(o(t))}},9958:function(t){var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},7466:function(t,e,n){var r=n(9958),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},7593:function(t,e,n){var r=n(111);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},1694:function(t,e,n){var r={};r[n(5112)("toStringTag")]="z",t.exports="[object z]"===String(r)},9711:function(t){var e=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+n).toString(36)}},3307:function(t,e,n){var r=n(133);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5112:function(t,e,n){var r=n(7854),o=n(2309),i=n(6656),s=n(9711),c=n(133),a=n(3307),u=o("wks"),l=r.Symbol,p=a?l:l&&l.withoutSetter||s;t.exports=function(t){return i(u,t)||(c&&i(l,t)?u[t]=l[t]:u[t]=p("Symbol."+t)),u[t]}},1539:function(t,e,n){var r=n(1694),o=n(1320),i=n(288);r||o(Object.prototype,"toString",i,{unsafe:!0})},8674:function(t,e,n){"use strict";var r,o,i,s,c=n(2109),a=n(1913),u=n(7854),l=n(5005),p=n(3366),f=n(1320),h=n(2248),y=n(8003),d=n(6340),g=n(111),v=n(3099),b=n(5787),m=n(2788),w=n(408),_=n(7072),O=n(6707),S=n(261).set,E=n(5948),P=n(9478),x=n(842),j=n(8523),k=n(2534),A=n(9909),T=n(4705),R=n(5112),N=n(5268),D=n(7392),I=R("species"),F="Promise",q=A.get,L=A.set,M=A.getterFor(F),C=p,U=u.TypeError,B=u.document,G=u.process,z=l("fetch"),W=j.f,V=W,$=!!(B&&B.createEvent&&u.dispatchEvent),J="function"==typeof PromiseRejectionEvent,Q="unhandledrejection",H=T(F,(function(){if(m(C)===String(C)){if(66===D)return!0;if(!N&&!J)return!0}if(a&&!C.prototype.finally)return!0;if(D>=51&&/native code/.test(C))return!1;var t=C.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[I]=e,!(t.then((function(){}))instanceof e)})),X=H||!_((function(t){C.all(t).catch((function(){}))})),Y=function(t){var e;return!(!g(t)||"function"!=typeof(e=t.then))&&e},K=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;E((function(){for(var r=t.value,o=1==t.state,i=0;n.length>i;){var s,c,a,u=n[i++],l=o?u.ok:u.fail,p=u.resolve,f=u.reject,h=u.domain;try{l?(o||(2===t.rejection&&nt(t),t.rejection=1),!0===l?s=r:(h&&h.enter(),s=l(r),h&&(h.exit(),a=!0)),s===u.promise?f(U("Promise-chain cycle")):(c=Y(s))?c.call(s,p,f):p(s)):f(r)}catch(t){h&&!a&&h.exit(),f(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&tt(t)}))}},Z=function(t,e,n){var r,o;$?((r=B.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),u.dispatchEvent(r)):r={promise:e,reason:n},!J&&(o=u["on"+t])?o(r):t===Q&&x("Unhandled promise rejection",n)},tt=function(t){S.call(u,(function(){var e,n=t.facade,r=t.value;if(et(t)&&(e=k((function(){N?G.emit("unhandledRejection",r,n):Z(Q,n,r)})),t.rejection=N||et(t)?2:1,e.error))throw e.value}))},et=function(t){return 1!==t.rejection&&!t.parent},nt=function(t){S.call(u,(function(){var e=t.facade;N?G.emit("rejectionHandled",e):Z("rejectionhandled",e,t.value)}))},rt=function(t,e,n){return function(r){t(e,r,n)}},ot=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,K(t,!0))},it=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw U("Promise can't be resolved itself");var r=Y(e);r?E((function(){var n={done:!1};try{r.call(e,rt(it,n,t),rt(ot,n,t))}catch(e){ot(n,e,t)}})):(t.value=e,t.state=1,K(t,!1))}catch(e){ot({done:!1},e,t)}}};H&&(C=function(t){b(this,C,F),v(t),r.call(this);var e=q(this);try{t(rt(it,e),rt(ot,e))}catch(t){ot(e,t)}},(r=function(t){L(this,{type:F,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(C.prototype,{then:function(t,e){var n=M(this),r=W(O(this,C));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=N?G.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&K(n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r,e=q(t);this.promise=t,this.resolve=rt(it,e),this.reject=rt(ot,e)},j.f=W=function(t){return t===C||t===i?new o(t):V(t)},a||"function"!=typeof p||(s=p.prototype.then,f(p.prototype,"then",(function(t,e){var n=this;return new C((function(t,e){s.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof z&&c({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return P(C,z.apply(u,arguments))}}))),c({global:!0,wrap:!0,forced:H},{Promise:C}),y(C,F,!1,!0),d(F),i=l(F),c({target:F,stat:!0,forced:H},{reject:function(t){var e=W(this);return e.reject.call(void 0,t),e.promise}}),c({target:F,stat:!0,forced:a||H},{resolve:function(t){return P(a&&this===i?C:this,t)}}),c({target:F,stat:!0,forced:X},{all:function(t){var e=this,n=W(e),r=n.resolve,o=n.reject,i=k((function(){var n=v(e.resolve),i=[],s=0,c=1;w(t,(function(t){var a=s++,u=!1;i.push(void 0),c++,n.call(e,t).then((function(t){u||(u=!0,i[a]=t,--c||r(i))}),o)})),--c||r(i)}));return i.error&&o(i.value),n.promise},race:function(t){var e=this,n=W(e),r=n.reject,o=k((function(){var o=v(e.resolve);w(t,(function(t){o.call(e,t).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}})},4289:function(t,e,n){"use strict";var r=n(2215),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,s=Array.prototype.concat,c=Object.defineProperty,a=c&&function(){var t={};try{for(var e in c(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),u=function(t,e,n,r){var o;(!(e in t)||"function"==typeof(o=r)&&"[object Function]"===i.call(o)&&r())&&(a?c(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n)},l=function(t,e){var n=arguments.length>2?arguments[2]:{},i=r(e);o&&(i=s.call(i,Object.getOwnPropertySymbols(e)));for(var c=0;c<i.length;c+=1)u(t,i[c],e[i[c]],n[i[c]])};l.supportsDescriptors=!!a,t.exports=l},4079:function(t,e,n){"use strict";var r=n(210)("%Object.getOwnPropertyDescriptor%");if(r)try{r([],"length")}catch(t){r=null}t.exports=r},8091:function(t){"use strict";function e(t,e){if(null==t)throw new TypeError("Cannot convert first argument to object");for(var n=Object(t),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i=Object.keys(Object(o)),s=0,c=i.length;s<c;s++){var a=i[s],u=Object.getOwnPropertyDescriptor(o,a);void 0!==u&&u.enumerable&&(n[a]=o[a])}}return n}t.exports={assign:e,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:e})}}},7187:function(t,e,n){"use strict";var r,o=n(5108),i="object"==typeof Reflect?Reflect:null,s=i&&"function"==typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var c=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}t.exports=a,t.exports.once=function(t,e){return new Promise((function(n,r){function o(){void 0!==i&&t.removeListener("error",i),n([].slice.call(arguments))}var i;"error"!==e&&(i=function(n){t.removeListener(e,o),r(n)},t.once("error",i)),t.once(e,o)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function l(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function p(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function f(t,e,n,r){var i,s,c,a;if(l(n),void 0===(s=t._events)?(s=t._events=Object.create(null),t._eventsCount=0):(void 0!==s.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),c=s[e]),void 0===c)c=s[e]=n,++t._eventsCount;else if("function"==typeof c?c=s[e]=r?[n,c]:[c,n]:r?c.unshift(n):c.push(n),(i=p(t))>0&&c.length>i&&!c.warned){c.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=c.length,a=u,o&&o.warn&&o.warn(a)}return t}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function y(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=h.bind(r);return o.listener=n,r.wrapFn=o,o}function d(t,e,n){var r=t._events;if(void 0===r)return[];var o=r[e];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(o):v(o,o.length)}function g(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||c(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||c(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return p(this)},a.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var i;if(e.length>0&&(i=e[0]),i instanceof Error)throw i;var c=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw c.context=i,c}var a=o[t];if(void 0===a)return!1;if("function"==typeof a)s(a,this,e);else{var u=a.length,l=v(a,u);for(n=0;n<u;++n)s(l[n],this,e)}return!0},a.prototype.addListener=function(t,e){return f(this,t,e,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(t,e){return f(this,t,e,!0)},a.prototype.once=function(t,e){return l(e),this.on(t,y(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){return l(e),this.prependListener(t,y(this,t,e)),this},a.prototype.removeListener=function(t,e){var n,r,o,i,s;if(l(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===e||n[i].listener===e){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,o),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},a.prototype.listeners=function(t){return d(this,t,!0)},a.prototype.rawListeners=function(t){return d(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):g.call(t,e)},a.prototype.listenerCount=g,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},9804:function(t){var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString;t.exports=function(t,r,o){if("[object Function]"!==n.call(r))throw new TypeError("iterator must be a function");var i=t.length;if(i===+i)for(var s=0;s<i;s++)r.call(o,t[s],s,t);else for(var c in t)e.call(t,c)&&r.call(o,t[c],c,t)}},7648:function(t){"use strict";var e="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,r=Object.prototype.toString,o="[object Function]";t.exports=function(t){var i=this;if("function"!=typeof i||r.call(i)!==o)throw new TypeError(e+i);for(var s,c=n.call(arguments,1),a=function(){if(this instanceof s){var e=i.apply(this,c.concat(n.call(arguments)));return Object(e)===e?e:this}return i.apply(t,c.concat(n.call(arguments)))},u=Math.max(0,i.length-c.length),l=[],p=0;p<u;p++)l.push("$"+p);if(s=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(a),i.prototype){var f=function(){};f.prototype=i.prototype,s.prototype=new f,f.prototype=null}return s}},8612:function(t,e,n){"use strict";var r=n(7648);t.exports=Function.prototype.bind||r},210:function(t,e,n){"use strict";var r,o=SyntaxError,i=Function,s=TypeError,c=function(t){try{return i('"use strict"; return ('+t+").constructor;")()}catch(t){}},a=Object.getOwnPropertyDescriptor;if(a)try{a({},"")}catch(t){a=null}var u=function(){throw new s},l=a?function(){try{return u}catch(t){try{return a(arguments,"callee").get}catch(t){return u}}}():u,p=n(1405)(),f=Object.getPrototypeOf||function(t){return t.__proto__},h={},y="undefined"==typeof Uint8Array?r:f(Uint8Array),d={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":p?f([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":h,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p?f(f([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&p?f((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&p?f((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p?f(""[Symbol.iterator]()):r,"%Symbol%":p?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":l,"%TypedArray%":y,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet},g=function t(e){var n;if("%AsyncFunction%"===e)n=c("async function () {}");else if("%GeneratorFunction%"===e)n=c("function* () {}");else if("%AsyncGeneratorFunction%"===e)n=c("async function* () {}");else if("%AsyncGenerator%"===e){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=t("%AsyncGenerator%");o&&(n=f(o.prototype))}return d[e]=n,n},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=n(8612),m=n(7642),w=b.call(Function.call,Array.prototype.concat),_=b.call(Function.apply,Array.prototype.splice),O=b.call(Function.call,String.prototype.replace),S=b.call(Function.call,String.prototype.slice),E=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,P=/\\(\\)?/g,x=function(t){var e=S(t,0,1),n=S(t,-1);if("%"===e&&"%"!==n)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new o("invalid intrinsic syntax, expected opening `%`");var r=[];return O(t,E,(function(t,e,n,o){r[r.length]=n?O(o,P,"$1"):e||t})),r},j=function(t,e){var n,r=t;if(m(v,r)&&(r="%"+(n=v[r])[0]+"%"),m(d,r)){var i=d[r];if(i===h&&(i=g(r)),void 0===i&&!e)throw new s("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new o("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new s('"allowMissing" argument must be a boolean');var n=x(t),r=n.length>0?n[0]:"",i=j("%"+r+"%",e),c=i.name,u=i.value,l=!1,p=i.alias;p&&(r=p[0],_(n,w([0,1],p)));for(var f=1,h=!0;f<n.length;f+=1){var y=n[f],g=S(y,0,1),v=S(y,-1);if(('"'===g||"'"===g||"`"===g||'"'===v||"'"===v||"`"===v)&&g!==v)throw new o("property names with quotes must have matching quotes");if("constructor"!==y&&h||(l=!0),m(d,c="%"+(r+="."+y)+"%"))u=d[c];else if(null!=u){if(!(y in u)){if(!e)throw new s("base intrinsic for "+t+" exists, but the property is not available.");return}if(a&&f+1>=n.length){var b=a(u,y);u=(h=!!b)&&"get"in b&&!("originalValue"in b.get)?b.get:u[y]}else h=m(u,y),u=u[y];h&&!l&&(d[c]=u)}}return u}},1405:function(t,e,n){"use strict";var r=n.g.Symbol,o=n(5419);t.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&o()}},5419:function(t){"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},7642:function(t,e,n){"use strict";var r=n(8612);t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},5717:function(t){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},2584:function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,o=n(1924)("Object.prototype.toString"),i=function(t){return!(r&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===o(t)},s=function(t){return!!i(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==o(t)&&"[object Function]"===o(t.callee)},c=function(){return i(arguments)}();i.isLegacyArguments=s,t.exports=c?i:s},8662:function(t){"use strict";var e=Object.prototype.toString,n=Function.prototype.toString,r=/^\s*(?:function)?\*/,o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,i=Object.getPrototypeOf,s=function(){if(!o)return!1;try{return Function("return function*() {}")()}catch(t){}}(),c=!(!i||!s)&&i(s);t.exports=function(t){return"function"==typeof t&&(!!r.test(n.call(t))||(o?i&&i(t)===c:"[object GeneratorFunction]"===e.call(t)))}},8611:function(t){"use strict";t.exports=function(t){return t!=t}},360:function(t,e,n){"use strict";var r=n(5559),o=n(4289),i=n(8611),s=n(9415),c=n(3194),a=r(s(),Number);o(a,{getPolyfill:s,implementation:i,shim:c}),t.exports=a},9415:function(t,e,n){"use strict";var r=n(8611);t.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:r}},3194:function(t,e,n){"use strict";var r=n(4289),o=n(9415);t.exports=function(){var t=o();return r(Number,{isNaN:t},{isNaN:function(){return Number.isNaN!==t}}),t}},5692:function(t,e,n){"use strict";var r=n(9804),o=n(6314),i=n(1924),s=i("Object.prototype.toString"),c=n(1405)()&&"symbol"==typeof Symbol.toStringTag,a=o(),u=i("Array.prototype.indexOf",!0)||function(t,e){for(var n=0;n<t.length;n+=1)if(t[n]===e)return n;return-1},l=i("String.prototype.slice"),p={},f=n(4079),h=Object.getPrototypeOf;c&&f&&h&&r(a,(function(t){var e=new n.g[t];if(!(Symbol.toStringTag in e))throw new EvalError("this engine has support for Symbol.toStringTag, but "+t+" does not have the property! Please report this.");var r=h(e),o=f(r,Symbol.toStringTag);if(!o){var i=h(r);o=f(i,Symbol.toStringTag)}p[t]=o.get})),t.exports=function(t){if(!t||"object"!=typeof t)return!1;if(!c){var e=l(s(t),8,-1);return u(a,e)>-1}return!!f&&function(t){var e=!1;return r(p,(function(n,r){if(!e)try{e=n.call(t)===r}catch(t){}})),e}(t)}},1432:function(t,e){"use strict";var n="undefined"!=typeof Reflect?Reflect.construct:void 0,r=Object.defineProperty,o=Error.captureStackTrace;function i(t){void 0!==t&&r(this,"message",{configurable:!0,value:t,writable:!0});var e=this.constructor.name;void 0!==e&&e!==this.name&&r(this,"name",{configurable:!0,value:e,writable:!0}),o(this,this.constructor)}void 0===o&&(o=function(t){var e=new Error;r(t,"stack",{configurable:!0,get:function(){var t=e.stack;return r(this,"stack",{configurable:!0,value:t,writable:!0}),t},set:function(e){r(t,"stack",{configurable:!0,value:e,writable:!0})}})}),i.prototype=Object.create(Error.prototype,{constructor:{configurable:!0,value:i,writable:!0}});var s=function(){function t(t,e){return r(t,"name",{configurable:!0,value:e})}try{var e=function(){};if(t(e,"foo"),"foo"===e.name)return t}catch(t){}}();(t.exports=function(t,e){if(null==e||e===Error)e=i;else if("function"!=typeof e)throw new TypeError("super_ should be a function");var r;if("string"==typeof t)r=t,t=void 0!==n?function(){return n(e,arguments,this.constructor)}:function(){e.apply(this,arguments)},void 0!==s&&(s(t,r),r=void 0);else if("function"!=typeof t)throw new TypeError("constructor should be either a string or a function");t.super_=t.super=e;var o={constructor:{configurable:!0,value:t,writable:!0}};return void 0!==r&&(o.name={configurable:!0,value:r,writable:!0}),t.prototype=Object.create(e.prototype,o),t}).BaseError=i},4244:function(t){"use strict";var e=function(t){return t!=t};t.exports=function(t,n){return 0===t&&0===n?1/t==1/n:t===n||!(!e(t)||!e(n))}},609:function(t,e,n){"use strict";var r=n(4289),o=n(5559),i=n(4244),s=n(5624),c=n(2281),a=o(s(),Object);r(a,{getPolyfill:s,implementation:i,shim:c}),t.exports=a},5624:function(t,e,n){"use strict";var r=n(4244);t.exports=function(){return"function"==typeof Object.is?Object.is:r}},2281:function(t,e,n){"use strict";var r=n(5624),o=n(4289);t.exports=function(){var t=r();return o(Object,{is:t},{is:function(){return Object.is!==t}}),t}},8987:function(t,e,n){"use strict";var r;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,s=n(1414),c=Object.prototype.propertyIsEnumerable,a=!c.call({toString:null},"toString"),u=c.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(t){var e=t.constructor;return e&&e.prototype===t},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!f["$"+t]&&o.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{p(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(t){var e=null!==t&&"object"==typeof t,n="[object Function]"===i.call(t),r=s(t),c=e&&"[object String]"===i.call(t),f=[];if(!e&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var y=u&&n;if(c&&t.length>0&&!o.call(t,0))for(var d=0;d<t.length;++d)f.push(String(d));if(r&&t.length>0)for(var g=0;g<t.length;++g)f.push(String(g));else for(var v in t)y&&"prototype"===v||!o.call(t,v)||f.push(String(v));if(a)for(var b=function(t){if("undefined"==typeof window||!h)return p(t);try{return p(t)}catch(t){return!1}}(t),m=0;m<l.length;++m)b&&"constructor"===l[m]||!o.call(t,l[m])||f.push(l[m]);return f}}t.exports=r},2215:function(t,e,n){"use strict";var r=Array.prototype.slice,o=n(1414),i=Object.keys,s=i?function(t){return i(t)}:n(8987),c=Object.keys;s.shim=function(){return Object.keys?function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2)||(Object.keys=function(t){return o(t)?c(r.call(t)):c(t)}):Object.keys=s,Object.keys||s},t.exports=s},1414:function(t){"use strict";var e=Object.prototype.toString;t.exports=function(t){var n=e.call(t),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),r}},4155:function(t){var e,n,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===o||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:o}catch(t){e=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(t){n=i}}();var c,a=[],u=!1,l=-1;function p(){u&&c&&(u=!1,c.length?a=c.concat(a):l=-1,a.length&&f())}function f(){if(!u){var t=s(p);u=!0;for(var e=a.length;e;){for(c=a,a=[];++l<e;)c&&c[l].run();l=-1,e=a.length}c=null,u=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function y(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];a.push(new h(t,e)),1!==a.length||u||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=y,r.addListener=y,r.once=y,r.off=y,r.removeListener=y,r.removeAllListeners=y,r.emit=y,r.prependListener=y,r.prependOnceListener=y,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},384:function(t){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},5955:function(t,e,n){"use strict";var r=n(2584),o=n(8662),i=n(6430),s=n(5692);function c(t){return t.call.bind(t)}var a="undefined"!=typeof BigInt,u="undefined"!=typeof Symbol,l=c(Object.prototype.toString),p=c(Number.prototype.valueOf),f=c(String.prototype.valueOf),h=c(Boolean.prototype.valueOf);if(a)var y=c(BigInt.prototype.valueOf);if(u)var d=c(Symbol.prototype.valueOf);function g(t,e){if("object"!=typeof t)return!1;try{return e(t),!0}catch(t){return!1}}function v(t){return"[object Map]"===l(t)}function b(t){return"[object Set]"===l(t)}function m(t){return"[object WeakMap]"===l(t)}function w(t){return"[object WeakSet]"===l(t)}function _(t){return"[object ArrayBuffer]"===l(t)}function O(t){return"undefined"!=typeof ArrayBuffer&&(_.working?_(t):t instanceof ArrayBuffer)}function S(t){return"[object DataView]"===l(t)}function E(t){return"undefined"!=typeof DataView&&(S.working?S(t):t instanceof DataView)}function P(t){return"[object SharedArrayBuffer]"===l(t)}function x(t){return"undefined"!=typeof SharedArrayBuffer&&(P.working?P(t):t instanceof SharedArrayBuffer)}function j(t){return g(t,p)}function k(t){return g(t,f)}function A(t){return g(t,h)}function T(t){return a&&g(t,y)}function R(t){return u&&g(t,d)}e.isArgumentsObject=r,e.isGeneratorFunction=o,e.isTypedArray=s,e.isPromise=function(t){return"undefined"!=typeof Promise&&t instanceof Promise||null!==t&&"object"==typeof t&&"function"==typeof t.then&&"function"==typeof t.catch},e.isArrayBufferView=function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):s(t)||E(t)},e.isUint8Array=function(t){return"Uint8Array"===i(t)},e.isUint8ClampedArray=function(t){return"Uint8ClampedArray"===i(t)},e.isUint16Array=function(t){return"Uint16Array"===i(t)},e.isUint32Array=function(t){return"Uint32Array"===i(t)},e.isInt8Array=function(t){return"Int8Array"===i(t)},e.isInt16Array=function(t){return"Int16Array"===i(t)},e.isInt32Array=function(t){return"Int32Array"===i(t)},e.isFloat32Array=function(t){return"Float32Array"===i(t)},e.isFloat64Array=function(t){return"Float64Array"===i(t)},e.isBigInt64Array=function(t){return"BigInt64Array"===i(t)},e.isBigUint64Array=function(t){return"BigUint64Array"===i(t)},v.working="undefined"!=typeof Map&&v(new Map),e.isMap=function(t){return"undefined"!=typeof Map&&(v.working?v(t):t instanceof Map)},b.working="undefined"!=typeof Set&&b(new Set),e.isSet=function(t){return"undefined"!=typeof Set&&(b.working?b(t):t instanceof Set)},m.working="undefined"!=typeof WeakMap&&m(new WeakMap),e.isWeakMap=function(t){return"undefined"!=typeof WeakMap&&(m.working?m(t):t instanceof WeakMap)},w.working="undefined"!=typeof WeakSet&&w(new WeakSet),e.isWeakSet=function(t){return w(t)},_.working="undefined"!=typeof ArrayBuffer&&_(new ArrayBuffer),e.isArrayBuffer=O,S.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&S(new DataView(new ArrayBuffer(1),0,1)),e.isDataView=E,P.working="undefined"!=typeof SharedArrayBuffer&&P(new SharedArrayBuffer),e.isSharedArrayBuffer=x,e.isAsyncFunction=function(t){return"[object AsyncFunction]"===l(t)},e.isMapIterator=function(t){return"[object Map Iterator]"===l(t)},e.isSetIterator=function(t){return"[object Set Iterator]"===l(t)},e.isGeneratorObject=function(t){return"[object Generator]"===l(t)},e.isWebAssemblyCompiledModule=function(t){return"[object WebAssembly.Module]"===l(t)},e.isNumberObject=j,e.isStringObject=k,e.isBooleanObject=A,e.isBigIntObject=T,e.isSymbolObject=R,e.isBoxedPrimitive=function(t){return j(t)||k(t)||A(t)||T(t)||R(t)},e.isAnyArrayBuffer=function(t){return"undefined"!=typeof Uint8Array&&(O(t)||x(t))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(t){Object.defineProperty(e,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})}))},9539:function(t,e,n){var r=n(4155),o=n(5108),i=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},s=/%[sdj%]/g;e.format=function(t){if(!w(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(l(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,i=String(t).replace(s,(function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}})),c=r[n];n<o;c=r[++n])b(c)||!S(c)?i+=" "+c:i+=" "+l(c);return i},e.deprecate=function(t,n){if(void 0!==r&&!0===r.noDeprecation)return t;if(void 0===r)return function(){return e.deprecate(t,n).apply(this,arguments)};var i=!1;return function(){if(!i){if(r.throwDeprecation)throw new Error(n);r.traceDeprecation?o.trace(n):o.error(n),i=!0}return t.apply(this,arguments)}};var c={},a=/^$/;if(r.env.NODE_DEBUG){var u=r.env.NODE_DEBUG;u=u.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+u+"$","i")}function l(t,n){var r={seen:[],stylize:f};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),v(n)?r.showHidden=n:n&&e._extend(r,n),_(r.showHidden)&&(r.showHidden=!1),_(r.depth)&&(r.depth=2),_(r.colors)&&(r.colors=!1),_(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=p),h(r,t,r.depth)}function p(t,e){var n=l.styles[e];return n?"["+l.colors[n][0]+"m"+t+"["+l.colors[n][1]+"m":t}function f(t,e){return t}function h(t,n,r){if(t.customInspect&&n&&x(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,t);return w(o)||(o=h(t,o,r)),o}var i=function(t,e){if(_(e))return t.stylize("undefined","undefined");if(w(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return m(e)?t.stylize(""+e,"number"):v(e)?t.stylize(""+e,"boolean"):b(e)?t.stylize("null","null"):void 0}(t,n);if(i)return i;var s=Object.keys(n),c=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),P(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return y(n);if(0===s.length){if(x(n)){var a=n.name?": "+n.name:"";return t.stylize("[Function"+a+"]","special")}if(O(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(E(n))return t.stylize(Date.prototype.toString.call(n),"date");if(P(n))return y(n)}var u,l="",p=!1,f=["{","}"];return g(n)&&(p=!0,f=["[","]"]),x(n)&&(l=" [Function"+(n.name?": "+n.name:"")+"]"),O(n)&&(l=" "+RegExp.prototype.toString.call(n)),E(n)&&(l=" "+Date.prototype.toUTCString.call(n)),P(n)&&(l=" "+y(n)),0!==s.length||p&&0!=n.length?r<0?O(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),u=p?function(t,e,n,r,o){for(var i=[],s=0,c=e.length;s<c;++s)R(e,String(s))?i.push(d(t,e,n,r,String(s),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(d(t,e,n,r,o,!0))})),i}(t,n,r,c,s):s.map((function(e){return d(t,n,r,c,e,p)})),t.seen.pop(),function(t,e,n){return t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(u,l,f)):f[0]+l+f[1]}function y(t){return"["+Error.prototype.toString.call(t)+"]"}function d(t,e,n,r,o,i){var s,c,a;if((a=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?c=a.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):a.set&&(c=t.stylize("[Setter]","special")),R(r,o)||(s="["+o+"]"),c||(t.seen.indexOf(a.value)<0?(c=b(n)?h(t,a.value,null):h(t,a.value,n-1)).indexOf("\n")>-1&&(c=i?c.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+c.split("\n").map((function(t){return"   "+t})).join("\n")):c=t.stylize("[Circular]","special")),_(s)){if(i&&o.match(/^\d+$/))return c;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+c}function g(t){return Array.isArray(t)}function v(t){return"boolean"==typeof t}function b(t){return null===t}function m(t){return"number"==typeof t}function w(t){return"string"==typeof t}function _(t){return void 0===t}function O(t){return S(t)&&"[object RegExp]"===j(t)}function S(t){return"object"==typeof t&&null!==t}function E(t){return S(t)&&"[object Date]"===j(t)}function P(t){return S(t)&&("[object Error]"===j(t)||t instanceof Error)}function x(t){return"function"==typeof t}function j(t){return Object.prototype.toString.call(t)}function k(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(t=t.toUpperCase(),!c[t])if(a.test(t)){var n=r.pid;c[t]=function(){var r=e.format.apply(e,arguments);o.error("%s %d: %s",t,n,r)}}else c[t]=function(){};return c[t]},e.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.types=n(5955),e.isArray=g,e.isBoolean=v,e.isNull=b,e.isNullOrUndefined=function(t){return null==t},e.isNumber=m,e.isString=w,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=_,e.isRegExp=O,e.types.isRegExp=O,e.isObject=S,e.isDate=E,e.types.isDate=E,e.isError=P,e.types.isNativeError=P,e.isFunction=x,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(384);var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(){var t=new Date,e=[k(t.getHours()),k(t.getMinutes()),k(t.getSeconds())].join(":");return[t.getDate(),A[t.getMonth()],e].join(" ")}function R(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){o.log("%s - %s",T(),e.format.apply(e,arguments))},e.inherits=n(5717),e._extend=function(t,e){if(!e||!S(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var N="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function D(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(N&&t[N]){var e;if("function"!=typeof(e=t[N]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,N,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise((function(t,r){e=t,n=r})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(t,r){t?n(t):e(r)}));try{t.apply(this,o)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),N&&Object.defineProperty(e,N,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,i(t))},e.promisify.custom=N,e.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function e(){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n]);var o=e.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,s=function(){return o.apply(i,arguments)};t.apply(this,e).then((function(t){r.nextTick(s.bind(null,null,t))}),(function(t){r.nextTick(D.bind(null,t,s))}))}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,i(t)),e}},6430:function(t,e,n){"use strict";var r=n(9804),o=n(6314),i=n(1924),s=i("Object.prototype.toString"),c=n(1405)()&&"symbol"==typeof Symbol.toStringTag,a=o(),u=i("String.prototype.slice"),l={},p=n(4079),f=Object.getPrototypeOf;c&&p&&f&&r(a,(function(t){if("function"==typeof n.g[t]){var e=new n.g[t];if(!(Symbol.toStringTag in e))throw new EvalError("this engine has support for Symbol.toStringTag, but "+t+" does not have the property! Please report this.");var r=f(e),o=p(r,Symbol.toStringTag);if(!o){var i=f(r);o=p(i,Symbol.toStringTag)}l[t]=o.get}}));var h=n(5692);t.exports=function(t){return!!h(t)&&(c?function(t){var e=!1;return r(l,(function(n,r){if(!e)try{var o=n.call(t);o===r&&(e=o)}catch(t){}})),e}(t):u(s(t),8,-1))}}},e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";n(1539),n(8674);var t=n(6330),e=n(5108),r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function i(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function s(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t}var c=function(t,e){this.target=e,this.type=t},a=function(t){function e(e,n){var r=t.call(this,"error",n)||this;return r.message=e.message,r.error=e,r}return o(e,t),e}(c),u=function(t){function e(e,n,r){void 0===e&&(e=1e3),void 0===n&&(n="");var o=t.call(this,"close",r)||this;return o.wasClean=!0,o.code=e,o.reason=n,o}return o(e,t),e}(c),l=function(){if("undefined"!=typeof WebSocket)return WebSocket},p={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+4e3*Math.random(),minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,maxEnqueuedMessages:1/0,startClosed:!1,debug:!1},f=function(){function t(t,e,n){var r=this;void 0===n&&(n={}),this._listeners={error:[],message:[],open:[],close:[]},this._retryCount=-1,this._shouldReconnect=!0,this._connectLock=!1,this._binaryType="blob",this._closeCalled=!1,this._messageQueue=[],this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this._handleOpen=function(t){r._debug("open event");var e=r._options.minUptime,n=void 0===e?p.minUptime:e;clearTimeout(r._connectTimeout),r._uptimeTimeout=setTimeout((function(){return r._acceptOpen()}),n),r._ws.binaryType=r._binaryType,r._messageQueue.forEach((function(t){return r._ws.send(t)})),r._messageQueue=[],r.onopen&&r.onopen(t),r._listeners.open.forEach((function(e){return r._callEventListener(t,e)}))},this._handleMessage=function(t){r._debug("message event"),r.onmessage&&r.onmessage(t),r._listeners.message.forEach((function(e){return r._callEventListener(t,e)}))},this._handleError=function(t){r._debug("error event",t.message),r._disconnect(void 0,"TIMEOUT"===t.message?"timeout":void 0),r.onerror&&r.onerror(t),r._debug("exec error listeners"),r._listeners.error.forEach((function(e){return r._callEventListener(t,e)})),r._connect()},this._handleClose=function(t){r._debug("close event"),r._clearTimeouts(),r._shouldReconnect&&r._connect(),r.onclose&&r.onclose(t),r._listeners.close.forEach((function(e){return r._callEventListener(t,e)}))},this._url=t,this._protocols=e,this._options=n,this._options.startClosed&&(this._shouldReconnect=!1),this._connect()}return Object.defineProperty(t,"CONNECTING",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(t,"OPEN",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(t,"CLOSING",{get:function(){return 2},enumerable:!0,configurable:!0}),Object.defineProperty(t,"CLOSED",{get:function(){return 3},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CONNECTING",{get:function(){return t.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"OPEN",{get:function(){return t.OPEN},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CLOSING",{get:function(){return t.CLOSING},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CLOSED",{get:function(){return t.CLOSED},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"binaryType",{get:function(){return this._ws?this._ws.binaryType:this._binaryType},set:function(t){this._binaryType=t,this._ws&&(this._ws.binaryType=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"retryCount",{get:function(){return Math.max(this._retryCount,0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bufferedAmount",{get:function(){return this._messageQueue.reduce((function(t,e){return"string"==typeof e?t+=e.length:e instanceof Blob?t+=e.size:t+=e.byteLength,t}),0)+(this._ws?this._ws.bufferedAmount:0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extensions",{get:function(){return this._ws?this._ws.extensions:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"protocol",{get:function(){return this._ws?this._ws.protocol:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readyState",{get:function(){return this._ws?this._ws.readyState:this._options.startClosed?t.CLOSED:t.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this._ws?this._ws.url:""},enumerable:!0,configurable:!0}),t.prototype.close=function(t,e){void 0===t&&(t=1e3),this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),this._ws?this._ws.readyState!==this.CLOSED?this._ws.close(t,e):this._debug("close: already closed"):this._debug("close enqueued: no ws instance")},t.prototype.reconnect=function(t,e){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,this._ws&&this._ws.readyState!==this.CLOSED?(this._disconnect(t,e),this._connect()):this._connect()},t.prototype.send=function(t){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",t),this._ws.send(t);else{var e=this._options.maxEnqueuedMessages,n=void 0===e?p.maxEnqueuedMessages:e;this._messageQueue.length<n&&(this._debug("enqueue",t),this._messageQueue.push(t))}},t.prototype.addEventListener=function(t,e){this._listeners[t]&&this._listeners[t].push(e)},t.prototype.dispatchEvent=function(t){var e,n,r=this._listeners[t.type];if(r)try{for(var o=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}(r),i=o.next();!i.done;i=o.next()){var s=i.value;this._callEventListener(t,s)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return!0},t.prototype.removeEventListener=function(t,e){this._listeners[t]&&(this._listeners[t]=this._listeners[t].filter((function(t){return t!==e})))},t.prototype._debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._options.debug&&e.log.apply(e,s(["RWS>"],t))},t.prototype._getNextDelay=function(){var t=this._options,e=t.reconnectionDelayGrowFactor,n=void 0===e?p.reconnectionDelayGrowFactor:e,r=t.minReconnectionDelay,o=void 0===r?p.minReconnectionDelay:r,i=t.maxReconnectionDelay,s=void 0===i?p.maxReconnectionDelay:i,c=0;return this._retryCount>0&&(c=o*Math.pow(n,this._retryCount-1))>s&&(c=s),this._debug("next delay",c),c},t.prototype._wait=function(){var t=this;return new Promise((function(e){setTimeout(e,t._getNextDelay())}))},t.prototype._getNextUrl=function(t){if("string"==typeof t)return Promise.resolve(t);if("function"==typeof t){var e=t();if("string"==typeof e)return Promise.resolve(e);if(e.then)return e}throw Error("Invalid URL")},t.prototype._connect=function(){var t=this;if(!this._connectLock&&this._shouldReconnect){this._connectLock=!0;var e=this._options,n=e.maxRetries,r=void 0===n?p.maxRetries:n,o=e.connectionTimeout,i=void 0===o?p.connectionTimeout:o,s=e.WebSocket,c=void 0===s?l():s;if(this._retryCount>=r)this._debug("max retries reached",this._retryCount,">=",r);else{if(this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),void 0===(a=c)||!a||2!==a.CLOSING)throw Error("No valid WebSocket class provided");var a;this._wait().then((function(){return t._getNextUrl(t._url)})).then((function(e){t._closeCalled||(t._debug("connect",{url:e,protocols:t._protocols}),t._ws=t._protocols?new c(e,t._protocols):new c(e),t._ws.binaryType=t._binaryType,t._connectLock=!1,t._addListeners(),t._connectTimeout=setTimeout((function(){return t._handleTimeout()}),i))}))}}},t.prototype._handleTimeout=function(){this._debug("timeout event"),this._handleError(new a(Error("TIMEOUT"),this))},t.prototype._disconnect=function(t,e){if(void 0===t&&(t=1e3),this._clearTimeouts(),this._ws){this._removeListeners();try{this._ws.close(t,e),this._handleClose(new u(t,e,this))}catch(t){}}},t.prototype._acceptOpen=function(){this._debug("accept open"),this._retryCount=0},t.prototype._callEventListener=function(t,e){"handleEvent"in e?e.handleEvent(t):e(t)},t.prototype._removeListeners=function(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))},t.prototype._addListeners=function(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))},t.prototype._clearTimeouts=function(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)},t}(),h=n(9517),y=n.n(h),d=n(5108);n.g.inter||(n.g.inter={}),n.g.inter.getStream=function(t,e){return new Promise((function(r){var o=n.g.inter.connection.get("rz",t);o.subscribe(),o.pushChange=function(t){t&&o.submitOp({p:["changes",99999],li:t})},o.rewrite=function(t){o.submitOp({p:["changes"],oi:t})},o.getData=function(){return o.data.changes},d.log("callback",e),o.on("op",(function(t){d.log("incoming op",t),e&&e(o.data.changes)})),o.once("load",(function(){o.type||(d.log("initiating doc"),o.create({changes:[]})),r(o)}))}))},function(){t.types.register(y().type),t.types.defaultType=y().type;var e=new f("wss://icchilisrv3.epfl.ch/sharedb?null");n.g.inter.connection=new t.Connection(e)}()}()}();
//# sourceMappingURL=app.js.map