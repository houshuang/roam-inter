{"version":3,"sources":["webpack://webpack-starter/./node_modules/@chilifrog/sharedb/lib/client/connection.js","webpack://webpack-starter/./node_modules/@chilifrog/sharedb/lib/client/doc.js","webpack://webpack-starter/./node_modules/@chilifrog/sharedb/lib/client/index.js","webpack://webpack-starter/./node_modules/@chilifrog/sharedb/lib/client/query.js","webpack://webpack-starter/./node_modules/@chilifrog/sharedb/lib/client/snapshot-request.js","webpack://webpack-starter/./node_modules/@chilifrog/sharedb/lib/client/undoManager.js","webpack://webpack-starter/./node_modules/@chilifrog/sharedb/lib/emitter.js","webpack://webpack-starter/./node_modules/@chilifrog/sharedb/lib/error.js","webpack://webpack-starter/./node_modules/@chilifrog/sharedb/lib/snapshot.js","webpack://webpack-starter/./node_modules/@chilifrog/sharedb/lib/types.js","webpack://webpack-starter/./node_modules/@chilifrog/sharedb/lib/util.js","webpack://webpack-starter/./node_modules/@minervaproject/ot-json0/lib/bootstrapTransform.js","webpack://webpack-starter/./node_modules/@minervaproject/ot-json0/lib/index.js","webpack://webpack-starter/./node_modules/@minervaproject/ot-json0/lib/json0.js","webpack://webpack-starter/./node_modules/@minervaproject/ot-json0/lib/text0.js","webpack://webpack-starter/./node_modules/array-filter/index.js","webpack://webpack-starter/./node_modules/assert/build/assert.js","webpack://webpack-starter/./node_modules/assert/build/internal/assert/assertion_error.js","webpack://webpack-starter/./node_modules/assert/build/internal/errors.js","webpack://webpack-starter/./node_modules/assert/build/internal/util/comparisons.js","webpack://webpack-starter/./node_modules/available-typed-arrays/index.js","webpack://webpack-starter/./node_modules/call-bind/callBound.js","webpack://webpack-starter/./node_modules/call-bind/index.js","webpack://webpack-starter/./node_modules/console-browserify/index.js","webpack://webpack-starter/./node_modules/core-js/internals/a-function.js","webpack://webpack-starter/./node_modules/core-js/internals/an-instance.js","webpack://webpack-starter/./node_modules/core-js/internals/an-object.js","webpack://webpack-starter/./node_modules/core-js/internals/array-includes.js","webpack://webpack-starter/./node_modules/core-js/internals/check-correctness-of-iteration.js","webpack://webpack-starter/./node_modules/core-js/internals/classof-raw.js","webpack://webpack-starter/./node_modules/core-js/internals/classof.js","webpack://webpack-starter/./node_modules/core-js/internals/copy-constructor-properties.js","webpack://webpack-starter/./node_modules/core-js/internals/create-non-enumerable-property.js","webpack://webpack-starter/./node_modules/core-js/internals/create-property-descriptor.js","webpack://webpack-starter/./node_modules/core-js/internals/descriptors.js","webpack://webpack-starter/./node_modules/core-js/internals/document-create-element.js","webpack://webpack-starter/./node_modules/core-js/internals/engine-is-ios.js","webpack://webpack-starter/./node_modules/core-js/internals/engine-is-node.js","webpack://webpack-starter/./node_modules/core-js/internals/engine-is-webos-webkit.js","webpack://webpack-starter/./node_modules/core-js/internals/engine-user-agent.js","webpack://webpack-starter/./node_modules/core-js/internals/engine-v8-version.js","webpack://webpack-starter/./node_modules/core-js/internals/enum-bug-keys.js","webpack://webpack-starter/./node_modules/core-js/internals/export.js","webpack://webpack-starter/./node_modules/core-js/internals/fails.js","webpack://webpack-starter/./node_modules/core-js/internals/function-bind-context.js","webpack://webpack-starter/./node_modules/core-js/internals/get-built-in.js","webpack://webpack-starter/./node_modules/core-js/internals/get-iterator-method.js","webpack://webpack-starter/./node_modules/core-js/internals/global.js","webpack://webpack-starter/./node_modules/core-js/internals/has.js","webpack://webpack-starter/./node_modules/core-js/internals/hidden-keys.js","webpack://webpack-starter/./node_modules/core-js/internals/host-report-errors.js","webpack://webpack-starter/./node_modules/core-js/internals/html.js","webpack://webpack-starter/./node_modules/core-js/internals/ie8-dom-define.js","webpack://webpack-starter/./node_modules/core-js/internals/indexed-object.js","webpack://webpack-starter/./node_modules/core-js/internals/inspect-source.js","webpack://webpack-starter/./node_modules/core-js/internals/internal-state.js","webpack://webpack-starter/./node_modules/core-js/internals/is-array-iterator-method.js","webpack://webpack-starter/./node_modules/core-js/internals/is-forced.js","webpack://webpack-starter/./node_modules/core-js/internals/is-object.js","webpack://webpack-starter/./node_modules/core-js/internals/is-pure.js","webpack://webpack-starter/./node_modules/core-js/internals/iterate.js","webpack://webpack-starter/./node_modules/core-js/internals/iterator-close.js","webpack://webpack-starter/./node_modules/core-js/internals/iterators.js","webpack://webpack-starter/./node_modules/core-js/internals/microtask.js","webpack://webpack-starter/./node_modules/core-js/internals/native-promise-constructor.js","webpack://webpack-starter/./node_modules/core-js/internals/native-symbol.js","webpack://webpack-starter/./node_modules/core-js/internals/native-weak-map.js","webpack://webpack-starter/./node_modules/core-js/internals/new-promise-capability.js","webpack://webpack-starter/./node_modules/core-js/internals/object-define-property.js","webpack://webpack-starter/./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack://webpack-starter/./node_modules/core-js/internals/object-get-own-property-names.js","webpack://webpack-starter/./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack://webpack-starter/./node_modules/core-js/internals/object-keys-internal.js","webpack://webpack-starter/./node_modules/core-js/internals/object-property-is-enumerable.js","webpack://webpack-starter/./node_modules/core-js/internals/object-to-string.js","webpack://webpack-starter/./node_modules/core-js/internals/own-keys.js","webpack://webpack-starter/./node_modules/core-js/internals/path.js","webpack://webpack-starter/./node_modules/core-js/internals/perform.js","webpack://webpack-starter/./node_modules/core-js/internals/promise-resolve.js","webpack://webpack-starter/./node_modules/core-js/internals/redefine-all.js","webpack://webpack-starter/./node_modules/core-js/internals/redefine.js","webpack://webpack-starter/./node_modules/core-js/internals/require-object-coercible.js","webpack://webpack-starter/./node_modules/core-js/internals/set-global.js","webpack://webpack-starter/./node_modules/core-js/internals/set-species.js","webpack://webpack-starter/./node_modules/core-js/internals/set-to-string-tag.js","webpack://webpack-starter/./node_modules/core-js/internals/shared-key.js","webpack://webpack-starter/./node_modules/core-js/internals/shared-store.js","webpack://webpack-starter/./node_modules/core-js/internals/shared.js","webpack://webpack-starter/./node_modules/core-js/internals/species-constructor.js","webpack://webpack-starter/./node_modules/core-js/internals/task.js","webpack://webpack-starter/./node_modules/core-js/internals/to-absolute-index.js","webpack://webpack-starter/./node_modules/core-js/internals/to-indexed-object.js","webpack://webpack-starter/./node_modules/core-js/internals/to-integer.js","webpack://webpack-starter/./node_modules/core-js/internals/to-length.js","webpack://webpack-starter/./node_modules/core-js/internals/to-primitive.js","webpack://webpack-starter/./node_modules/core-js/internals/to-string-tag-support.js","webpack://webpack-starter/./node_modules/core-js/internals/uid.js","webpack://webpack-starter/./node_modules/core-js/internals/use-symbol-as-uid.js","webpack://webpack-starter/./node_modules/core-js/internals/well-known-symbol.js","webpack://webpack-starter/./node_modules/core-js/modules/es.object.to-string.js","webpack://webpack-starter/./node_modules/core-js/modules/es.promise.js","webpack://webpack-starter/./node_modules/define-properties/index.js","webpack://webpack-starter/./node_modules/es-abstract/helpers/getOwnPropertyDescriptor.js","webpack://webpack-starter/./node_modules/es6-object-assign/index.js","webpack://webpack-starter/./node_modules/events/events.js","webpack://webpack-starter/./node_modules/foreach/index.js","webpack://webpack-starter/./node_modules/function-bind/implementation.js","webpack://webpack-starter/./node_modules/function-bind/index.js","webpack://webpack-starter/./node_modules/get-intrinsic/index.js","webpack://webpack-starter/./node_modules/has-symbols/index.js","webpack://webpack-starter/./node_modules/has-symbols/shams.js","webpack://webpack-starter/./node_modules/has/src/index.js","webpack://webpack-starter/./node_modules/inherits/inherits_browser.js","webpack://webpack-starter/./node_modules/is-arguments/index.js","webpack://webpack-starter/./node_modules/is-generator-function/index.js","webpack://webpack-starter/./node_modules/is-nan/implementation.js","webpack://webpack-starter/./node_modules/is-nan/index.js","webpack://webpack-starter/./node_modules/is-nan/polyfill.js","webpack://webpack-starter/./node_modules/is-nan/shim.js","webpack://webpack-starter/./node_modules/is-typed-array/index.js","webpack://webpack-starter/./node_modules/make-error/index.js","webpack://webpack-starter/./node_modules/object-is/implementation.js","webpack://webpack-starter/./node_modules/object-is/index.js","webpack://webpack-starter/./node_modules/object-is/polyfill.js","webpack://webpack-starter/./node_modules/object-is/shim.js","webpack://webpack-starter/./node_modules/object-keys/implementation.js","webpack://webpack-starter/./node_modules/object-keys/index.js","webpack://webpack-starter/./node_modules/object-keys/isArguments.js","webpack://webpack-starter/./node_modules/process/browser.js","webpack://webpack-starter/./node_modules/util/support/isBufferBrowser.js","webpack://webpack-starter/./node_modules/util/support/types.js","webpack://webpack-starter/./node_modules/util/util.js","webpack://webpack-starter/./node_modules/which-typed-array/index.js","webpack://webpack-starter/webpack/bootstrap","webpack://webpack-starter/webpack/runtime/compat get default export","webpack://webpack-starter/webpack/runtime/define property getters","webpack://webpack-starter/webpack/runtime/global","webpack://webpack-starter/webpack/runtime/hasOwnProperty shorthand","webpack://webpack-starter/./node_modules/reconnecting-websocket/dist/reconnecting-websocket-mjs.js","webpack://webpack-starter/./src/scripts/sharedb.js","webpack://webpack-starter/./src/scripts/index.js"],"names":["Doc","Query","UndoManager","SnapshotRequest","emitter","ShareDBError","util","connectionState","socket","readyState","Connection","EventEmitter","call","this","collections","undoManagers","nextQueryId","nextSnapshotRequestId","queries","_snapshotRequests","seq","id","agent","debug","state","bindToSocket","hasPending","object","hasWritePending","module","exports","mixin","prototype","close","onmessage","onopen","onerror","onclose","newState","_setState","canSend","connection","event","data","JSON","parse","err","console","warn","log","stringify","request","emit","handleMessage","process","nextTick","reason","message","error","Error","code","a","protocol","query","_handleFetch","extra","_handleSubscribe","_handleError","diff","_handleDiff","hasOwnProperty","_handleExtra","_handleBulkMessage","_handleSnapshotFetch","doc","getExisting","c","d","_handleUnsubscribe","_handleOp","_handlePresence","method","Array","isArray","b","i","length","_reset","startBulk","_onConnectionStateChanged","collection","docs","endBulk","bulk","actions","_sendBulk","f","s","u","action","values","versionId","ids","versions","versionsCount","value","push","send","version","v","_sendAction","_addDoc","isDuplicate","sendFetch","sendSubscribe","sendUnsubscribe","sendOp","op","src","create","del","sendPresence","requestReply","p","r","get","_destroyDoc","hasKeys","_createQuery","q","options","callback","_destroyQuery","createFetchQuery","createSubscribeQuery","_firstDoc","_firstQuery","_firstSnapshotRequest","whenNothingPending","once","_nothingPendingRetry","snapshotRequest","fn","createUndoManager","undoManager","removeUndoManager","index","indexOf","splice","onDocLoad","onDocDestroy","onDocCreate","onDocDelete","onDocOp","undoOp","source","undoable","fixUp","fetchSnapshot","requestId","_handleResponse","types","type","undefined","presence","Object","receivedPresence","receivedPresenceTimeout","requestReplyPresence","cachedOps","cachedOpsTimeout","inflightPresenceSeq","inflightFetch","inflightSubscribe","inflightUnsubscribe","inflightPresence","pendingFetch","pendingPresence","subscribed","wantSubscribe","inflightOp","pendingOps","applyStack","preventCompose","pushActionCallback","inflight","lastCallback","pop","transformX","client","server","result","clientOp","transform","serverOp","callEach","callbacks","called","destroy","unsubscribe","_setType","newType","map","ingestSnapshot","snapshot","fetch","defaultType","deserialize","_processAllReceivedPresence","_emitNothingPending","_emitResponseError","shift","flush","_rollback","_opAcknowledged","time","Date","now","transformErr","_hardRollback","_cacheOp","_otApply","_resubscribe","unshift","concat","_pausePresence","subscribe","paused","_sendOp","stackLength","componentOp","j","_applyOp","_transformAllPresence","_popApplyStack","createDeserialized","oldData","needsUndoOp","applyAndInvert","apply","invert","sentAt","retries","_submit","normalize","skipNoop","isNoop","_pushOp","composed","_tryCompose","to","ops","last","compose","submitOp","component","submitOptions","submitSnapshot","diffX","diffHint","diffs","uri","pause","resume","_clearInflightOp","srcList","keys","changedSrcList","_setPresence","_emitPresence","submitPresence","createPresence","transformPresence","processedAt","_processReceivedPresence","startIndex","_transformPresence","presenceData","isOwnOperation","comparePresence","submitted","oldOpTime","results","ready","sent","o","_finishResponse","wait","finish","_ingestSnapshots","snapshots","newDocs","howMany","removed","from","Snapshot","isValidVersion","findLastIndex","stack","getLast","list","lastIndex","setLast","item","Op","_connection","_source","_limit","limit","_composeInterval","composeInterval","_undoStack","_redoStack","_previousUndoableOperationTime","clear","filter","canUndo","undo","canRedo","redo","_updateStacksUndo","_updateStacksRedo","_updateStacksFixed","_updateStacksUndoable","composeSimilar","lastOp","composedOp","itemsToRemove","lastUndoIndex","lastRedoIndex","_transformStack","newStack","newStackIndex","transformedStackOp","transformedOp","stackOp","reverse","Constructor","key","super","makeError","meta","m","register","name","doNothing","isInteger","Number","isFinite","Math","floor","transformComponent","checkValidOp","append","leftOp","rightOp","left","right","destRight","newRightOp","rightComponent","newLeftOp","k","nextC","pair","slice","l","otherOp","obj","toString","clone","json","subtypes","convertFromText","t","si","sd","convertToText","registerSubtype","subtype","invertComponent","c_","oi","od","li","ld","na","lm","op_","iop","checkList","elem","checkObj","constructor","container","parent","e","shatter","incrementalApply","_yield","smallOp","pathMatches","p1","p2","ignoreLast","dest","op1","op2","newOp","commonLengthForOps","alen","blen","canOpAffectPath","path","otherC","common","common2","cplength","otherCplength","oc","commonOperand","res","otherFrom","otherTo","pres1","pres2","isOwnOp","assign","text","initial","strInject","s1","pos","s2","checkValidComponent","deleted","_append","transformPosition","insertAfter","transformCursor","position","side","_tc","newC","intersectStart","max","intersectEnd","min","operation","user","change","selections","newSelections","arr","self","TypeError","ret","hasOwn","val","_typeof","Symbol","iterator","isDeepEqual","isDeepStrictEqual","_require$codes","codes","ERR_AMBIGUOUS_ARGUMENT","ERR_INVALID_ARG_TYPE","ERR_INVALID_ARG_VALUE","ERR_INVALID_RETURN_VALUE","ERR_MISSING_ARGS","AssertionError","inspect","_require$types","isPromise","isRegExp","objectAssign","objectIs","is","lazyLoadComparison","comparison","Map","warned","assert","ok","NO_EXCEPTION_SENTINEL","innerFail","innerOk","argLen","generatedMessage","actual","expected","operator","stackStartFn","_len","arguments","args","_key","fail","internalMessage","argsLen","emitWarning","bind","errArgs","equal","notEqual","deepEqual","notDeepEqual","deepStrictEqual","notDeepStrictEqual","strictEqual","notStrictEqual","Comparison","_this","instance","_classCallCheck","forEach","test","compareExceptionKey","expectedException","msg","isPrototypeOf","getActual","checkIsPromise","then","catch","waitForActual","promiseFn","Promise","resolve","resultPromise","expectsError","details","fnType","expectsNoError","strict","_len6","_key6","throws","_len2","_key2","rejects","_len3","_key3","doesNotThrow","_len4","_key4","doesNotReject","_len5","_key5","ifError","newErr","origStack","tmp2","split","tmp1","join","_defineProperty","defineProperty","enumerable","configurable","writable","_defineProperties","target","props","descriptor","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","_wrapNativeSuper","Class","_cache","Function","has","set","Wrapper","_construct","_getPrototypeOf","_setPrototypeOf","isNativeReflectConstruct","Reflect","construct","sham","Proxy","Parent","setPrototypeOf","__proto__","getPrototypeOf","endsWith","str","search","this_len","substring","blue","green","red","white","kReadableOperator","strictEqualObject","notStrictEqualObject","notIdentical","copyError","inspectValue","compact","customInspect","depth","maxArrayLength","Infinity","showHidden","breakLength","showProxy","sorted","getters","_Error","stackTraceLimit","String","stderr","isTTY","getColorDepth","other","lastPos","end","skipped","actualInspected","actualLines","expectedLines","indicator","inputLength","columns","count","maxCount","repeat","maxLines","_actualLines","printedLines","skippedMsg","cur","expectedLine","actualLine","divergingLines","createErrDiff","base","_res","knownOperators","captureStackTrace","protoProps","subClass","superClass","_inherits","custom","recurseTimes","ctx","ownKeys","getOwnPropertySymbols","sym","getOwnPropertyDescriptor","_objectSpread","createErrorType","Base","NodeError","_Base","arg1","arg2","arg3","getMessage","oneOf","thing","len","determiner","start","substr","replace","inspected","RangeError","input","_slicedToArray","_arrayWithHoles","_arr","_n","_d","_e","_s","_i","next","done","_iterableToArrayLimit","_nonIterableRest","regexFlagsSupported","flags","arrayFromSet","array","arrayFromMap","objectGetOwnPropertySymbols","numberIsNaN","isNaN","uncurryThis","propertyIsEnumerable","objectToString","isAnyArrayBuffer","isArrayBufferView","isDate","isMap","isSet","isNativeError","isBoxedPrimitive","isNumberObject","isStringObject","isBooleanObject","isBigIntObject","isSymbolObject","isFloat32Array","isFloat64Array","isNonIndex","charCodeAt","pow","getOwnNonIndexProperties","compare","x","y","innerDeepEqual","val1","val2","memos","buf1","buf2","val1Tag","keys1","keys2","keyCheck","getTime","RegExp","byteLength","Uint8Array","buffer","byteOffset","areSimilarTypedArrays","offset","areSimilarFloatArrays","_keys","_keys2","size","valueOf","Boolean","BigInt","isEqualBoxedPrimitive","getEnumerables","iterationType","aKeys","bKeys","symbolKeysA","symbolKeysB","_symbolKeysB","val2MemoA","val2MemoB","areEq","objEquiv","delete","setHasEqualElement","memo","setValues","findLooseMatchingPrimitives","prim","setMightHaveLoosePrim","altValue","mapMightHaveLoosePrim","curB","mapHasEqualEntry","key1","item1","key2","aValues","Set","add","bValues","_val","setEquiv","aEntries","_aEntries$i","item2","bEntries","_i2","_bEntries$_i","mapEquiv","keysA","typedArray","g","GetIntrinsic","callBind","$indexOf","allowMissing","intrinsic","$apply","$call","$reflectApply","$gOPD","$defineProperty","$max","originalFunction","func","desc","applyBind","times","window","functions","label","duration","format","expression","tuple","it","isObject","toIndexedObject","toLength","toAbsoluteIndex","createMethod","IS_INCLUDES","$this","el","fromIndex","O","includes","ITERATOR","wellKnownSymbol","SAFE_CLOSING","iteratorWithReturn","exec","SKIP_CLOSING","ITERATION_SUPPORT","TO_STRING_TAG_SUPPORT","classofRaw","TO_STRING_TAG","CORRECT_ARGUMENTS","tag","tryGet","callee","getOwnPropertyDescriptorModule","definePropertyModule","DESCRIPTORS","createPropertyDescriptor","bitmap","fails","global","document","EXISTS","createElement","userAgent","classof","getBuiltIn","match","v8","createNonEnumerableProperty","redefine","setGlobal","copyConstructorProperties","isForced","targetProperty","sourceProperty","TARGET","GLOBAL","STATIC","stat","noTargetGet","forced","aFunction","that","variable","namespace","Iterators","check","globalThis","store","functionToString","inspectSource","NATIVE_WEAK_MAP","objectHas","shared","sharedKey","hiddenKeys","WeakMap","wmget","wmhas","wmset","metadata","facade","STATE","enforce","getterFor","TYPE","ArrayPrototype","replacement","feature","detection","POLYFILL","NATIVE","string","toLowerCase","anObject","isArrayIteratorMethod","getIteratorMethod","iteratorClose","Result","stopped","iterable","unboundFunction","iterFn","step","AS_ENTRIES","IS_ITERATOR","INTERRUPTED","stop","condition","callFn","returnMethod","head","notify","toggle","node","promise","macrotask","IS_IOS","IS_WEBOS_WEBKIT","IS_NODE","MutationObserver","WebKitMutationObserver","queueMicrotaskDescriptor","queueMicrotask","domain","exit","enter","createTextNode","observe","characterData","task","PromiseCapability","C","reject","$$resolve","$$reject","IE8_DOM_DEFINE","toPrimitive","nativeDefineProperty","P","Attributes","propertyIsEnumerableModule","nativeGetOwnPropertyDescriptor","internalObjectKeys","getOwnPropertyNames","names","nativePropertyIsEnumerable","NASHORN_BUG","1","V","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","newPromiseCapability","promiseCapability","InternalStateModule","getInternalState","enforceInternalState","TEMPLATE","unsafe","simple","SPECIES","CONSTRUCTOR_NAME","TAG","uid","SHARED","IS_PURE","mode","copyright","defaultConstructor","S","defer","channel","port","html","location","setImmediate","clearImmediate","MessageChannel","Dispatch","counter","queue","run","runner","listener","post","postMessage","host","port2","port1","addEventListener","importScripts","appendChild","removeChild","setTimeout","toInteger","integer","IndexedObject","requireObjectCoercible","ceil","argument","PREFERRED_STRING","postfix","random","NATIVE_SYMBOL","USE_SYMBOL_AS_UID","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","Internal","OwnPromiseCapability","PromiseWrapper","nativeThen","$","NativePromise","redefineAll","setToStringTag","setSpecies","anInstance","iterate","checkCorrectnessOfIteration","speciesConstructor","microtask","promiseResolve","hostReportErrors","newPromiseCapabilityModule","perform","V8_VERSION","PROMISE","setInternalState","getInternalPromiseState","PromiseConstructor","$fetch","newGenericPromiseCapability","DISPATCH_EVENT","createEvent","dispatchEvent","NATIVE_REJECTION_EVENT","PromiseRejectionEvent","UNHANDLED_REJECTION","FORCED","FakePromise","INCORRECT_ITERATION","all","isThenable","isReject","notified","chain","reactions","exited","reaction","handler","rejection","onHandleUnhandled","onUnhandled","initEvent","isUnhandled","unwrap","internalReject","internalResolve","wrapper","executor","onFulfilled","onRejected","wrap","capability","$promiseResolve","remaining","alreadyCalled","race","hasSymbols","toStr","origDefineProperty","supportsDescriptors","_","arePropertyDescriptorsSupported","predicate","defineProperties","predicates","firstSource","nextSource","keysArray","nextIndex","nextKey","polyfill","ReflectOwnKeys","R","ReflectApply","receiver","NumberIsNaN","init","eventListener","errorListener","removeListener","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","_getMaxListeners","_addListener","prepend","events","existing","warning","newListener","w","onceWrapper","fired","wrapFn","_onceWrap","wrapped","_listeners","evlistener","unwrapListeners","arrayClone","listenerCount","n","copy","arg","setMaxListeners","getMaxListeners","doError","er","context","listeners","addListener","on","prependListener","prependOnceListener","originalListener","spliceOne","off","removeAllListeners","rawListeners","eventNames","ERROR_MESSAGE","funcType","bound","binder","boundLength","boundArgs","Empty","implementation","$SyntaxError","SyntaxError","$Function","$TypeError","getEvalledConstructor","expressionSyntax","throwTypeError","ThrowTypeError","calleeThrows","gOPDthrows","getProto","needsEval","TypedArray","INTRINSICS","AggregateError","ArrayBuffer","Atomics","DataView","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","eval","EvalError","Float32Array","Float64Array","FinalizationRegistry","Int8Array","Int16Array","Int32Array","parseFloat","parseInt","SharedArrayBuffer","Uint8ClampedArray","Uint16Array","Uint32Array","URIError","WeakRef","WeakSet","doEval","gen","LEGACY_ALIASES","$concat","$spliceApply","$replace","$strSlice","rePropName","reEscapeChar","stringToPath","first","number","quote","subString","getBaseIntrinsic","alias","intrinsicName","parts","intrinsicBaseName","intrinsicRealName","skipFurtherCaching","isOwn","part","origSymbol","hasSymbolSham","symObj","syms","ctor","superCtor","super_","TempCtor","hasToStringTag","toStringTag","$toString","callBound","isStandardArguments","isLegacyArguments","supportsStandardArguments","fnToStr","isFnRegex","generatorFunc","getGeneratorFunc","GeneratorFunction","define","getPolyfill","shim","NaN","availableTypedArrays","typedArrays","$slice","toStrTags","gOPD","proto","superProto","anyTrue","getter","tryTypedArrays","BaseError","cname","setFunctionName","properties","keysShim","isArgs","isEnumerable","hasDontEnumBug","hasProtoEnumBug","dontEnums","equalsConstructorPrototype","excludedKeys","$applicationCache","$console","$external","$frame","$frameElement","$frames","$innerHeight","$innerWidth","$onmozfullscreenchange","$onmozfullscreenerror","$outerHeight","$outerWidth","$pageXOffset","$pageYOffset","$parent","$scrollLeft","$scrollTop","$scrollX","$scrollY","$self","$webkitIndexedDB","$webkitStorageInfo","$window","hasAutomationEqualityBug","isFunction","isArguments","isString","theKeys","skipProto","skipConstructor","equalsConstructorPrototypeIfNotBuggy","origKeys","originalKeys","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","clearTimeout","currentQueue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","marker","runClearTimeout","Item","noop","title","browser","env","argv","binding","cwd","chdir","dir","umask","fill","readUInt8","isArgumentsObject","isGeneratorFunction","whichTypedArray","isTypedArray","BigIntSupported","SymbolSupported","ObjectToString","numberValue","stringValue","booleanValue","bigIntValue","symbolValue","checkBoxedPrimitive","prototypeValueOf","isMapToString","isSetToString","isWeakMapToString","isWeakSetToString","isArrayBufferToString","isArrayBuffer","working","isDataViewToString","isDataView","isSharedArrayBufferToString","isSharedArrayBuffer","isView","isUint8Array","isUint8ClampedArray","isUint16Array","isUint32Array","isInt8Array","isInt16Array","isInt32Array","isBigInt64Array","isBigUint64Array","isWeakMap","isWeakSet","isAsyncFunction","isMapIterator","isSetIterator","isGeneratorObject","isWebAssemblyCompiledModule","getOwnPropertyDescriptors","descriptors","formatRegExp","objects","isNull","deprecate","noDeprecation","throwDeprecation","traceDeprecation","trace","debugs","debugEnvRegex","NODE_DEBUG","debugEnv","toUpperCase","opts","seen","stylize","stylizeNoColor","colors","isBoolean","_extend","isUndefined","stylizeWithColor","formatValue","styleType","style","styles","primitive","isNumber","formatPrimitive","visibleKeys","hash","idx","arrayToHash","isError","formatError","output","braces","toUTCString","formatProperty","formatArray","reduce","prev","reduceToSingleString","line","ar","re","pad","debuglog","pid","isNullOrUndefined","isSymbol","isPrimitive","isBuffer","months","timestamp","getHours","getMinutes","getSeconds","getDate","getMonth","prop","inherits","origin","kCustomPromisifiedSymbol","callbackifyOnRejected","cb","newReason","promisify","original","promiseReject","callbackify","callbackified","maybeCb","rej","foundName","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","__esModule","definition","extendStatics","__extends","__","__read","__spread","Event","ErrorEvent","_super","CloseEvent","wasClean","getGlobalWebSocket","WebSocket","DEFAULT","maxReconnectionDelay","minReconnectionDelay","minUptime","reconnectionDelayGrowFactor","connectionTimeout","maxRetries","maxEnqueuedMessages","startClosed","ReconnectingWebSocket","url","protocols","open","_retryCount","_shouldReconnect","_connectLock","_binaryType","_closeCalled","_messageQueue","_handleOpen","_debug","_a","_options","_connectTimeout","_uptimeTimeout","_acceptOpen","_ws","binaryType","_callEventListener","_handleMessage","_disconnect","_connect","_handleClose","_clearTimeouts","_url","_protocols","CONNECTING","OPEN","CLOSING","CLOSED","acc","Blob","bufferedAmount","extensions","reconnect","e_1","listeners_1","__values","listeners_1_1","e_1_1","return","removeEventListener","_getNextDelay","_b","_c","delay","_wait","_getNextUrl","urlProvider","_removeListeners","_addListeners","_handleTimeout","handleEvent","inter","getStream","streamname","pushChange","rewrite","getData","changes","ShareDBClient","json0","setup"],"mappings":"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","file":"js/app.js","sourcesContent":["var Doc = require('./doc');\nvar Query = require('./query');\nvar UndoManager = require('./undoManager');\nvar SnapshotRequest = require('./snapshot-request');\nvar emitter = require('../emitter');\nvar ShareDBError = require('../error');\nvar types = require('../types');\nvar util = require('../util');\n\nfunction connectionState(socket) {\n  if (socket.readyState === 0 || socket.readyState === 1) return 'connecting';\n  return 'disconnected';\n}\n\n/**\n * Handles communication with the sharejs server and provides queries and\n * documents.\n *\n * We create a connection with a socket object\n *   connection = new sharejs.Connection(sockset)\n * The socket may be any object handling the websocket protocol. See the\n * documentation of bindToSocket() for details. We then wait for the connection\n * to connect\n *   connection.on('connected', ...)\n * and are finally able to work with shared documents\n *   connection.get('food', 'steak') // Doc\n *\n * @param socket @see bindToSocket\n */\nmodule.exports = Connection;\nfunction Connection(socket) {\n  emitter.EventEmitter.call(this);\n\n  // Map of collection -> id -> doc object for created documents.\n  // (created documents MUST BE UNIQUE)\n  this.collections = {};\n\n  // A list of active UndoManagers.\n  this.undoManagers = [];\n\n  // Each query and snapshot request is created with an id that the server uses when it sends us\n  // info about the request (updates, etc)\n  this.nextQueryId = 1;\n  this.nextSnapshotRequestId = 1;\n\n  // Map from query ID -> query object.\n  this.queries = {};\n\n  // Map from snapshot request ID -> snapshot request\n  this._snapshotRequests = {};\n\n  // A unique message number for the given id\n  this.seq = 1;\n\n  // Equals agent.clientId on the server\n  this.id = null;\n\n  // This direct reference from connection to agent is not used internal to\n  // ShareDB, but it is handy for server-side only user code that may cache\n  // state on the agent and read it in middleware\n  this.agent = null;\n\n  this.debug = false;\n\n  this.state = connectionState(socket);\n\n  this.bindToSocket(socket);\n}\nemitter.mixin(Connection);\n\n\n/**\n * Use socket to communicate with server\n *\n * Socket is an object that can handle the websocket protocol. This method\n * installs the onopen, onclose, onmessage and onerror handlers on the socket to\n * handle communication and sends messages by calling socket.send(message). The\n * sockets `readyState` property is used to determine the initaial state.\n *\n * @param socket Handles the websocket protocol\n * @param socket.readyState\n * @param socket.close\n * @param socket.send\n * @param socket.onopen\n * @param socket.onclose\n * @param socket.onmessage\n * @param socket.onerror\n */\nConnection.prototype.bindToSocket = function(socket) {\n  if (this.socket) {\n    this.socket.close();\n    this.socket.onmessage = null;\n    this.socket.onopen = null;\n    this.socket.onerror = null;\n    this.socket.onclose = null;\n  }\n\n  this.socket = socket;\n\n  // State of the connection. The corresponding events are emitted when this changes\n  //\n  // - 'connecting'   The connection is still being established, or we are still\n  //                    waiting on the server to send us the initialization message\n  // - 'connected'    The connection is open and we have connected to a server\n  //                    and recieved the initialization message\n  // - 'disconnected' Connection is closed, but it will reconnect automatically\n  // - 'closed'       The connection was closed by the client, and will not reconnect\n  // - 'stopped'      The connection was closed by the server, and will not reconnect\n  var newState = connectionState(socket);\n  this._setState(newState);\n\n  // This is a helper variable the document uses to see whether we're\n  // currently in a 'live' state. It is true if and only if we're connected\n  this.canSend = false;\n\n  var connection = this;\n\n  socket.onmessage = function(event) {\n    try {\n      var data = (typeof event.data === 'string') ?\n        JSON.parse(event.data) : event.data;\n    } catch (err) {\n      console.warn('Failed to parse message', event);\n      return;\n    }\n\n    if (connection.debug) console.log('RECV', JSON.stringify(data));\n\n    var request = {data: data};\n    connection.emit('receive', request);\n    if (!request.data) return;\n\n    try {\n      connection.handleMessage(request.data);\n    } catch (err) {\n      process.nextTick(function() {\n        connection.emit('error', err);\n      });\n    }\n  };\n\n  socket.onopen = function() {\n    connection._setState('connecting');\n  };\n\n  socket.onerror = function(err) {\n    // This isn't the same as a regular error, because it will happen normally\n    // from time to time. Your connection should probably automatically\n    // reconnect anyway, but that should be triggered off onclose not onerror.\n    // (onclose happens when onerror gets called anyway).\n    connection.emit('connection error', err);\n  };\n\n  socket.onclose = function(reason) {\n    // node-browserchannel reason values:\n    //   'Closed' - The socket was manually closed by calling socket.close()\n    //   'Stopped by server' - The server sent the stop message to tell the client not to try connecting\n    //   'Request failed' - Server didn't respond to request (temporary, usually offline)\n    //   'Unknown session ID' - Server session for client is missing (temporary, will immediately reestablish)\n\n    if (reason === 'closed' || reason === 'Closed') {\n      connection._setState('closed', reason);\n\n    } else if (reason === 'stopped' || reason === 'Stopped by server') {\n      connection._setState('stopped', reason);\n\n    } else {\n      connection._setState('disconnected', reason);\n    }\n  };\n};\n\n/**\n * @param {object} message\n * @param {String} message.a action\n */\nConnection.prototype.handleMessage = function(message) {\n  var err = null;\n  if (message.error) {\n    // wrap in Error object so can be passed through event emitters\n    err = new Error(message.error.message);\n    err.code = message.error.code;\n    // Add the message data to the error object for more context\n    err.data = message;\n    delete message.error;\n  }\n  // Switch on the message action. Most messages are for documents and are\n  // handled in the doc class.\n  switch (message.a) {\n    case 'init':\n      // Client initialization packet\n      if (message.protocol !== 1) {\n        err = new ShareDBError(4019, 'Invalid protocol version');\n        return this.emit('error', err);\n      }\n      if (typeof message.id !== 'string') {\n        err = new ShareDBError(4021, 'Invalid client id');\n        return this.emit('error', err);\n      }\n      this.id = message.id;\n\n      this._setState('connected');\n      return;\n\n    case 'qf':\n      var query = this.queries[message.id];\n      if (query) query._handleFetch(err, message.data, message.extra);\n      return;\n    case 'qs':\n      var query = this.queries[message.id];\n      if (query) query._handleSubscribe(err, message.data, message.extra);\n      return;\n    case 'qu':\n      // Queries are removed immediately on calls to destroy, so we ignore\n      // replies to query unsubscribes. Perhaps there should be a callback for\n      // destroy, but this is currently unimplemented\n      return;\n    case 'q':\n      // Query message. Pass this to the appropriate query object.\n      var query = this.queries[message.id];\n      if (!query) return;\n      if (err) return query._handleError(err);\n      if (message.diff) query._handleDiff(message.diff);\n      if (message.hasOwnProperty('extra')) query._handleExtra(message.extra);\n      return;\n\n    case 'bf':\n      return this._handleBulkMessage(message, '_handleFetch');\n    case 'bs':\n      return this._handleBulkMessage(message, '_handleSubscribe');\n    case 'bu':\n      return this._handleBulkMessage(message, '_handleUnsubscribe');\n\n    case 'nf':\n      return this._handleSnapshotFetch(err, message);\n\n    case 'f':\n      var doc = this.getExisting(message.c, message.d);\n      if (doc) doc._handleFetch(err, message.data);\n      return;\n    case 's':\n      var doc = this.getExisting(message.c, message.d);\n      if (doc) doc._handleSubscribe(err, message.data);\n      return;\n    case 'u':\n      var doc = this.getExisting(message.c, message.d);\n      if (doc) doc._handleUnsubscribe(err);\n      return;\n    case 'op':\n      var doc = this.getExisting(message.c, message.d);\n      if (doc) doc._handleOp(err, message);\n      return;\n\n    case 'p':\n      var doc = this.getExisting(message.c, message.d);\n      if (doc) doc._handlePresence(err, message);\n      return;\n\n    default:\n      console.warn('Ignoring unrecognized message', message);\n  }\n};\n\nConnection.prototype._handleBulkMessage = function(message, method) {\n  if (message.data) {\n    for (var id in message.data) {\n      var doc = this.getExisting(message.c, id);\n      if (doc) doc[method](message.error, message.data[id]);\n    }\n  } else if (Array.isArray(message.b)) {\n    for (var i = 0; i < message.b.length; i++) {\n      var id = message.b[i];\n      var doc = this.getExisting(message.c, id);\n      if (doc) doc[method](message.error);\n    }\n  } else if (message.b) {\n    for (var id in message.b) {\n      var doc = this.getExisting(message.c, id);\n      if (doc) doc[method](message.error);\n    }\n  } else {\n    console.error('Invalid bulk message', message);\n  }\n};\n\nConnection.prototype._reset = function() {\n  this.seq = 1;\n  this.id = null;\n  this.agent = null;\n};\n\n// Set the connection's state. The connection is basically a state machine.\nConnection.prototype._setState = function(newState, reason) {\n  if (this.state === newState) return;\n\n  // I made a state diagram. The only invalid transitions are getting to\n  // 'connecting' from anywhere other than 'disconnected' and getting to\n  // 'connected' from anywhere other than 'connecting'.\n  if (\n    (newState === 'connecting' && this.state !== 'disconnected' && this.state !== 'stopped' && this.state !== 'closed') ||\n    (newState === 'connected' && this.state !== 'connecting')\n  ) {\n    var err = new ShareDBError(5007, 'Cannot transition directly from ' + this.state + ' to ' + newState);\n    return this.emit('error', err);\n  }\n\n  this.state = newState;\n  this.canSend = (newState === 'connected');\n\n  if (newState === 'disconnected' || newState === 'stopped' || newState === 'closed') this._reset();\n\n  // Group subscribes together to help server make more efficient calls\n  this.startBulk();\n  // Emit the event to all queries\n  for (var id in this.queries) {\n    var query = this.queries[id];\n    query._onConnectionStateChanged();\n  }\n  // Emit the event to all documents\n  for (var collection in this.collections) {\n    var docs = this.collections[collection];\n    for (var id in docs) {\n      docs[id]._onConnectionStateChanged();\n    }\n  }\n  // Emit the event to all snapshots\n  for (var id in this._snapshotRequests) {\n    var snapshotRequest = this._snapshotRequests[id];\n    snapshotRequest._onConnectionStateChanged();\n  }\n  this.endBulk();\n\n  this.emit(newState, reason);\n  this.emit('state', newState, reason);\n};\n\nConnection.prototype.startBulk = function() {\n  if (!this.bulk) this.bulk = {};\n};\n\nConnection.prototype.endBulk = function() {\n  if (this.bulk) {\n    for (var collection in this.bulk) {\n      var actions = this.bulk[collection];\n      this._sendBulk('f', collection, actions.f);\n      this._sendBulk('s', collection, actions.s);\n      this._sendBulk('u', collection, actions.u);\n    }\n  }\n  this.bulk = null;\n};\n\nConnection.prototype._sendBulk = function(action, collection, values) {\n  if (!values) return;\n  var ids = [];\n  var versions = {};\n  var versionsCount = 0;\n  var versionId;\n  for (var id in values) {\n    var value = values[id];\n    if (value == null) {\n      ids.push(id);\n    } else {\n      versions[id] = value;\n      versionId = id;\n      versionsCount++;\n    }\n  }\n  if (ids.length === 1) {\n    var id = ids[0];\n    this.send({a: action, c: collection, d: id});\n  } else if (ids.length) {\n    this.send({a: 'b' + action, c: collection, b: ids});\n  }\n  if (versionsCount === 1) {\n    var version = versions[versionId];\n    this.send({a: action, c: collection, d: versionId, v: version});\n  } else if (versionsCount) {\n    this.send({a: 'b' + action, c: collection, b: versions});\n  }\n};\n\nConnection.prototype._sendAction = function(action, doc, version) {\n  // Ensure the doc is registered so that it receives the reply message\n  this._addDoc(doc);\n  if (this.bulk) {\n    // Bulk subscribe\n    var actions = this.bulk[doc.collection] || (this.bulk[doc.collection] = {});\n    var versions = actions[action] || (actions[action] = {});\n    var isDuplicate = versions.hasOwnProperty(doc.id);\n    versions[doc.id] = version;\n    return isDuplicate;\n  } else {\n    // Send single doc subscribe message\n    var message = {a: action, c: doc.collection, d: doc.id, v: version};\n    this.send(message);\n  }\n};\n\nConnection.prototype.sendFetch = function(doc) {\n  return this._sendAction('f', doc, doc.version);\n};\n\nConnection.prototype.sendSubscribe = function(doc) {\n  return this._sendAction('s', doc, doc.version);\n};\n\nConnection.prototype.sendUnsubscribe = function(doc) {\n  return this._sendAction('u', doc);\n};\n\nConnection.prototype.sendOp = function(doc, op) {\n  // Ensure the doc is registered so that it receives the reply message\n  this._addDoc(doc);\n  var message = {\n    a: 'op',\n    c: doc.collection,\n    d: doc.id,\n    v: doc.version,\n    src: op.src,\n    seq: op.seq\n  };\n  if (op.op) message.op = op.op;\n  if (op.create) message.create = op.create;\n  if (op.del) message.del = op.del;\n  this.send(message);\n};\n\nConnection.prototype.sendPresence = function(doc, data, requestReply) {\n  // Ensure the doc is registered so that it receives the reply message\n  this._addDoc(doc);\n  var message = {\n    a: 'p',\n    c: doc.collection,\n    d: doc.id,\n    p: data,\n    v: doc.version || 0,\n    seq: this.seq++\n  };\n  if (requestReply) {\n    message.r = true;\n  }\n  this.send(message);\n};\n\n\n/**\n * Sends a message down the socket\n */\nConnection.prototype.send = function(message) {\n  if (this.debug) console.log('SEND', JSON.stringify(message));\n\n  this.emit('send', message);\n  this.socket.send(JSON.stringify(message));\n};\n\n\n/**\n * Closes the socket and emits 'closed'\n */\nConnection.prototype.close = function() {\n  this.socket.close();\n};\n\nConnection.prototype.getExisting = function(collection, id) {\n  if (this.collections[collection]) return this.collections[collection][id];\n};\n\n\n/**\n * Get or create a document.\n *\n * @param collection\n * @param id\n * @return {Doc}\n */\nConnection.prototype.get = function(collection, id) {\n  var docs = this.collections[collection] ||\n    (this.collections[collection] = {});\n\n  var doc = docs[id];\n  if (!doc) {\n    doc = docs[id] = new Doc(this, collection, id);\n    this.emit('doc', doc);\n  }\n\n  return doc;\n};\n\n\n/**\n * Remove document from this.collections\n *\n * @private\n */\nConnection.prototype._destroyDoc = function(doc) {\n  var docs = this.collections[doc.collection];\n  if (!docs) return;\n\n  delete docs[doc.id];\n\n  // Delete the collection container if its empty. This could be a source of\n  // memory leaks if you slowly make a billion collections, which you probably\n  // won't do anyway, but whatever.\n  if (!util.hasKeys(docs)) {\n    delete this.collections[doc.collection];\n  }\n};\n\nConnection.prototype._addDoc = function(doc) {\n  var docs = this.collections[doc.collection];\n  if (!docs) {\n    docs = this.collections[doc.collection] = {};\n  }\n  if (docs[doc.id] !== doc) {\n    docs[doc.id] = doc;\n  }\n};\n\n// Helper for createFetchQuery and createSubscribeQuery, below.\nConnection.prototype._createQuery = function(action, collection, q, options, callback) {\n  var id = this.nextQueryId++;\n  var query = new Query(action, this, id, collection, q, options, callback);\n  this.queries[id] = query;\n  query.send();\n  return query;\n};\n\n// Internal function. Use query.destroy() to remove queries.\nConnection.prototype._destroyQuery = function(query) {\n  delete this.queries[query.id];\n};\n\n// The query options object can contain the following fields:\n//\n// db: Name of the db for the query. You can attach extraDbs to ShareDB and\n//   pick which one the query should hit using this parameter.\n\n// Create a fetch query. Fetch queries are only issued once, returning the\n// results directly into the callback.\n//\n// The callback should have the signature function(error, results, extra)\n// where results is a list of Doc objects.\nConnection.prototype.createFetchQuery = function(collection, q, options, callback) {\n  return this._createQuery('qf', collection, q, options, callback);\n};\n\n// Create a subscribe query. Subscribe queries return with the initial data\n// through the callback, then update themselves whenever the query result set\n// changes via their own event emitter.\n//\n// If present, the callback should have the signature function(error, results, extra)\n// where results is a list of Doc objects.\nConnection.prototype.createSubscribeQuery = function(collection, q, options, callback) {\n  return this._createQuery('qs', collection, q, options, callback);\n};\n\nConnection.prototype.hasPending = function() {\n  return !!(\n    this._firstDoc(hasPending) ||\n    this._firstQuery(hasPending) ||\n    this._firstSnapshotRequest()\n  );\n};\nfunction hasPending(object) {\n  return object.hasPending();\n}\n\nConnection.prototype.hasWritePending = function() {\n  return !!this._firstDoc(hasWritePending);\n};\nfunction hasWritePending(object) {\n  return object.hasWritePending();\n}\n\nConnection.prototype.whenNothingPending = function(callback) {\n  var doc = this._firstDoc(hasPending);\n  if (doc) {\n    // If a document is found with a pending operation, wait for it to emit\n    // that nothing is pending anymore, and then recheck all documents again.\n    // We have to recheck all documents, just in case another mutation has\n    // been made in the meantime as a result of an event callback\n    doc.once('nothing pending', this._nothingPendingRetry(callback));\n    return;\n  }\n  var query = this._firstQuery(hasPending);\n  if (query) {\n    query.once('ready', this._nothingPendingRetry(callback));\n    return;\n  }\n  var snapshotRequest = this._firstSnapshotRequest();\n  if (snapshotRequest) {\n    snapshotRequest.once('ready', this._nothingPendingRetry(callback));\n    return;\n  }\n  // Call back when no pending operations\n  process.nextTick(callback);\n};\nConnection.prototype._nothingPendingRetry = function(callback) {\n  var connection = this;\n  return function() {\n    process.nextTick(function() {\n      connection.whenNothingPending(callback);\n    });\n  };\n};\n\nConnection.prototype._firstDoc = function(fn) {\n  for (var collection in this.collections) {\n    var docs = this.collections[collection];\n    for (var id in docs) {\n      var doc = docs[id];\n      if (fn(doc)) {\n        return doc;\n      }\n    }\n  }\n};\n\nConnection.prototype._firstQuery = function(fn) {\n  for (var id in this.queries) {\n    var query = this.queries[id];\n    if (fn(query)) {\n      return query;\n    }\n  }\n};\n\nConnection.prototype.createUndoManager = function(options) {\n  var undoManager = new UndoManager(this, options);\n  this.undoManagers.push(undoManager);\n  return undoManager;\n};\n\nConnection.prototype.removeUndoManager = function(undoManager) {\n  var index = this.undoManagers.indexOf(undoManager);\n  if (index >= 0) {\n    this.undoManagers.splice(index, 1);\n  }\n};\n\nConnection.prototype.onDocLoad = function(doc) {\n  for (var i = 0; i < this.undoManagers.length; i++) {\n    this.undoManagers[i].onDocLoad(doc);\n  }\n};\n\nConnection.prototype.onDocDestroy = function(doc) {\n  for (var i = 0; i < this.undoManagers.length; i++) {\n    this.undoManagers[i].onDocDestroy(doc);\n  }\n};\n\nConnection.prototype.onDocCreate = function(doc) {\n  for (var i = 0; i < this.undoManagers.length; i++) {\n    this.undoManagers[i].onDocCreate(doc);\n  }\n};\n\nConnection.prototype.onDocDelete = function(doc) {\n  for (var i = 0; i < this.undoManagers.length; i++) {\n    this.undoManagers[i].onDocDelete(doc);\n  }\n};\n\nConnection.prototype.onDocOp = function(doc, op, undoOp, source, undoable, fixUp) {\n  for (var i = 0; i < this.undoManagers.length; i++) {\n    this.undoManagers[i].onDocOp(doc, op, undoOp, source, undoable, fixUp);\n  }\n};\n\nConnection.prototype._firstSnapshotRequest = function () {\n  for (var id in this._snapshotRequests) {\n    return this._snapshotRequests[id];\n  }\n};\n\n/**\n * Fetch a read-only snapshot at a given version\n *\n * @param collection - the collection name of the snapshot\n * @param id - the ID of the snapshot\n * @param version (optional) - the version number to fetch\n * @param callback - (error, snapshot) => void, where snapshot takes the following schema:\n *\n * {\n *   id: string;         // ID of the snapshot\n *   v: number;          // version number of the snapshot\n *   type: string;       // the OT type of the snapshot, or null if it doesn't exist or is deleted\n *   data: any;          // the snapshot\n * }\n *\n */\nConnection.prototype.fetchSnapshot = function(collection, id, version, callback) {\n  if (typeof version === 'function') {\n    callback = version;\n    version = null;\n  }\n\n  var requestId = this.nextSnapshotRequestId++;\n  var snapshotRequest = new SnapshotRequest(this, requestId, collection, id, version, callback);\n  this._snapshotRequests[snapshotRequest.requestId] = snapshotRequest;\n  snapshotRequest.send();\n};\n\nConnection.prototype._handleSnapshotFetch = function (error, message) {\n  var snapshotRequest = this._snapshotRequests[message.id];\n  if (!snapshotRequest) return;\n  delete this._snapshotRequests[message.id];\n  snapshotRequest._handleResponse(error, message);\n};\n","var emitter = require('../emitter');\nvar ShareDBError = require('../error');\nvar types = require('../types');\n\n/**\n * A Doc is a client's view on a sharejs document.\n *\n * It is is uniquely identified by its `id` and `collection`.  Documents\n * should not be created directly. Create them with connection.get()\n *\n *\n * Subscriptions\n * -------------\n *\n * We can subscribe a document to stay in sync with the server.\n *   doc.subscribe(function(error) {\n *     doc.subscribed // = true\n *   })\n * The server now sends us all changes concerning this document and these are\n * applied to our data. If the subscription was successful the initial\n * data and version sent by the server are loaded into the document.\n *\n * To stop listening to the changes we call `doc.unsubscribe()`.\n *\n * If we just want to load the data but not stay up-to-date, we call\n *   doc.fetch(function(error) {\n *     doc.data // sent by server\n *   })\n *\n *\n * Presence\n * --------\n *\n * We can associate transient \"presence\" data with a document, eg caret position, etc.\n * The presence data is synchronized on the best-effort basis between clients subscribed to the same document.\n * Each client has their own presence data which is read-write. Other clients' data is read-only.\n *\n *\n * Events\n * ------\n *\n * You can use doc.on(eventName, callback) to subscribe to the following events:\n * - `before op (op, source)` Fired before a partial operation is applied to the data.\n *   It may be used to read the old data just before applying an operation\n * - `op (op, source)` Fired after every partial operation with this operation as the\n *   first argument\n * - `create (source)` The document was created. That means its type was\n *   set and it has some initial data.\n * - `del (data, source)` Fired after the document is deleted, that is\n *   the data is null. It is passed the data before delteion as an\n *   arguments\n * - `load ()` Fired when a new snapshot is ingested from a fetch, subscribe, or query\n * - `presence ([src])` Fired after the presence data has changed.\n */\n\nmodule.exports = Doc;\nfunction Doc(connection, collection, id) {\n  emitter.EventEmitter.call(this);\n\n  this.connection = connection;\n\n  this.collection = collection;\n  this.id = id;\n\n  this.version = null;\n  this.type = null;\n  this.data = undefined;\n\n  // The current presence data\n  // Map of src -> presence data\n  // Local src === ''\n  this.presence = Object.create(null);\n  // The presence objects received from the server\n  // Map of src -> presence\n  this.receivedPresence = Object.create(null);\n  // The minimum amount of time to wait before removing processed presence from this.receivedPresence.\n  // The processed presence is removed to avoid leaking memory, in case peers keep connecting and disconnecting a lot.\n  // The processed presence is not removed immediately to enable avoiding race conditions, where messages with lower\n  // sequence number arrive after messages with higher sequence numbers.\n  this.receivedPresenceTimeout = 60000;\n  // If set to true, then the next time the local presence is sent,\n  // all other clients will be asked to reply with their own presence data.\n  this.requestReplyPresence = true;\n  // A list of ops sent by the server. These are needed for transforming presence data,\n  // if we get that presence data for an older version of the document.\n  // The ops are cached for at least 1 minute by default, which should be lots, considering that the presence\n  // data is supposed to be synced in real-time.\n  this.cachedOps = [];\n  this.cachedOpsTimeout = 60000;\n  // The sequence number of the inflight presence request.\n  this.inflightPresenceSeq = 0;\n\n  // Array of callbacks or nulls as placeholders\n  this.inflightFetch = [];\n  this.inflightSubscribe = [];\n  this.inflightUnsubscribe = [];\n  this.inflightPresence = null;\n  this.pendingFetch = [];\n  this.pendingPresence = null;\n\n  // Whether we think we are subscribed on the server. Synchronously set to\n  // false on calls to unsubscribe and disconnect. Should never be true when\n  // this.wantSubscribe is false\n  this.subscribed = false;\n  // Whether to re-establish the subscription on reconnect\n  this.wantSubscribe = false;\n\n  // The op that is currently roundtripping to the server, or null.\n  //\n  // When the connection reconnects, the inflight op is resubmitted.\n  //\n  // This has the same format as an entry in pendingOps\n  this.inflightOp = null;\n\n  // All ops that are waiting for the server to acknowledge this.inflightOp\n  // This used to just be a single operation, but creates & deletes can't be\n  // composed with regular operations.\n  //\n  // This is a list of {[create:{...}], [del:true], [op:...], callbacks:[...]}\n  this.pendingOps = [];\n\n  // The OT type of this document. An uncreated document has type `null`\n  this.type = null;\n\n  // The applyStack enables us to track any ops submitted while we are\n  // applying an op incrementally. This value is an array when we are\n  // performing an incremental apply and null otherwise. When it is an array,\n  // all submitted ops should be pushed onto it. The `_otApply` method will\n  // reset it back to null when all incremental apply loops are complete.\n  this.applyStack = null;\n\n  // Disable the default behavior of composing submitted ops. This is read at\n  // the time of op submit, so it may be toggled on before submitting a\n  // specifc op and toggled off afterward\n  this.preventCompose = false;\n}\nemitter.mixin(Doc);\n\nDoc.prototype.destroy = function(callback) {\n  var doc = this;\n  doc.whenNothingPending(function() {\n    if (doc.wantSubscribe) {\n      doc.unsubscribe(function(err) {\n        if (err) {\n          if (callback) return callback(err);\n          return doc.emit('error', err);\n        }\n        doc.receivedPresence = Object.create(null);\n        doc.cachedOps.length = 0;\n        doc.connection._destroyDoc(doc);\n        doc.connection.onDocDestroy(doc);\n        if (callback) callback();\n      });\n    } else {\n      doc.receivedPresence = Object.create(null);\n      doc.cachedOps.length = 0;\n      doc.connection._destroyDoc(doc);\n      doc.connection.onDocDestroy(doc);\n      if (callback) callback();\n    }\n  });\n};\n\n\n// ****** Manipulating the document data, version and type.\n\n// Set the document's type, and associated properties. Most of the logic in\n// this function exists to update the document based on any added & removed API\n// methods.\n//\n// @param newType OT type provided by the ottypes library or its name or uri\nDoc.prototype._setType = function(newType) {\n  if (typeof newType === 'string') {\n    newType = types.map[newType];\n  }\n\n  if (newType) {\n    this.type = newType;\n\n  } else if (newType === null) {\n    this.type = newType;\n    // If we removed the type from the object, also remove its data\n    this.data = undefined;\n\n  } else {\n    var err = new ShareDBError(4008, 'Missing type ' + newType);\n    return this.emit('error', err);\n  }\n};\n\n// Ingest snapshot data. This data must include a version, snapshot and type.\n// This is used both to ingest data that was exported with a webpage and data\n// that was received from the server during a fetch.\n//\n// @param snapshot.v    version\n// @param snapshot.data\n// @param snapshot.type\n// @param callback\nDoc.prototype.ingestSnapshot = function(snapshot, callback) {\n  if (!snapshot) return callback && callback();\n\n  if (typeof snapshot.v !== 'number') {\n    var err = new ShareDBError(5008, 'Missing version in ingested snapshot. ' + this.collection + '.' + this.id);\n    if (callback) return callback(err);\n    return this.emit('error', err);\n  }\n\n  // If the doc is already created or there are ops pending, we cannot use the\n  // ingested snapshot and need ops in order to update the document\n  if (this.type || this.hasWritePending()) {\n    // The version should only be null on a created document when it was\n    // created locally without fetching\n    if (this.version == null) {\n      if (this.hasWritePending()) {\n        // If we have pending ops and we get a snapshot for a locally created\n        // document, we have to wait for the pending ops to complete, because\n        // we don't know what version to fetch ops from. It is possible that\n        // the snapshot came from our local op, but it is also possible that\n        // the doc was created remotely (which would conflict and be an error)\n        return callback && this.once('no write pending', callback);\n      }\n      // Otherwise, we've encounted an error state\n      var err = new ShareDBError(5009, 'Cannot ingest snapshot in doc with null version. ' + this.collection + '.' + this.id);\n      if (callback) return callback(err);\n      return this.emit('error', err);\n    }\n    // If we got a snapshot for a version further along than the document is\n    // currently, issue a fetch to get the latest ops and catch us up\n    if (snapshot.v > this.version) return this.fetch(callback);\n    return callback && callback();\n  }\n\n  // Ignore the snapshot if we are already at a newer version. Under no\n  // circumstance should we ever set the current version backward\n  if (this.version > snapshot.v) return callback && callback();\n\n  this.version = snapshot.v;\n  this.cachedOps.length = 0;\n  var type = (snapshot.type === undefined) ? types.defaultType : snapshot.type;\n  this._setType(type);\n  this.data = (this.type && this.type.deserialize) ?\n    this.type.deserialize(snapshot.data) :\n    snapshot.data;\n  this.connection.onDocLoad(this);\n  this.emit('load');\n  this._processAllReceivedPresence();\n  callback && callback();\n};\n\nDoc.prototype.whenNothingPending = function(callback) {\n  var doc = this;\n  process.nextTick(function() {\n    if (doc.hasPending()) {\n      doc.once('nothing pending', callback);\n      return;\n    }\n    callback();\n  });\n};\n\nDoc.prototype.hasPending = function() {\n  return !!(\n    this.inflightOp ||\n    this.pendingOps.length ||\n    this.inflightFetch.length ||\n    this.inflightSubscribe.length ||\n    this.inflightUnsubscribe.length ||\n    this.pendingFetch.length ||\n    this.inflightPresence ||\n    this.pendingPresence\n  );\n};\n\nDoc.prototype.hasWritePending = function() {\n  return !!(this.inflightOp || this.pendingOps.length);\n};\n\nDoc.prototype._emitNothingPending = function() {\n  if (this.hasWritePending()) return;\n  this.emit('no write pending');\n  if (this.hasPending()) return;\n  this.emit('nothing pending');\n};\n\n// **** Helpers for network messages\n\nDoc.prototype._emitResponseError = function(err, callback) {\n  if (callback) {\n    callback(err);\n    this._emitNothingPending();\n    return;\n  }\n  this._emitNothingPending();\n  this.emit('error', err);\n};\n\nDoc.prototype._handleFetch = function(err, snapshot) {\n  var callback = this.inflightFetch.shift();\n  if (err) return this._emitResponseError(err, callback);\n  this.ingestSnapshot(snapshot, callback);\n  this._emitNothingPending();\n};\n\nDoc.prototype._handleSubscribe = function(err, snapshot) {\n  var callback = this.inflightSubscribe.shift();\n  if (err) return this._emitResponseError(err, callback);\n  // Indicate we are subscribed only if the client still wants to be. In the\n  // time since calling subscribe and receiving a response from the server,\n  // unsubscribe could have been called and we might already be unsubscribed\n  // but not have received the response. Also, because requests from the\n  // client are not serialized and may take different async time to process,\n  // it is possible that we could hear responses back in a different order\n  // from the order originally sent\n  if (this.wantSubscribe) this.subscribed = true;\n  this.ingestSnapshot(snapshot, callback);\n  this._emitNothingPending();\n  this.flush();\n};\n\nDoc.prototype._handleUnsubscribe = function(err) {\n  var callback = this.inflightUnsubscribe.shift();\n  if (err) return this._emitResponseError(err, callback);\n  if (callback) callback();\n  this._emitNothingPending();\n};\n\nDoc.prototype._handleOp = function(err, message) {\n  if (err) {\n    if (this.inflightOp) {\n      // The server has rejected submission of the current operation. If we get\n      // an error code 4002 \"Op submit rejected\", this was done intentionally\n      // and we should roll back but not return an error to the user.\n      if (err.code === 4002) err = null;\n      return this._rollback(err);\n    }\n    return this.emit('error', err);\n  }\n\n  if (this.inflightOp &&\n      message.src === this.inflightOp.src &&\n      message.seq === this.inflightOp.seq) {\n    // The op has already been applied locally. Just update the version\n    // and pending state appropriately\n    this._opAcknowledged(message);\n    return;\n  }\n\n  if (this.version == null || message.v > this.version) {\n    // This will happen in normal operation if we become subscribed to a\n    // new document via a query. It can also happen if we get an op for\n    // a future version beyond the version we are expecting next. This\n    // could happen if the server doesn't publish an op for whatever reason\n    // or because of a race condition. In any case, we can send a fetch\n    // command to catch back up.\n    //\n    // Fetch only sends a new fetch command if no fetches are inflight, which\n    // will act as a natural debouncing so we don't send multiple fetch\n    // requests for many ops received at once.\n    this.fetch();\n    return;\n  }\n\n  if (message.v < this.version) {\n    // We can safely ignore the old (duplicate) operation.\n    return;\n  }\n\n  var serverOp = {\n    src: message.src,\n    time: Date.now(),\n    create: !!message.create,\n    op: message.op,\n    del: !!message.del\n  };\n\n  if (this.inflightOp) {\n    var transformErr = transformX(this.inflightOp, message);\n    if (transformErr) return this._hardRollback(transformErr);\n  }\n\n  for (var i = 0; i < this.pendingOps.length; i++) {\n    var transformErr = transformX(this.pendingOps[i], message);\n    if (transformErr) return this._hardRollback(transformErr);\n  }\n\n  this.version++;\n  this._cacheOp(serverOp);\n  this._otApply(message);\n  this._processAllReceivedPresence();\n  return;\n};\n\n// Called whenever (you guessed it!) the connection state changes. This will\n// happen when we get disconnected & reconnect.\nDoc.prototype._onConnectionStateChanged = function() {\n  if (this.connection.canSend) {\n    this.flush();\n    this._resubscribe();\n  } else {\n    if (this.inflightOp) {\n      this.pendingOps.unshift(this.inflightOp);\n      this.inflightOp = null;\n    }\n    this.subscribed = false;\n    if (this.inflightFetch.length || this.inflightSubscribe.length) {\n      this.pendingFetch = this.pendingFetch.concat(this.inflightFetch, this.inflightSubscribe);\n      this.inflightFetch.length = 0;\n      this.inflightSubscribe.length = 0;\n    }\n    if (this.inflightUnsubscribe.length) {\n      var callbacks = this.inflightUnsubscribe;\n      this.inflightUnsubscribe = [];\n      this._pausePresence();\n      callEach(callbacks);\n    } else {\n      this._pausePresence();\n    }\n  }\n};\n\nDoc.prototype._resubscribe = function() {\n  var doc = this;\n  var callbacks = this.pendingFetch;\n  this.pendingFetch = [];\n\n  if (this.wantSubscribe) {\n    if (callbacks.length) {\n      this.subscribe(function(err) {\n        var called = callEach(callbacks, err);\n        if (err && !called) doc.emit('error', err);\n      });\n      return;\n    }\n    this.subscribe();\n    return;\n  }\n\n  if (callbacks.length) {\n    this.fetch(function(err) {\n      var called = callEach(callbacks, err);\n      if (err && !called) doc.emit('error', err);\n    });\n  }\n};\n\n// Request the current document snapshot or ops that bring us up to date\nDoc.prototype.fetch = function(callback) {\n  if (this.connection.canSend) {\n    var isDuplicate = this.connection.sendFetch(this);\n    pushActionCallback(this.inflightFetch, isDuplicate, callback);\n    return;\n  }\n  this.pendingFetch.push(callback);\n};\n\n// Fetch the initial document and keep receiving updates\nDoc.prototype.subscribe = function(callback) {\n  this.wantSubscribe = true;\n  if (this.connection.canSend) {\n    var isDuplicate = this.connection.sendSubscribe(this);\n    pushActionCallback(this.inflightSubscribe, isDuplicate, callback);\n    return;\n  }\n  this.pendingFetch.push(callback);\n};\n\n// Unsubscribe. The data will stay around in local memory, but we'll stop\n// receiving updates\nDoc.prototype.unsubscribe = function(callback) {\n  this.wantSubscribe = false;\n  // The subscribed state should be conservative in indicating when we are\n  // subscribed on the server. We'll actually be unsubscribed some time\n  // between sending the message and hearing back, but we cannot know exactly\n  // when. Thus, immediately mark us as not subscribed\n  this.subscribed = false;\n  if (this.connection.canSend) {\n    var isDuplicate = this.connection.sendUnsubscribe(this);\n    pushActionCallback(this.inflightUnsubscribe, isDuplicate, callback);\n    this._pausePresence();\n    return;\n  }\n  this._pausePresence();\n  if (callback) process.nextTick(callback);\n};\n\nfunction pushActionCallback(inflight, isDuplicate, callback) {\n  if (isDuplicate) {\n    var lastCallback = inflight.pop();\n    inflight.push(function(err) {\n      lastCallback && lastCallback(err);\n      callback && callback(err);\n    });\n  } else {\n    inflight.push(callback);\n  }\n}\n\n\n// Operations //\n\n// Send the next pending op to the server, if we can.\n//\n// Only one operation can be in-flight at a time. If an operation is already on\n// its way, or we're not currently connected, this method does nothing.\n//\n// If there are no pending ops, this method sends the pending presence data, if possible.\nDoc.prototype.flush = function() {\n  if (this.paused) return;\n\n  if (this.connection.canSend && !this.inflightOp && this.pendingOps.length) {\n    this._sendOp();\n  }\n\n  if (this.subscribed && !this.inflightPresence && this.pendingPresence && !this.hasWritePending()) {\n    this.inflightPresence = this.pendingPresence;\n    this.inflightPresenceSeq = this.connection.seq;\n    this.pendingPresence = null;\n    this.connection.sendPresence(this, this.presence[''], this.requestReplyPresence);\n    this.requestReplyPresence = false;\n  }\n};\n\n// Helper function to set op to contain a no-op.\nfunction setNoOp(op) {\n  delete op.op;\n  delete op.create;\n  delete op.del;\n}\n\n// Transform server op data by a client op, and vice versa. Ops are edited in place.\nfunction transformX(client, server) {\n  // Order of statements in this function matters. Be especially careful if\n  // refactoring this function\n\n  // A client delete op should dominate if both the server and the client\n  // delete the document. Thus, any ops following the client delete (such as a\n  // subsequent create) will be maintained, since the server op is transformed\n  // to a no-op\n  if (client.del) return setNoOp(server);\n\n  if (server.del) {\n    return new ShareDBError(4017, 'Document was deleted');\n  }\n  if (server.create) {\n    return new ShareDBError(4018, 'Document alredy created');\n  }\n\n  // Ignore no-op coming from server\n  if (!server.op) return;\n\n  // I believe that this should not occur, but check just in case\n  if (client.create) {\n    return new ShareDBError(4018, 'Document already created');\n  }\n\n  // They both edited the document. This is the normal case for this function -\n  // as in, most of the time we'll end up down here.\n  //\n  // You should be wondering why I'm using client.type instead of this.type.\n  // The reason is, if we get ops at an old version of the document, this.type\n  // might be undefined or a totally different type. By pinning the type to the\n  // op data, we make sure the right type has its transform function called.\n  if (client.type.transformX) {\n    var result = client.type.transformX(client.op, server.op);\n    client.op = result[0];\n    server.op = result[1];\n  } else {\n    var clientOp = client.type.transform(client.op, server.op, 'left');\n    var serverOp = client.type.transform(server.op, client.op, 'right');\n    client.op = clientOp;\n    server.op = serverOp;\n  }\n};\n\n/**\n * Applies the operation to the snapshot\n *\n * If the operation is create or delete it emits `create` or `del`. Then the\n * operation is applied to the snapshot and `op` and `after op` are emitted.\n * If the type supports incremental updates and `this.incremental` is true we\n * fire `op` after every small operation.\n *\n * This is the only function to fire the above mentioned events.\n *\n * @private\n */\nDoc.prototype._otApply = function(op, options) {\n  var source = options && options.source || false;\n  if (op.op) {\n    if (!this.type) {\n      var err = new ShareDBError(4015, 'Cannot apply op to uncreated document. ' + this.collection + '.' + this.id);\n      return this.emit('error', err);\n    }\n    var undoOp = options && options.undoOp || null;\n    var undoable = options && options.undoable || false;\n    var fixUp = options && options.fixUp || false;\n\n    // Iteratively apply multi-component remote operations and rollback ops\n    // (source === false) for the default JSON0 OT type. It could use\n    // type.shatter(), but since this code is so specific to use cases for the\n    // JSON0 type and ShareDB explicitly bundles the default type, we might as\n    // well write it this way and save needing to iterate through the op\n    // components twice.\n    //\n    // Ideally, we would not need this extra complexity. However, it is\n    // helpful for implementing bindings that update DOM nodes and other\n    // stateful objects by translating op events directly into corresponding\n    // mutations. Such bindings are most easily written as responding to\n    // individual op components one at a time in order, and it is important\n    // that the snapshot only include updates from the particular op component\n    // at the time of emission. Eliminating this would require rethinking how\n    // such external bindings are implemented.\n    if (!source && this.type === types.defaultType && op.op.length > 1) {\n      if (!this.applyStack) this.applyStack = [];\n      var stackLength = this.applyStack.length;\n      for (var i = 0; i < op.op.length; i++) {\n        var component = op.op[i];\n        var componentOp = {op: [component]};\n        // Transform componentOp against any ops that have been submitted\n        // sychronously inside of an op event handler since we began apply of\n        // our operation\n        for (var j = stackLength; j < this.applyStack.length; j++) {\n          var transformErr = transformX(this.applyStack[j], componentOp);\n          if (transformErr) return this._hardRollback(transformErr);\n        }\n        // Apply the individual op component\n        this.emit('before op', componentOp.op, source);\n        this._applyOp(componentOp, undoOp, source, undoable, fixUp);\n        this._transformAllPresence(componentOp);\n        this.emit('op', componentOp.op, source);\n      }\n      // Pop whatever was submitted since we started applying this op\n      this._popApplyStack(stackLength);\n      return;\n    }\n\n    // The 'before op' event enables clients to pull any necessary data out of\n    // the snapshot before it gets changed\n    this.emit('before op', op.op, source);\n    // Apply the operation to the local data, mutating it in place\n    this._applyOp(op, undoOp, source, undoable, fixUp);\n    this._transformAllPresence(op);\n    // Emit an 'op' event once the local data includes the changes from the\n    // op. For locally submitted ops, this will be synchronously with\n    // submission and before the server or other clients have received the op.\n    // For ops from other clients, this will be after the op has been\n    // committed to the database and published\n    this.emit('op', op.op, source);\n    return;\n  }\n\n  if (op.create) {\n    this._setType(op.create.type);\n    this.data = (this.type.deserialize) ?\n      (this.type.createDeserialized) ?\n        this.type.createDeserialized(op.create.data) :\n        this.type.deserialize(this.type.create(op.create.data)) :\n      this.type.create(op.create.data);\n    this._transformAllPresence(op);\n    this.connection.onDocCreate(this);\n    this.emit('create', source);\n    return;\n  }\n\n  if (op.del) {\n    var oldData = this.data;\n    this._setType(null);\n    this._transformAllPresence(op);\n    this.connection.onDocDelete(this);\n    this.emit('del', oldData, source);\n    return;\n  }\n};\n\n// Applies `op` to `this.data` and updates the undo/redo stacks.\nDoc.prototype._applyOp = function(op, undoOp, source, undoable, fixUp) {\n  if (undoOp == null && (undoable || fixUp || op.needsUndoOp)) {\n    if (this.type.applyAndInvert) {\n      var result = this.type.applyAndInvert(this.data, op.op);\n      this.data = result[0];\n      undoOp = { op: result[1] };\n    } else {\n      this.data = this.type.apply(this.data, op.op);\n      undoOp = { op: this.type.invert(op.op) };\n    }\n  } else {\n    this.data = this.type.apply(this.data, op.op);\n  }\n\n  this.connection.onDocOp(this, op, undoOp, source, undoable, fixUp);\n};\n\n// ***** Sending operations\n\n// Actually send op to the server.\nDoc.prototype._sendOp = function() {\n  // Wait until we have a src id from the server\n  var src = this.connection.id;\n  if (!src) return;\n\n  // When there is no inflightOp, send the first item in pendingOps. If\n  // there is inflightOp, try sending it again\n  if (!this.inflightOp) {\n    // Send first pending op\n    this.inflightOp = this.pendingOps.shift();\n  }\n  var op = this.inflightOp;\n  if (!op) {\n    var err = new ShareDBError(5010, 'No op to send on call to _sendOp');\n    return this.emit('error', err);\n  }\n\n  // Track data for retrying ops\n  op.sentAt = Date.now();\n  op.retries = (op.retries == null) ? 0 : op.retries + 1;\n\n  // The src + seq number is a unique ID representing this operation. This tuple\n  // is used on the server to detect when ops have been sent multiple times and\n  // on the client to match acknowledgement of an op back to the inflightOp.\n  // Note that the src could be different from this.connection.id after a\n  // reconnect, since an op may still be pending after the reconnection and\n  // this.connection.id will change. In case an op is sent multiple times, we\n  // also need to be careful not to override the original seq value.\n  if (op.seq == null) op.seq = this.connection.seq++;\n\n  this.connection.sendOp(this, op);\n\n  // src isn't needed on the first try, since the server session will have the\n  // same id, but it must be set on the inflightOp in case it is sent again\n  // after a reconnect and the connection's id has changed by then\n  if (op.src == null) op.src = src;\n};\n\n\n// Queues the operation for submission to the server and applies it locally.\n//\n// Internal method called to do the actual work for submit(), create() and del().\n// @private\n//\n// @param op\n// @param [op.op]\n// @param [op.del]\n// @param [op.create]\n// @param options { source, skipNoop, undoable, undoOp, fixUp }\n// @param [callback] called when operation is submitted\nDoc.prototype._submit = function(op, options, callback) {\n  if (!options) options = {};\n\n  // Locally submitted ops must always have a truthy source\n  if (!options.source) options.source = true;\n\n  // The op contains either op, create, delete, or none of the above (a no-op).\n  if (op.op) {\n    if (!this.type) {\n      var err = new ShareDBError(4015, 'Cannot submit op. Document has not been created. ' + this.collection + '.' + this.id);\n      if (callback) return callback(err);\n      return this.emit('error', err);\n    }\n    var needsUndoOp = options.undoable || options.fixUp || op.needsUndoOp;\n    if (needsUndoOp && !this.type.invert && !this.type.applyAndInvert) {\n      var err = new ShareDBError(4028, 'Cannot submit op. OT type does not support invert not applyAndInvert. ' + this.collection + '.' + this.id);\n      if (callback) return callback(err);\n      return this.emit('error', err);\n    }\n    // Try to normalize the op. This removes trailing skip:0's and things like that.\n    if (this.type.normalize) op.op = this.type.normalize(op.op);\n    // Try to skip processing no-ops.\n    if (options.skipNoop && this.type.isNoop && this.type.isNoop(op.op)) {\n      if (callback) process.nextTick(callback);\n      return;\n    }\n  }\n\n  this._pushOp(op, callback);\n  this._otApply(op, options);\n\n  // The call to flush is delayed so if submit() is called multiple times\n  // synchronously, all the ops are combined before being sent to the server.\n  var doc = this;\n  process.nextTick(function() {\n    doc.flush();\n  });\n};\n\nDoc.prototype._pushOp = function(op, callback) {\n  if (this.applyStack) {\n    // If we are in the process of incrementally applying an operation, don't\n    // compose the op and push it onto the applyStack so it can be transformed\n    // against other components from the op or ops being applied\n    this.applyStack.push(op);\n  } else {\n    // If the type supports composes, try to compose the operation onto the\n    // end of the last pending operation.\n    var composed = this._tryCompose(op);\n    if (composed) {\n      composed.callbacks.push(callback);\n      return;\n    }\n  }\n  // Push on to the pendingOps queue of ops to submit if we didn't compose\n  op.type = this.type;\n  op.callbacks = [callback];\n  this.pendingOps.push(op);\n};\n\nDoc.prototype._popApplyStack = function(to) {\n  if (to > 0) {\n    this.applyStack.length = to;\n    return;\n  }\n  // Once we have completed the outermost apply loop, reset to null and no\n  // longer add ops to the applyStack as they are submitted\n  var op = this.applyStack[0];\n  this.applyStack = null;\n  if (!op) return;\n  // Compose the ops added since the beginning of the apply stack, since we\n  // had to skip compose when they were originally pushed\n  var i = this.pendingOps.indexOf(op);\n  if (i === -1) return;\n  var ops = this.pendingOps.splice(i);\n  for (var i = 0; i < ops.length; i++) {\n    var op = ops[i];\n    var composed = this._tryCompose(op);\n    if (composed) {\n      composed.callbacks = composed.callbacks.concat(op.callbacks);\n    } else {\n      this.pendingOps.push(op);\n    }\n  }\n};\n\n// Try to compose a submitted op into the last pending op. Returns the\n// composed op if it succeeds, undefined otherwise\nDoc.prototype._tryCompose = function(op) {\n  if (this.preventCompose) return;\n\n  // We can only compose into the last pending op. Inflight ops have already\n  // been sent to the server, so we can't modify them\n  var last = this.pendingOps[this.pendingOps.length - 1];\n  if (!last) return;\n\n  // Compose two ops into a single op if supported by the type. Types that\n  // support compose must be able to compose any two ops together\n  if (last.op && op.op && this.type.compose) {\n    last.op = this.type.compose(last.op, op.op);\n    return last;\n  }\n};\n\n// *** Client OT entrypoints.\n\n// Submit an operation to the document.\n//\n// @param component operation handled by the OT type\n// @param options.source passed into 'op' event handler\n// @param options.skipNoop should processing be skipped entirely, if `component` is a no-op.\n// @param options.undoable should the operation be undoable\n// @param options.fixUp If true, this operation is meant to fix the current invalid state of the snapshot.\n//   It also updates UndoManagers accordingly. This feature requires the OT type to implement `compose`.\n// @param [callback] called after operation submitted\n//\n// @fires before op, op\nDoc.prototype.submitOp = function(component, options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = null;\n  }\n  var op = {op: component};\n  var submitOptions = {\n    source: options && options.source,\n    skipNoop: options && options.skipNoop,\n    undoable: options && options.undoable,\n    fixUp: options && options.fixUp\n  };\n  this._submit(op, submitOptions, callback);\n};\n\n// Submits new content for the document.\n//\n// This function works only if the type supports `diff` or `diffX`.\n// It diffs the current and new snapshot to generate an operation,\n// which is then submitted as usual.\n//\n// @param snapshot new snapshot data\n// @param options.source passed into 'op' event handler\n// @param options.skipNoop should processing be skipped entirely, if the generated operation is a no-op.\n// @param options.undoable should the operation be undoable\n// @param options.fixUp If true, this operation is meant to fix the current invalid state of the snapshot.\n//   It also updates UndoManagers accordingly. This feature requires the OT type to implement `compose`.\n// @param options.diffHint a hint passed into diff/diffX\n// @param [callback] called after operation submitted\n\n// @fires before op, op\nDoc.prototype.submitSnapshot = function(snapshot, options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = null;\n  }\n  if (!this.type) {\n    var err = new ShareDBError(4015, 'Cannot submit snapshot. Document has not been created. ' + this.collection + '.' + this.id);\n    if (callback) return callback(err);\n    return this.emit('error', err);\n  }\n  if (!this.type.diff && !this.type.diffX) {\n    var err = new ShareDBError(4027, 'Cannot submit snapshot. Document type does not support diff nor diffX. ' + this.collection + '.' + this.id);\n    if (callback) return callback(err);\n    return this.emit('error', err);\n  }\n\n  var undoable = !!(options && options.undoable);\n  var fixUp = options && options.fixUp;\n  var diffHint = options && options.diffHint;\n  var needsUndoOp = undoable || fixUp;\n  var op, undoOp;\n\n  if ((needsUndoOp && this.type.diffX) || !this.type.diff) {\n    var diffs = this.type.diffX(this.data, snapshot, diffHint);\n    undoOp = { op: diffs[0] };\n    op = { op: diffs[1] };\n  } else {\n    undoOp = null;\n    op = { op: this.type.diff(this.data, snapshot, diffHint) };\n  }\n\n  var submitOptions = {\n    source: options && options.source,\n    skipNoop: options && options.skipNoop,\n    undoable: undoable,\n    undoOp: undoOp,\n    fixUp: fixUp\n  };\n  this._submit(op, submitOptions, callback);\n};\n\n// Create the document, which in ShareJS semantics means to set its type. Every\n// object implicitly exists in the database but has no data and no type. Create\n// sets the type of the object and can optionally set some initial data on the\n// object, depending on the type.\n//\n// @param data  initial\n// @param type  OT type\n// @param options  {source: ...}\n// @param callback  called when operation submitted\nDoc.prototype.create = function(data, type, options, callback) {\n  if (typeof type === 'function') {\n    callback = type;\n    options = null;\n    type = null;\n  } else if (typeof options === 'function') {\n    callback = options;\n    options = null;\n  }\n  if (!type) {\n    type = types.defaultType.uri;\n  }\n  if (this.type) {\n    var err = new ShareDBError(4016, 'Document already exists');\n    if (callback) return callback(err);\n    return this.emit('error', err);\n  }\n  var op = {create: {type: type, data: data}};\n  var source = options && options.source;\n  this._submit(op, { source: source }, callback);\n};\n\n// Delete the document. This creates and submits a delete operation to the\n// server. Deleting resets the object's type to null and deletes its data. The\n// document still exists, and still has the version it used to have before you\n// deleted it (well, old version +1).\n//\n// @param options  {source: ...}\n// @param callback  called when operation submitted\nDoc.prototype.del = function(options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = null;\n  }\n  if (!this.type) {\n    var err = new ShareDBError(4015, 'Document does not exist');\n    if (callback) return callback(err);\n    return this.emit('error', err);\n  }\n  var op = {del: true};\n  var source = options && options.source;\n  this._submit(op, { source: source }, callback);\n};\n\n\n// Stops the document from sending any operations to the server.\nDoc.prototype.pause = function() {\n  this.paused = true;\n};\n\n// Continue sending operations to the server\nDoc.prototype.resume = function() {\n  this.paused = false;\n  this.flush();\n};\n\n\n// *** Receiving operations\n\n// This is called when the server acknowledges an operation from the client.\nDoc.prototype._opAcknowledged = function(message) {\n  if (this.inflightOp.create) {\n    this.version = message.v;\n    this.cachedOps.length = 0;\n\n  } else if (message.v !== this.version) {\n    // We should already be at the same version, because the server should\n    // have sent all the ops that have happened before acknowledging our op\n    console.warn('Invalid version from server. Expected: ' + this.version + ' Received: ' + message.v, message);\n\n    // Fetching should get us back to a working document state\n    return this.fetch();\n  }\n\n  // The op was committed successfully. Increment the version number\n  this.version++;\n  this._cacheOp({\n    src: this.inflightOp.src,\n    time: Date.now(),\n    create: !!this.inflightOp.create,\n    op: this.inflightOp.op,\n    del: !!this.inflightOp.del\n  });\n\n  this._clearInflightOp();\n  this._processAllReceivedPresence();\n};\n\nDoc.prototype._rollback = function(err) {\n  // The server has rejected submission of the current operation. Invert by\n  // just the inflight op if possible. If not possible to invert, cancel all\n  // pending ops and fetch the latest from the server to get us back into a\n  // working state, then call back\n  var op = this.inflightOp;\n\n  if (op.op && op.type.invert) {\n    op.op = op.type.invert(op.op);\n\n    // Transform the undo operation by any pending ops.\n    for (var i = 0; i < this.pendingOps.length; i++) {\n      var transformErr = transformX(this.pendingOps[i], op);\n      if (transformErr) return this._hardRollback(transformErr);\n    }\n\n    // ... and apply it locally, reverting the changes.\n    //\n    // This operation is applied to look like it comes from a remote source.\n    // I'm still not 100% sure about this functionality, because its really a\n    // local op. Basically, the problem is that if the client's op is rejected\n    // by the server, the editor window should update to reflect the undo.\n    this._otApply(op);\n\n    this._clearInflightOp(err);\n    return;\n  }\n\n  this._hardRollback(err);\n};\n\nDoc.prototype._hardRollback = function(err) {\n  var callbacks = [];\n  if (this.inflightPresence) {\n    callbacks.push.apply(callbacks, this.inflightPresence);\n    this.inflightPresence = null;\n    this.inflightPresenceSeq = 0;\n  }\n  if (this.pendingPresence) {\n    callbacks.push.apply(callbacks, this.pendingPresence);\n    this.pendingPresence = null;\n  }\n  if (this.inflightOp) {\n    callbacks.push.apply(callbacks, this.inflightOp.callbacks);\n  }\n  for (var i = 0; i < this.pendingOps.length; i++) {\n    callbacks.push.apply(callbacks, this.pendingOps[i].callbacks);\n  }\n\n  this._setType(null);\n  this.version = null;\n  this.inflightOp = null;\n  this.pendingOps = [];\n  this.cachedOps.length = 0;\n  this.receivedPresence = Object.create(null);\n  this.requestReplyPresence = true;\n\n  var srcList = Object.keys(this.presence);\n  var changedSrcList = [];\n  for (var i = 0; i < srcList.length; i++) {\n    var src = srcList[i];\n    if (this._setPresence(src, null)) {\n      changedSrcList.push(src);\n    }\n  }\n  this._emitPresence(changedSrcList, false);\n\n  // Fetch the latest from the server to get us back into a working state\n  var doc = this;\n  this.fetch(function() {\n    var called = callEach(callbacks, err);\n    if (err && !called) return doc.emit('error', err);\n  });\n};\n\nDoc.prototype._clearInflightOp = function(err) {\n  var callbacks = this.inflightOp && this.inflightOp.callbacks;\n  this.inflightOp = null;\n  var called = callbacks && callEach(callbacks, err);\n\n  this.flush();\n  this._emitNothingPending();\n\n  if (err && !called) return this.emit('error', err);\n};\n\nfunction callEach(callbacks, err) {\n  var called = false;\n  for (var i = 0; i < callbacks.length; i++) {\n    var callback = callbacks[i];\n    if (callback) {\n      callback(err);\n      called = true;\n    }\n  }\n  return called;\n}\n\n// *** Presence\n\nDoc.prototype.submitPresence = function (data, callback) {\n  if (data != null) {\n    if (!this.type) {\n      var doc = this;\n      return process.nextTick(function() {\n        var err = new ShareDBError(4015, 'Cannot submit presence. Document has not been created. ' + doc.collection + '.' + doc.id);\n        if (callback) return callback(err);\n        doc.emit('error', err);\n      });\n    }\n\n    if (!this.type.createPresence || !this.type.transformPresence) {\n      var doc = this;\n      return process.nextTick(function() {\n        var err = new ShareDBError(4029, 'Cannot submit presence. Document\\'s type does not support presence. ' + doc.collection + '.' + doc.id);\n        if (callback) return callback(err);\n        doc.emit('error', err);\n      });\n    }\n\n    data = this.type.createPresence(data);\n  }\n\n  if (this._setPresence('', data, true) || this.pendingPresence || this.inflightPresence) {\n    if (!this.pendingPresence) {\n      this.pendingPresence = [];\n    }\n    if (callback) {\n      this.pendingPresence.push(callback);\n    }\n\n  } else if (callback) {\n    process.nextTick(callback);\n  }\n\n  var doc = this;\n  process.nextTick(function() {\n    doc.flush();\n  });\n};\n\nDoc.prototype._handlePresence = function(err, presence) {\n  if (!this.subscribed) return;\n\n  var src = presence.src;\n  if (!src) {\n    // Handle the ACK for the presence data we submitted.\n    // this.inflightPresenceSeq would not equal presence.seq after a hard rollback,\n    // when all callbacks are flushed with an error.\n    if (this.inflightPresenceSeq === presence.seq) {\n      var callbacks = this.inflightPresence;\n      this.inflightPresence = null;\n      this.inflightPresenceSeq = 0;\n      var called = callbacks && callEach(callbacks, err);\n      if (err && !called) this.emit('error', err);\n      this.flush();\n      this._emitNothingPending();\n    }\n    return;\n  }\n\n  // This shouldn't happen but check just in case.\n  if (err) return this.emit('error', err);\n\n  if (presence.r && !this.pendingPresence) {\n    // Another client requested us to share our current presence data\n    this.pendingPresence = [];\n    this.flush();\n  }\n\n  // Ignore older messages which arrived out of order\n  if (\n    this.receivedPresence[src] && (\n      this.receivedPresence[src].seq > presence.seq ||\n      (this.receivedPresence[src].seq === presence.seq && presence.v != null)\n    )\n  ) return;\n\n  this.receivedPresence[src] = presence;\n\n  if (presence.v == null) {\n      // null version should happen only when the server automatically sends\n      // null presence for an unsubscribed client\n      presence.processedAt = Date.now();\n      return this._setPresence(src, null, true);\n  }\n\n  // Get missing ops first, if necessary\n  if (this.version == null || this.version < presence.v) return this.fetch();\n\n  this._processReceivedPresence(src, true);\n};\n\n// If emit is true and presence has changed, emits a presence event.\n// Returns true, if presence has changed for src. Otherwise false.\nDoc.prototype._processReceivedPresence = function(src, emit) {\n  if (!src) return false;\n  var presence = this.receivedPresence[src];\n  if (!presence) return false;\n\n  if (presence.processedAt != null) {\n    if (Date.now() >= presence.processedAt + this.receivedPresenceTimeout) {\n        // Remove old received and processed presence\n        delete this.receivedPresence[src];\n    }\n    return false;\n  }\n\n  if (this.version == null || this.version < presence.v) return false; // keep waiting for the missing snapshot or ops\n\n  if (presence.p == null) {\n    // Remove presence data as requested\n    presence.processedAt = Date.now();\n    return this._setPresence(src, null, emit);\n  }\n\n  if (!this.type || !this.type.createPresence || !this.type.transformPresence) {\n    // Remove presence data because the document is not created or its type does not support presence\n    presence.processedAt = Date.now();\n    return this._setPresence(src, null, emit);\n  }\n\n  if (this.inflightOp && this.inflightOp.op == null) {\n    // Remove presence data because receivedPresence can be transformed only against \"op\", not \"create\" nor \"del\"\n    presence.processedAt = Date.now();\n    return this._setPresence(src, null, emit);\n  }\n\n  for (var i = 0; i < this.pendingOps.length; i++) {\n    if (this.pendingOps[i].op == null) {\n      // Remove presence data because receivedPresence can be transformed only against \"op\", not \"create\" nor \"del\"\n      presence.processedAt = Date.now();\n      return this._setPresence(src, null, emit);\n    }\n  }\n\n  var startIndex = this.cachedOps.length - (this.version - presence.v);\n  if (startIndex < 0) {\n    // Remove presence data because we can't transform receivedPresence\n    presence.processedAt = Date.now();\n    return this._setPresence(src, null, emit);\n  }\n\n  for (var i = startIndex; i < this.cachedOps.length; i++) {\n    if (this.cachedOps[i].op == null) {\n      // Remove presence data because receivedPresence can be transformed only against \"op\", not \"create\" nor \"del\"\n      presence.processedAt = Date.now();\n      return this._setPresence(src, null, emit);\n    }\n  }\n\n  // Make sure the format of the data is correct\n  var data = this.type.createPresence(presence.p);\n\n  // Transform against past ops\n  for (var i = startIndex; i < this.cachedOps.length; i++) {\n    var op = this.cachedOps[i];\n    data = this.type.transformPresence(data, op.op, presence.src === op.src);\n  }\n\n  // Transform against pending ops\n  if (this.inflightOp) {\n    data = this.type.transformPresence(data, this.inflightOp.op, false);\n  }\n\n  for (var i = 0; i < this.pendingOps.length; i++) {\n    data = this.type.transformPresence(data, this.pendingOps[i].op, false);\n  }\n\n  // Set presence data\n  presence.processedAt = Date.now();\n  return this._setPresence(src, data, emit);\n};\n\nDoc.prototype._processAllReceivedPresence = function() {\n  var srcList = Object.keys(this.receivedPresence);\n  var changedSrcList = [];\n  for (var i = 0; i < srcList.length; i++) {\n    var src = srcList[i];\n    if (this._processReceivedPresence(src)) {\n        changedSrcList.push(src);\n    }\n  }\n  this._emitPresence(changedSrcList, true);\n};\n\nDoc.prototype._transformPresence = function(src, op) {\n  var presenceData = this.presence[src];\n  if (op.op != null) {\n    var isOwnOperation = src === (op.src || '');\n    presenceData = this.type.transformPresence(presenceData, op.op, isOwnOperation);\n  } else {\n    presenceData = null;\n  }\n  return this._setPresence(src, presenceData);\n};\n\nDoc.prototype._transformAllPresence = function(op) {\n  var srcList = Object.keys(this.presence);\n  var changedSrcList = [];\n  for (var i = 0; i < srcList.length; i++) {\n    var src = srcList[i];\n    if (this._transformPresence(src, op)) {\n      changedSrcList.push(src);\n    }\n  }\n  this._emitPresence(changedSrcList, false);\n};\n\nDoc.prototype._pausePresence = function() {\n  if (this.inflightPresence) {\n    this.pendingPresence =\n      this.pendingPresence ?\n        this.inflightPresence.concat(this.pendingPresence) :\n        this.inflightPresence;\n    this.inflightPresence = null;\n    this.inflightPresenceSeq = 0;\n  } else if (!this.pendingPresence && this.presence[''] != null) {\n    this.pendingPresence = [];\n  }\n  this.receivedPresence = Object.create(null);\n  this.requestReplyPresence = true;\n  var srcList = Object.keys(this.presence);\n  var changedSrcList = [];\n  for (var i = 0; i < srcList.length; i++) {\n    var src = srcList[i];\n    if (src && this._setPresence(src, null)) {\n      changedSrcList.push(src);\n    }\n  }\n  this._emitPresence(changedSrcList, false);\n};\n\n// If emit is true and presence has changed, emits a presence event.\n// Returns true, if presence has changed. Otherwise false.\nDoc.prototype._setPresence = function(src, data, emit) {\n  if (data == null) {\n    if (this.presence[src] == null) return false;\n    delete this.presence[src];\n  } else {\n    var isPresenceEqual =\n      this.presence[src] === data ||\n      (this.type.comparePresence && this.type.comparePresence(this.presence[src], data));\n    if (isPresenceEqual) return false;\n    this.presence[src] = data;\n  }\n  if (emit) this._emitPresence([ src ], true);\n  return true;\n};\n\nDoc.prototype._emitPresence = function(srcList, submitted) {\n  if (srcList && srcList.length > 0) {\n    var doc = this;\n    process.nextTick(function() {\n      doc.emit('presence', srcList, submitted);\n    });\n  }\n};\n\nDoc.prototype._cacheOp = function(op) {\n  // Remove the old ops.\n  var oldOpTime = Date.now() - this.cachedOpsTimeout;\n  var i;\n  for (i = 0; i < this.cachedOps.length; i++) {\n    if (this.cachedOps[i].time >= oldOpTime) {\n      break;\n    }\n  }\n  if (i > 0) {\n    this.cachedOps.splice(0, i);\n  }\n\n  // Cache the new op.\n  this.cachedOps.push(op);\n};\n","exports.Connection = require('./connection');\nexports.Doc = require('./doc');\nexports.Error = require('../error');\nexports.Query = require('./query');\nexports.types = require('../types');\n","var emitter = require('../emitter');\n\n// Queries are live requests to the database for particular sets of fields.\n//\n// The server actively tells the client when there's new data that matches\n// a set of conditions.\nmodule.exports = Query;\nfunction Query(action, connection, id, collection, query, options, callback) {\n  emitter.EventEmitter.call(this);\n\n  // 'qf' or 'qs'\n  this.action = action;\n\n  this.connection = connection;\n  this.id = id;\n  this.collection = collection;\n\n  // The query itself. For mongo, this should look something like {\"data.x\":5}\n  this.query = query;\n\n  // A list of resulting documents. These are actual documents, complete with\n  // data and all the rest. It is possible to pass in an initial results set,\n  // so that a query can be serialized and then re-established\n  this.results = null;\n  if (options && options.results) {\n    this.results = options.results;\n    delete options.results;\n  }\n  this.extra = undefined;\n\n  // Options to pass through with the query\n  this.options = options;\n\n  this.callback = callback;\n  this.ready = false;\n  this.sent = false;\n}\nemitter.mixin(Query);\n\nQuery.prototype.hasPending = function() {\n  return !this.ready;\n};\n\n// Helper for subscribe & fetch, since they share the same message format.\n//\n// This function actually issues the query.\nQuery.prototype.send = function() {\n  if (!this.connection.canSend) return;\n\n  var message = {\n    a: this.action,\n    id: this.id,\n    c: this.collection,\n    q: this.query\n  };\n  if (this.options) {\n    message.o = this.options;\n  }\n  if (this.results) {\n    // Collect the version of all the documents in the current result set so we\n    // don't need to be sent their snapshots again.\n    var results = [];\n    for (var i = 0; i < this.results.length; i++) {\n      var doc = this.results[i];\n      results.push([doc.id, doc.version]);\n    }\n    message.r = results;\n  }\n\n  this.connection.send(message);\n  this.sent = true;\n};\n\n// Destroy the query object. Any subsequent messages for the query will be\n// ignored by the connection.\nQuery.prototype.destroy = function(callback) {\n  if (this.connection.canSend && this.action === 'qs') {\n    this.connection.send({a: 'qu', id: this.id});\n  }\n  this.connection._destroyQuery(this);\n  // There is a callback for consistency, but we don't actually wait for the\n  // server's unsubscribe message currently\n  if (callback) process.nextTick(callback);\n};\n\nQuery.prototype._onConnectionStateChanged = function() {\n  if (this.connection.canSend && !this.sent) {\n    this.send();\n  } else {\n    this.sent = false;\n  }\n};\n\nQuery.prototype._handleFetch = function(err, data, extra) {\n  // Once a fetch query gets its data, it is destroyed.\n  this.connection._destroyQuery(this);\n  this._handleResponse(err, data, extra);\n};\n\nQuery.prototype._handleSubscribe = function(err, data, extra) {\n  this._handleResponse(err, data, extra);\n};\n\nQuery.prototype._handleResponse = function(err, data, extra) {\n  var callback = this.callback;\n  this.callback = null;\n  if (err) return this._finishResponse(err, callback);\n  if (!data) return this._finishResponse(null, callback);\n\n  var query = this;\n  var wait = 1;\n  var finish = function(err) {\n    if (err) return query._finishResponse(err, callback);\n    if (--wait) return;\n    query._finishResponse(null, callback);\n  };\n\n  if (Array.isArray(data)) {\n    wait += data.length;\n    this.results = this._ingestSnapshots(data, finish);\n    this.extra = extra;\n\n  } else {\n    for (var id in data) {\n      wait++;\n      var snapshot = data[id];\n      var doc = this.connection.get(snapshot.c || this.collection, id);\n      doc.ingestSnapshot(snapshot, finish);\n    }\n  }\n\n  finish();\n};\n\nQuery.prototype._ingestSnapshots = function(snapshots, finish) {\n  var results = [];\n  for (var i = 0; i < snapshots.length; i++) {\n    var snapshot = snapshots[i];\n    var doc = this.connection.get(snapshot.c || this.collection, snapshot.d);\n    doc.ingestSnapshot(snapshot, finish);\n    results.push(doc);\n  }\n  return results;\n};\n\nQuery.prototype._finishResponse = function(err, callback) {\n  this.emit('ready');\n  this.ready = true;\n  if (err) {\n    this.connection._destroyQuery(this);\n    if (callback) return callback(err);\n    return this.emit('error', err);\n  }\n  if (callback) callback(null, this.results, this.extra);\n};\n\nQuery.prototype._handleError = function(err) {\n  this.emit('error', err);\n};\n\nQuery.prototype._handleDiff = function(diff) {\n  // We need to go through the list twice. First, we'll ingest all the new\n  // documents. After that we'll emit events and actually update our list.\n  // This avoids race conditions around setting documents to be subscribed &\n  // unsubscribing documents in event callbacks.\n  for (var i = 0; i < diff.length; i++) {\n    var d = diff[i];\n    if (d.type === 'insert') d.values = this._ingestSnapshots(d.values);\n  }\n\n  for (var i = 0; i < diff.length; i++) {\n    var d = diff[i];\n    switch (d.type) {\n      case 'insert':\n        var newDocs = d.values;\n        Array.prototype.splice.apply(this.results, [d.index, 0].concat(newDocs));\n        this.emit('insert', newDocs, d.index);\n        break;\n      case 'remove':\n        var howMany = d.howMany || 1;\n        var removed = this.results.splice(d.index, howMany);\n        this.emit('remove', removed, d.index);\n        break;\n      case 'move':\n        var howMany = d.howMany || 1;\n        var docs = this.results.splice(d.from, howMany);\n        Array.prototype.splice.apply(this.results, [d.to, 0].concat(docs));\n        this.emit('move', docs, d.from, d.to);\n        break;\n    }\n  }\n\n  this.emit('changed', this.results);\n};\n\nQuery.prototype._handleExtra = function(extra) {\n  this.extra = extra;\n  this.emit('extra', extra);\n};\n","var Snapshot = require('../snapshot');\nvar util = require('../util');\nvar emitter = require('../emitter');\n\nmodule.exports = SnapshotRequest;\n\nfunction SnapshotRequest(connection, requestId, collection, id, version, callback) {\n  emitter.EventEmitter.call(this);\n\n  if (typeof callback !== 'function') {\n    throw new Error('Callback is required for SnapshotRequest');\n  }\n\n  if (!util.isValidVersion(version)) {\n    throw new Error('Snapshot version must be a positive integer or null');\n  }\n\n  this.requestId = requestId;\n  this.connection = connection;\n  this.id = id;\n  this.collection = collection;\n  this.version = version;\n  this.callback = callback;\n\n  this.sent = false;\n}\nemitter.mixin(SnapshotRequest);\n\nSnapshotRequest.prototype.send = function () {\n  if (!this.connection.canSend) {\n    return;\n  }\n\n  var message = {\n    a: 'nf',\n    id: this.requestId,\n    c: this.collection,\n    d: this.id,\n    v: this.version,\n  };\n\n  this.connection.send(message);\n  this.sent = true;\n};\n\nSnapshotRequest.prototype._onConnectionStateChanged = function () {\n  if (this.connection.canSend) {\n    if (!this.sent) this.send();\n  } else {\n    // If the connection can't send, then we've had a disconnection, and even if we've already sent\n    // the request previously, we need to re-send it over this reconnected client, so reset the\n    // sent flag to false.\n    this.sent = false;\n  }\n};\n\nSnapshotRequest.prototype._handleResponse = function (error, message) {\n  this.emit('ready');\n\n  if (error) {\n    return this.callback(error);\n  }\n\n  var snapshot = new Snapshot(this.id, message.v, message.type, message.data, null);\n  this.callback(null, snapshot);\n};\n","function findLastIndex(stack, doc) {\n  var index = stack.length - 1;\n  while (index >= 0) {\n    if (stack[index].doc === doc) break;\n    index--;\n  }\n  return index;\n}\n\nfunction getLast(list) {\n  var lastIndex = list.length - 1;\n  /* istanbul ignore if */\n  if (lastIndex < 0) throw new Error('List empty');\n  return list[lastIndex];\n}\n\nfunction setLast(list, item) {\n  var lastIndex = list.length - 1;\n  /* istanbul ignore if */\n  if (lastIndex < 0) throw new Error('List empty');\n  list[lastIndex] = item;\n}\n\nfunction Op(op, doc) {\n  this.op = op;\n  this.doc = doc;\n  this.needsUndoOp = true;\n}\n\n// Manages an undo/redo stack for all operations from the specified `source`.\nmodule.exports = UndoManager;\nfunction UndoManager(connection, options) {\n  // The Connection which created this UndoManager.\n  this._connection = connection;\n\n  // If != null, only ops from this \"source\" will be undoable.\n  this._source = options && options.source;\n\n  // The max number of undo operations to keep on the stack.\n  this._limit = options && typeof options.limit === 'number' ? options.limit : 100;\n\n  // The max time difference between operations in milliseconds,\n  // which still allows the operations to be composed on the undoStack.\n  this._composeInterval = options && typeof options.composeInterval === 'number' ? options.composeInterval : 1000;\n\n  // Undo stack for local operations.\n  this._undoStack = [];\n\n  // Redo stack for local operations.\n  this._redoStack = [];\n\n  // The timestamp of the previous reversible operation. Used to determine if\n  // the next reversible operation can be composed on the undoStack.\n  this._previousUndoableOperationTime = -Infinity;\n}\n\nUndoManager.prototype.destroy = function() {\n  this._connection.removeUndoManager(this);\n  this.clear();\n};\n\n// Clear the undo and redo stack.\n//\n// @param doc If specified, clear only the ops belonging to this doc.\nUndoManager.prototype.clear = function(doc) {\n  if (doc) {\n    var filter = function(item) { return item.doc !== doc; };\n    this._undoStack = this._undoStack.filter(filter);\n    this._redoStack = this._redoStack.filter(filter);\n  } else {\n    this._undoStack.length = 0;\n    this._redoStack.length = 0;\n  }\n};\n\n// Returns true, if there are any operations on the undo stack, otherwise false.\nUndoManager.prototype.canUndo = function() {\n  return this._undoStack.length > 0\n};\n\n// Undoes a submitted operation.\n//\n// @param options {source: ...}\n// @param [callback] called after operation submitted\n// @fires before op, op\nUndoManager.prototype.undo = function(options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = null;\n  }\n\n  if (!this.canUndo()) {\n    if (callback) process.nextTick(callback);\n    return;\n  }\n\n  var op = getLast(this._undoStack);\n  var submitOptions = { source: options && options.source };\n  op.doc._submit(op, submitOptions, callback);\n};\n\n// Returns true, if there are any operations on the redo stack, otherwise false.\nUndoManager.prototype.canRedo = function() {\n  return this._redoStack.length > 0;\n};\n\n// Redoes an undone operation.\n//\n// @param options {source: ...}\n// @param [callback] called after operation submitted\n// @fires before op, op\nUndoManager.prototype.redo = function(options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = null;\n  }\n\n  if (!this.canRedo()) {\n    if (callback) process.nextTick(callback);\n    return;\n  }\n\n  var op = getLast(this._redoStack);\n  var submitOptions = { source: options && options.source };\n  op.doc._submit(op, submitOptions, callback);\n};\n\nUndoManager.prototype.onDocLoad = function(doc) {\n  this.clear(doc);\n};\n\nUndoManager.prototype.onDocDestroy = function(doc) {\n  this.clear(doc);\n};\n\nUndoManager.prototype.onDocCreate = function(doc) {\n  // NOTE We don't support undo on create because we can't support undo on delete.\n};\n\nUndoManager.prototype.onDocDelete = function(doc) {\n  // NOTE We can't support undo on delete because we can't generate `initialData` required for `create`.\n  // See https://github.com/ottypes/docs#standard-properties.\n  //\n  // We could support undo on delete and create in the future but that would require some breaking changes to ShareDB.\n  // Here's what we could do:\n  //\n  // 1. Do NOT call `create` in ShareDB - ShareDB would get a valid snapshot from the client code.\n  // 2. Add `validate` to OT types.\n  // 3. Call `validate` in ShareDB to ensure that the snapshot from the client is valid.\n  // 4. The `create` ops would contain serialized snapshots instead of `initialData`.\n  this.clear(doc);\n};\n\nUndoManager.prototype.onDocOp = function(doc, op, undoOp, source, undoable, fixUp) {\n  if (this.canUndo() && getLast(this._undoStack) === op) {\n    this._undoStack.pop();\n    this._updateStacksUndo(doc, op.op, undoOp.op);\n\n  } else if (this.canRedo() && getLast(this._redoStack) === op) {\n    this._redoStack.pop();\n    this._updateStacksRedo(doc, op.op, undoOp.op);\n\n  } else if (!fixUp && undoable && (this._source == null || this._source === source)) {\n    this._updateStacksUndoable(doc, op.op, undoOp.op);\n\n  } else {\n    this._updateStacksFixed(doc, op.op, undoOp && undoOp.op, fixUp);\n  }\n};\n\nUndoManager.prototype._updateStacksUndoable = function(doc, op, undoOp) {\n  var isNoop = doc.type.isNoop;\n\n  if (isNoop && isNoop(undoOp)) {\n    return\n  }\n\n  var now = Date.now();\n\n  if (\n    this._undoStack.length === 0 ||\n    getLast(this._undoStack).doc !== doc ||\n    now - this._previousUndoableOperationTime > this._composeInterval\n  ) {\n    this._undoStack.push(new Op(undoOp, doc));\n\n  } else if (doc.type.composeSimilar) {\n    var lastOp = getLast(this._undoStack);\n    var composedOp = doc.type.composeSimilar(undoOp, lastOp.op);\n    if (composedOp != null) {\n      setLast(this._undoStack, new Op(composedOp, doc));\n    } else {\n      this._undoStack.push(new Op(undoOp, doc));\n    }\n\n  } else if (doc.type.compose) {\n    var lastOp = getLast(this._undoStack);\n    var composedOp = doc.type.compose(undoOp, lastOp.op);\n    setLast(this._undoStack, new Op(composedOp, doc));\n\n  } else {\n    this._undoStack.push(new Op(undoOp, doc));\n  }\n\n  this._redoStack.length = 0;\n  this._previousUndoableOperationTime = now;\n\n  if (isNoop && isNoop(getLast(this._undoStack).op)) {\n    this._undoStack.pop();\n  }\n\n  var itemsToRemove = this._undoStack.length - this._limit;\n  if (itemsToRemove > 0) {\n    this._undoStack.splice(0, itemsToRemove);\n  }\n};\n\nUndoManager.prototype._updateStacksUndo = function(doc, op, undoOp) {\n  /* istanbul ignore else */\n  if (!doc.type.isNoop || !doc.type.isNoop(undoOp)) {\n    this._redoStack.push(new Op(undoOp, doc));\n  }\n  this._previousUndoableOperationTime = -Infinity;\n};\n\nUndoManager.prototype._updateStacksRedo = function(doc, op, undoOp) {\n  /* istanbul ignore else */\n  if (!doc.type.isNoop || !doc.type.isNoop(undoOp)) {\n    this._undoStack.push(new Op(undoOp, doc));\n  }\n  this._previousUndoableOperationTime = -Infinity;\n};\n\nUndoManager.prototype._updateStacksFixed = function(doc, op, undoOp, fixUp) {\n  if (fixUp && undoOp != null && doc.type.compose) {\n    var lastUndoIndex = findLastIndex(this._undoStack, doc);\n    if (lastUndoIndex >= 0) {\n      var lastOp = this._undoStack[lastUndoIndex];\n      var composedOp = doc.type.compose(undoOp, lastOp.op);\n      if (!doc.type.isNoop || !doc.type.isNoop(composedOp)) {\n        this._undoStack[lastUndoIndex] = new Op(composedOp, doc);\n      } else {\n        this._undoStack.splice(lastUndoIndex, 1);\n      }\n    }\n\n    var lastRedoIndex = findLastIndex(this._redoStack, doc);\n    if (lastRedoIndex >= 0) {\n      var lastOp = this._redoStack[lastRedoIndex];\n      var composedOp = doc.type.compose(undoOp, lastOp.op);\n      if (!doc.type.isNoop || !doc.type.isNoop(composedOp)) {\n        this._redoStack[lastRedoIndex] = new Op(composedOp, doc);\n      } else {\n        this._redoStack.splice(lastRedoIndex, 1);\n      }\n    }\n\n  } else {\n    this._undoStack = this._transformStack(this._undoStack, doc, op);\n    this._redoStack = this._transformStack(this._redoStack, doc, op);\n  }\n};\n\nUndoManager.prototype._transformStack = function(stack, doc, op) {\n  var transform = doc.type.transform;\n  var transformX = doc.type.transformX;\n  var isNoop = doc.type.isNoop;\n  var newStack = [];\n  var newStackIndex = 0;\n\n  for (var i = stack.length - 1; i >= 0; --i) {\n    var item = stack[i];\n    if (item.doc !== doc) {\n      newStack[newStackIndex++] = item;\n      continue;\n    }\n    var stackOp = item.op;\n    var transformedStackOp;\n    var transformedOp;\n\n    if (transformX) {\n      var result = transformX(op, stackOp);\n      transformedOp = result[0];\n      transformedStackOp = result[1];\n    } else {\n      transformedOp = transform(op, stackOp, 'left');\n      transformedStackOp = transform(stackOp, op, 'right');\n    }\n\n    if (!isNoop || !isNoop(transformedStackOp)) {\n      newStack[newStackIndex++] = new Op(transformedStackOp, doc);\n    }\n\n    op = transformedOp;\n  }\n\n  return newStack.reverse();\n};\n","var EventEmitter = require('events').EventEmitter;\n\nexports.EventEmitter = EventEmitter;\nexports.mixin = mixin;\n\nfunction mixin(Constructor) {\n  for (var key in EventEmitter.prototype) {\n    Constructor.prototype[key] = EventEmitter.prototype[key];\n  }\n}\n","var makeError = require('make-error');\n\nfunction ShareDBError(code, message) {\n  ShareDBError.super.call(this, message);\n  this.code = code;\n}\n\nmakeError(ShareDBError);\n\nmodule.exports = ShareDBError;\n","module.exports = Snapshot;\nfunction Snapshot(id, version, type, data, meta) {\n  this.id = id;\n  this.v = version;\n  this.type = type;\n  this.data = data;\n  this.m = meta;\n}\n","\nexports.defaultType = require('@minervaproject/ot-json0').type;\n\nexports.map = {};\n\nexports.register = function(type) {\n  if (type.name) exports.map[type.name] = type;\n  if (type.uri) exports.map[type.uri] = type;\n};\n\nexports.register(exports.defaultType);\n","\nexports.doNothing = doNothing;\nfunction doNothing() {}\n\nexports.hasKeys = function(object) {\n  for (var key in object) return true;\n  return false;\n};\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger#Polyfill\nexports.isInteger = Number.isInteger || function (value) {\n  return typeof value === 'number' &&\n    isFinite(value) &&\n    Math.floor(value) === value;\n};\n\nexports.isValidVersion = function (version) {\n  if (version === null) return true;\n  return exports.isInteger(version) && version >= 0;\n};\n","// These methods let you build a transform function from a transformComponent\n// function for OT types like JSON0 in which operations are lists of components\n// and transforming them requires N^2 work. I find it kind of nasty that I need\n// this, but I'm not really sure what a better solution is. Maybe I should do\n// this automatically to types that don't have a compose function defined.\n\n// Add transform and transformX functions for an OT type which has\n// transformComponent defined.  transformComponent(destination array,\n// component, other component, side)\nmodule.exports = bootstrapTransform\nfunction bootstrapTransform(type, transformComponent, checkValidOp, append) {\n  var transformComponentX = function(left, right, destLeft, destRight) {\n    transformComponent(destLeft, left, right, 'left');\n    transformComponent(destRight, right, left, 'right');\n  };\n\n  var transformX = type.transformX = function(leftOp, rightOp) {\n    checkValidOp(leftOp);\n    checkValidOp(rightOp);\n    var newRightOp = [];\n\n    for (var i = 0; i < rightOp.length; i++) {\n      var rightComponent = rightOp[i];\n\n      // Generate newLeftOp by composing leftOp by rightComponent\n      var newLeftOp = [];\n      var k = 0;\n      while (k < leftOp.length) {\n        var nextC = [];\n        transformComponentX(leftOp[k], rightComponent, newLeftOp, nextC);\n        k++;\n\n        if (nextC.length === 1) {\n          rightComponent = nextC[0];\n        } else if (nextC.length === 0) {\n          for (var j = k; j < leftOp.length; j++) {\n            append(newLeftOp, leftOp[j]);\n          }\n          rightComponent = null;\n          break;\n        } else {\n          // Recurse.\n          var pair = transformX(leftOp.slice(k), nextC);\n          for (var l = 0; l < pair[0].length; l++) {\n            append(newLeftOp, pair[0][l]);\n          }\n          for (var r = 0; r < pair[1].length; r++) {\n            append(newRightOp, pair[1][r]);\n          }\n          rightComponent = null;\n          break;\n        }\n      }\n\n      if (rightComponent != null) {\n        append(newRightOp, rightComponent);\n      }\n      leftOp = newLeftOp;\n    }\n    return [leftOp, newRightOp];\n  };\n\n  // Transforms op with specified type ('left' or 'right') by otherOp.\n  type.transform = function(op, otherOp, type) {\n    if (!(type === 'left' || type === 'right'))\n      throw new Error(\"type must be 'left' or 'right'\");\n\n    if (otherOp.length === 0) return op;\n\n    if (op.length === 1 && otherOp.length === 1)\n      return transformComponent([], op[0], otherOp[0], type);\n\n    if (type === 'left')\n      return transformX(op, otherOp)[0];\n    else\n      return transformX(otherOp, op)[1];\n  };\n};\n","// Only the JSON type is exported, because the text type is deprecated\n// otherwise. (If you want to use it somewhere, you're welcome to pull it out\n// into a separate module that json0 can depend on).\n\nmodule.exports = {\n  type: require('./json0')\n};\n","/*\n This is the implementation of the JSON OT type.\n\n Spec is here: https://github.com/josephg/ShareJS/wiki/JSON-Operations\n\n Note: This is being made obsolete. It will soon be replaced by the JSON2 type.\n*/\n\n/**\n * UTILITY FUNCTIONS\n */\n\n/**\n * Checks if the passed object is an Array instance. Can't use Array.isArray\n * yet because its not supported on IE8.\n *\n * @param obj\n * @returns {boolean}\n */\nvar isArray = function(obj) {\n  return Object.prototype.toString.call(obj) == '[object Array]';\n};\n\n/**\n * Checks if the passed object is an Object instance.\n * No function call (fast) version\n *\n * @param obj\n * @returns {boolean}\n */\nvar isObject = function(obj) {\n  return (!!obj) && (obj.constructor === Object);\n};\n\n/**\n * Clones the passed object using JSON serialization (which is slow).\n *\n * hax, copied from test/types/json. Apparently this is still the fastest way\n * to deep clone an object, assuming we have browser support for JSON.  @see\n * http://jsperf.com/cloning-an-object/12\n */\nvar clone = function(o) {\n  return JSON.parse(JSON.stringify(o));\n};\n\n/**\n * JSON OT Type\n * @type {*}\n */\nvar json = {\n  name: 'json0',\n  uri: 'http://sharejs.org/types/JSONv0'\n};\n\n// You can register another OT type as a subtype in a JSON document using\n// the following function. This allows another type to handle certain\n// operations instead of the builtin JSON type.\nvar subtypes = {};\njson.registerSubtype = function(subtype) {\n  subtypes[subtype.name] = subtype;\n};\n\njson.create = function(data) {\n  // Null instead of undefined if you don't pass an argument.\n  return data === undefined ? null : clone(data);\n};\n\njson.invertComponent = function(c) {\n  var c_ = {p: c.p};\n\n  // handle subtype ops\n  if (c.t && subtypes[c.t]) {\n    c_.t = c.t;\n    c_.o = subtypes[c.t].invert(c.o);\n  }\n\n  if (c.si !== void 0) c_.sd = c.si;\n  if (c.sd !== void 0) c_.si = c.sd;\n  if (c.oi !== void 0) c_.od = c.oi;\n  if (c.od !== void 0) c_.oi = c.od;\n  if (c.li !== void 0) c_.ld = c.li;\n  if (c.ld !== void 0) c_.li = c.ld;\n  if (c.na !== void 0) c_.na = -c.na;\n\n  if (c.lm !== void 0) {\n    c_.lm = c.p[c.p.length-1];\n    c_.p = c.p.slice(0,c.p.length-1).concat([c.lm]);\n  }\n\n  return c_;\n};\n\njson.invert = function(op) {\n  var op_ = op.slice().reverse();\n  var iop = [];\n  for (var i = 0; i < op_.length; i++) {\n    iop.push(json.invertComponent(op_[i]));\n  }\n  return iop;\n};\n\njson.checkValidOp = function(op) {\n  for (var i = 0; i < op.length; i++) {\n    if (!isArray(op[i].p)) throw new Error('Missing path');\n  }\n};\n\njson.checkList = function(elem) {\n  if (!isArray(elem))\n    throw new Error('Referenced element not a list');\n};\n\njson.checkObj = function(elem) {\n  if (!isObject(elem)) {\n    throw new Error(\"Referenced element not an object (it was \" + JSON.stringify(elem) + \")\");\n  }\n};\n\n// helper functions to convert old string ops to and from subtype ops\nfunction convertFromText(c) {\n  c.t = 'text0';\n  var o = {p: c.p.pop()};\n  if (c.si != null) o.i = c.si;\n  if (c.sd != null) o.d = c.sd;\n  c.o = [o];\n}\n\nfunction convertToText(c) {\n  c.p.push(c.o[0].p);\n  if (c.o[0].i != null) c.si = c.o[0].i;\n  if (c.o[0].d != null) c.sd = c.o[0].d;\n  delete c.t;\n  delete c.o;\n}\n\njson.apply = function(snapshot, op) {\n  json.checkValidOp(op);\n\n  op = clone(op);\n\n  var container = {\n    data: snapshot\n  };\n\n  for (var i = 0; i < op.length; i++) {\n    var c = op[i];\n\n    // convert old string ops to use subtype for backwards compatibility\n    if (c.si != null || c.sd != null)\n      convertFromText(c);\n\n    var parent = null;\n    var parentKey = null;\n    var elem = container;\n    var key = 'data';\n\n    for (var j = 0; j < c.p.length; j++) {\n      var p = c.p[j];\n\n      parent = elem;\n      parentKey = key;\n      elem = elem[key];\n      key = p;\n\n      if (parent == null)\n        throw new Error('Path invalid');\n    }\n\n    // handle subtype ops\n    if (c.t && c.o !== void 0 && subtypes[c.t]) {\n      elem[key] = subtypes[c.t].apply(elem[key], c.o);\n\n    // Number add\n    } else if (c.na !== void 0) {\n      if (typeof elem[key] != 'number')\n        throw new Error('Referenced element not a number');\n\n      elem[key] += c.na;\n    }\n\n    // List replace\n    else if (c.li !== void 0 && c.ld !== void 0) {\n      json.checkList(elem);\n      // Should check the list element matches c.ld\n      elem[key] = c.li;\n    }\n\n    // List insert\n    else if (c.li !== void 0) {\n      json.checkList(elem);\n      elem.splice(key,0, c.li);\n    }\n\n    // List delete\n    else if (c.ld !== void 0) {\n      json.checkList(elem);\n      // Should check the list element matches c.ld here too.\n      elem.splice(key,1);\n    }\n\n    // List move\n    else if (c.lm !== void 0) {\n      json.checkList(elem);\n      if (c.lm != key) {\n        var e = elem[key];\n        // Remove it...\n        elem.splice(key,1);\n        // And insert it back.\n        elem.splice(c.lm,0,e);\n      }\n    }\n\n    // Object insert / replace\n    else if (c.oi !== void 0) {\n      json.checkObj(elem);\n\n      // Should check that elem[key] == c.od\n      elem[key] = c.oi;\n    }\n\n    // Object delete\n    else if (c.od !== void 0) {\n      json.checkObj(elem);\n\n      // Should check that elem[key] == c.od\n      delete elem[key];\n    }\n\n    else {\n      throw new Error('invalid / missing instruction in op');\n    }\n  }\n\n  return container.data;\n};\n\n// Helper to break an operation up into a bunch of small ops.\njson.shatter = function(op) {\n  var results = [];\n  for (var i = 0; i < op.length; i++) {\n    results.push([op[i]]);\n  }\n  return results;\n};\n\n// Helper for incrementally applying an operation to a snapshot. Calls yield\n// after each op component has been applied.\njson.incrementalApply = function(snapshot, op, _yield) {\n  for (var i = 0; i < op.length; i++) {\n    var smallOp = [op[i]];\n    snapshot = json.apply(snapshot, smallOp);\n    // I'd just call this yield, but thats a reserved keyword. Bah!\n    _yield(smallOp, snapshot);\n  }\n\n  return snapshot;\n};\n\n// Checks if two paths, p1 and p2 match.\nvar pathMatches = json.pathMatches = function(p1, p2, ignoreLast) {\n  if (p1.length != p2.length)\n    return false;\n\n  for (var i = 0; i < p1.length; i++) {\n    if (p1[i] !== p2[i] && (!ignoreLast || i !== p1.length - 1))\n      return false;\n  }\n\n  return true;\n};\n\njson.append = function(dest,c) {\n  c = clone(c);\n\n  if (dest.length === 0) {\n    dest.push(c);\n    return;\n  }\n\n  var last = dest[dest.length - 1];\n\n  // convert old string ops to use subtype for backwards compatibility\n  if ((c.si != null || c.sd != null) && (last.si != null || last.sd != null)) {\n    convertFromText(c);\n    convertFromText(last);\n  }\n\n  if (pathMatches(c.p, last.p)) {\n    // handle subtype ops\n    if (c.t && last.t && c.t === last.t && subtypes[c.t]) {\n      last.o = subtypes[c.t].compose(last.o, c.o);\n\n      // convert back to old string ops\n      if (c.si != null || c.sd != null) {\n        var p = c.p;\n        for (var i = 0; i < last.o.length - 1; i++) {\n          c.o = [last.o.pop()];\n          c.p = p.slice();\n          convertToText(c);\n          dest.push(c);\n        }\n\n        convertToText(last);\n      }\n    } else if (last.na != null && c.na != null) {\n      dest[dest.length - 1] = {p: last.p, na: last.na + c.na};\n    } else if (last.li !== undefined && c.li === undefined && c.ld === last.li) {\n      // insert immediately followed by delete becomes a noop.\n      if (last.ld !== undefined) {\n        // leave the delete part of the replace\n        delete last.li;\n      } else {\n        dest.pop();\n      }\n    } else if (last.od !== undefined && last.oi === undefined && c.oi !== undefined && c.od === undefined) {\n      last.oi = c.oi;\n    } else if (last.oi !== undefined && c.od !== undefined) {\n      // The last path component inserted something that the new component deletes (or replaces).\n      // Just merge them.\n      if (c.oi !== undefined) {\n        last.oi = c.oi;\n      } else if (last.od !== undefined) {\n        delete last.oi;\n      } else {\n        // An insert directly followed by a delete turns into a no-op and can be removed.\n        dest.pop();\n      }\n    } else if (c.lm !== undefined && c.p[c.p.length - 1] === c.lm) {\n      // don't do anything\n    } else {\n      dest.push(c);\n    }\n  } else {\n    // convert string ops back\n    if ((c.si != null || c.sd != null) && (last.si != null || last.sd != null)) {\n      convertToText(c);\n      convertToText(last);\n    }\n\n    dest.push(c);\n  }\n};\n\njson.compose = function(op1,op2) {\n  json.checkValidOp(op1);\n  json.checkValidOp(op2);\n\n  var newOp = clone(op1);\n\n  for (var i = 0; i < op2.length; i++) {\n    json.append(newOp,op2[i]);\n  }\n\n  return newOp;\n};\n\njson.normalize = function(op) {\n  var newOp = [];\n\n  op = isArray(op) ? op : [op];\n\n  for (var i = 0; i < op.length; i++) {\n    var c = op[i];\n    if (c.p == null) c.p = [];\n\n    json.append(newOp,c);\n  }\n\n  return newOp;\n};\n\n// Returns the common length of the paths of ops a and b\njson.commonLengthForOps = function(a, b) {\n  var alen = a.p.length;\n  var blen = b.p.length;\n  if (a.na != null || a.t)\n    alen++;\n\n  if (b.na != null || b.t)\n    blen++;\n\n  if (alen === 0) return -1;\n  if (blen === 0) return null;\n\n  alen--;\n  blen--;\n\n  for (var i = 0; i < alen; i++) {\n    var p = a.p[i];\n    if (i >= blen || p !== b.p[i])\n      return null;\n  }\n\n  return alen;\n};\n\n// Returns true if an op can affect the given path\njson.canOpAffectPath = function(op, path) {\n  return json.commonLengthForOps({p:path}, op) != null;\n};\n\n// transform c so it applies to a document with otherC applied.\njson.transformComponent = function(dest, c, otherC, type) {\n  c = clone(c);\n\n  var common = json.commonLengthForOps(otherC, c);\n  var common2 = json.commonLengthForOps(c, otherC);\n  var cplength = c.p.length;\n  var otherCplength = otherC.p.length;\n\n  if (c.na != null || c.t)\n    cplength++;\n\n  if (otherC.na != null || otherC.t)\n    otherCplength++;\n\n  // if c is deleting something, and that thing is changed by otherC, we need to\n  // update c to reflect that change for invertibility.\n  if (common2 != null && otherCplength > cplength && c.p[common2] == otherC.p[common2]) {\n    if (c.ld !== void 0) {\n      var oc = clone(otherC);\n      oc.p = oc.p.slice(cplength);\n      c.ld = json.apply(clone(c.ld),[oc]);\n    } else if (c.od !== void 0) {\n      var oc = clone(otherC);\n      oc.p = oc.p.slice(cplength);\n      c.od = json.apply(clone(c.od),[oc]);\n    }\n  }\n\n  if (common != null) {\n    var commonOperand = cplength == otherCplength;\n\n    // backward compatibility for old string ops\n    var oc = otherC;\n    if ((c.si != null || c.sd != null) && (otherC.si != null || otherC.sd != null)) {\n      convertFromText(c);\n      oc = clone(otherC);\n      convertFromText(oc);\n    }\n\n    // handle subtype ops\n    if (oc.t && subtypes[oc.t]) {\n      if (c.t && c.t === oc.t) {\n        var res = subtypes[c.t].transform(c.o, oc.o, type);\n\n        // convert back to old string ops\n        if (c.si != null || c.sd != null) {\n          var p = c.p;\n          for (var i = 0; i < res.length; i++) {\n            c.o = [res[i]];\n            c.p = p.slice();\n            convertToText(c);\n            json.append(dest, c);\n          }\n        } else if (!isArray(res) || res.length > 0) {\n          c.o = res;\n          json.append(dest, c);\n        }\n\n        return dest;\n      }\n    }\n\n    // transform based on otherC\n    else if (otherC.na !== void 0) {\n      // this case is handled below\n    } else if (otherC.li !== void 0 && otherC.ld !== void 0) {\n      if (otherC.p[common] === c.p[common]) {\n        // noop\n\n        if (!commonOperand) {\n          return dest;\n        } else if (c.ld !== void 0) {\n          // we're trying to delete the same element, -> noop\n          if (c.li !== void 0 && type === 'left') {\n            // we're both replacing one element with another. only one can survive\n            c.ld = clone(otherC.li);\n          } else {\n            return dest;\n          }\n        }\n      }\n    } else if (otherC.li !== void 0) {\n      if (c.li !== void 0 && c.ld === undefined && commonOperand && c.p[common] === otherC.p[common]) {\n        // in li vs. li, left wins.\n        if (type === 'right')\n          c.p[common]++;\n      } else if (otherC.p[common] <= c.p[common]) {\n        c.p[common]++;\n      }\n\n      if (c.lm !== void 0) {\n        if (commonOperand) {\n          // otherC edits the same list we edit\n          if (otherC.p[common] <= c.lm)\n            c.lm++;\n          // changing c.from is handled above.\n        }\n      }\n    } else if (otherC.ld !== void 0) {\n      if (c.lm !== void 0) {\n        if (commonOperand) {\n          if (otherC.p[common] === c.p[common]) {\n            // they deleted the thing we're trying to move\n            return dest;\n          }\n          // otherC edits the same list we edit\n          var p = otherC.p[common];\n          var from = c.p[common];\n          var to = c.lm;\n          if (p < to || (p === to && from < to))\n            c.lm--;\n\n        }\n      }\n\n      if (otherC.p[common] < c.p[common]) {\n        c.p[common]--;\n      } else if (otherC.p[common] === c.p[common]) {\n        if (otherCplength < cplength) {\n          // we're below the deleted element, so -> noop\n          return dest;\n        } else if (c.ld !== void 0) {\n          if (c.li !== void 0) {\n            // we're replacing, they're deleting. we become an insert.\n            delete c.ld;\n          } else {\n            // we're trying to delete the same element, -> noop\n            return dest;\n          }\n        }\n      }\n\n    } else if (otherC.lm !== void 0) {\n      if (c.lm !== void 0 && cplength === otherCplength) {\n        // lm vs lm, here we go!\n        var from = c.p[common];\n        var to = c.lm;\n        var otherFrom = otherC.p[common];\n        var otherTo = otherC.lm;\n        if (otherFrom !== otherTo) {\n          // if otherFrom == otherTo, we don't need to change our op.\n\n          // where did my thing go?\n          if (from === otherFrom) {\n            // they moved it! tie break.\n            if (type === 'left') {\n              c.p[common] = otherTo;\n              if (from === to) // ugh\n                c.lm = otherTo;\n            } else {\n              return dest;\n            }\n          } else {\n            // they moved around it\n            if (from > otherFrom) c.p[common]--;\n            if (from > otherTo) c.p[common]++;\n            else if (from === otherTo) {\n              if (otherFrom > otherTo) {\n                c.p[common]++;\n                if (from === to) // ugh, again\n                  c.lm++;\n              }\n            }\n\n            // step 2: where am i going to put it?\n            if (to > otherFrom) {\n              c.lm--;\n            } else if (to === otherFrom) {\n              if (to > from)\n                c.lm--;\n            }\n            if (to > otherTo) {\n              c.lm++;\n            } else if (to === otherTo) {\n              // if we're both moving in the same direction, tie break\n              if ((otherTo > otherFrom && to > from) ||\n                  (otherTo < otherFrom && to < from)) {\n                if (type === 'right') c.lm++;\n              } else {\n                if (to > from) c.lm++;\n                else if (to === otherFrom) c.lm--;\n              }\n            }\n          }\n        }\n      } else if (c.li !== void 0 && c.ld === undefined && commonOperand) {\n        // li\n        var from = otherC.p[common];\n        var to = otherC.lm;\n        p = c.p[common];\n        if (p > from) c.p[common]--;\n        if (p > to) c.p[common]++;\n      } else {\n        // ld, ld+li, si, sd, na, oi, od, oi+od, any li on an element beneath\n        // the lm\n        //\n        // i.e. things care about where their item is after the move.\n        var from = otherC.p[common];\n        var to = otherC.lm;\n        p = c.p[common];\n        if (p === from) {\n          c.p[common] = to;\n        } else {\n          if (p > from) c.p[common]--;\n          if (p > to) c.p[common]++;\n          else if (p === to && from > to) c.p[common]++;\n        }\n      }\n    }\n    else if (otherC.oi !== void 0 && otherC.od !== void 0) {\n      if (c.p[common] === otherC.p[common]) {\n        if (c.oi !== void 0 && commonOperand) {\n          // we inserted where someone else replaced\n          if (type === 'right') {\n            // left wins\n            return dest;\n          } else {\n            // we win, make our op replace what they inserted\n            c.od = otherC.oi;\n          }\n        } else {\n          // -> noop if the other component is deleting the same object (or any parent)\n          return dest;\n        }\n      }\n    } else if (otherC.oi !== void 0) {\n      if (c.oi !== void 0 && c.p[common] === otherC.p[common]) {\n        // left wins if we try to insert at the same place\n        if (type === 'left') {\n          json.append(dest,{p: c.p, od:otherC.oi});\n        } else {\n          return dest;\n        }\n      }\n    } else if (otherC.od !== void 0) {\n      if (c.p[common] == otherC.p[common]) {\n        if (!commonOperand)\n          return dest;\n        if (c.oi !== void 0) {\n          delete c.od;\n        } else {\n          return dest;\n        }\n      }\n    }\n  }\n\n  json.append(dest,c);\n  return dest;\n};\n\njson.createPresence = function(presenceData) {\n  return presenceData;\n};\n\njson.comparePresence = function(pres1, pres2) {\n  return JSON.stringify(pres1) === JSON.stringify(pres2);\n};\n\n// var transformPosition = function(cursor, op, isOwnOp) {\n//   var cursor = clone(cursor);\n// \n//   var opIsAncestor = cursor.length >= op.p.length; // true also if op is self\n//   var opIsSibling = cursor.length === op.p.length; // true also if op is self\n//   var opIsAncestorSibling = cursor.length >= op.p.length; // true also if op is self or sibling of self\n//   var equalUpTo = -1;\n//   for (var i = 0; i < op.p.length; i++) {\n//     if (op.p[i] !== cursor[i]) {\n//       opIsAncestor = false;\n//       if (i < op.p.length - 1) {\n//         opIsSibling = false;\n//         opIsAncestorSibling = false;\n//       }\n//     }\n//     if (equalUpTo === i - 1 && op.p[i] === cursor[i]) {\n//       equalUpTo += 1;\n//     }\n//   }\n// \n//   if (opIsSibling) {\n//     if (op.sd) {\n//       cursor[cursor.length - 1] = text.transformCursor(\n//         cursor[cursor.length - 1],\n//         [{ p: op.p[op.p.length - 1], d: op.sd }],\n//         isOwnOp ? 'right' : 'left'\n//       );\n//     }\n//     if (op.si) {\n//       cursor[cursor.length - 1] = text.transformCursor(\n//         cursor[cursor.length - 1],\n//         [{ p: op.p[op.p.length - 1], i: op.si }],\n//         isOwnOp ? 'right' : 'left'\n//       );\n//     }\n//   }\n// \n//   if (opIsAncestor) {\n//     if (op.lm !== undefined) {\n//       cursor[equalUpTo] = op.lm;\n//     }\n//     if (op.od && op.oi) {\n//       cursor = op.p.slice(0, op.p.length);\n//     } else if (op.od) {\n//       cursor = op.p.slice(0, op.p.length - 1);\n//     } else if (op.ld && op.li) {\n//       cursor = op.p.slice(0, op.p.length);\n//     } else if (op.ld) {\n//       cursor = op.p.slice(0, op.p.length - 1);\n//     }\n//   }\n// \n//   if (opIsAncestorSibling) {\n//     var lastPathIdx = op.p.length - 1;\n//     if (\n//       !opIsAncestor &&\n//       op.ld &&\n//       !op.li &&\n//       op.p[lastPathIdx] < cursor[lastPathIdx]\n//     ) {\n//       cursor[lastPathIdx] -= 1;\n//     } else if (!op.ld && op.li && op.p[lastPathIdx] <= cursor[lastPathIdx]) {\n//       cursor[lastPathIdx] += 1;\n//     }\n// \n//     // if move item in list from after to before\n//     if (\n//       !opIsAncestor &&\n//       op.lm !== undefined &&\n//       op.p[lastPathIdx] > cursor[lastPathIdx] &&\n//       op.lm <= cursor[lastPathIdx]\n//     ) {\n//       cursor[lastPathIdx] += 1;\n//       // if move item in list from before to after\n//     } else if (\n//       !opIsAncestor &&\n//       op.lm !== undefined &&\n//       op.p[lastPathIdx] < cursor[lastPathIdx] &&\n//       op.lm >= cursor[lastPathIdx]\n//     ) {\n//       cursor[lastPathIdx] -= 1;\n//     }\n//   }\n// \n//   return cursor;\n// };\n// \n// json.transformCursor = function(cursor, op, isOwnOp) {\n//   for (var i = 0; i < op.length; i++) {\n//     cursor = transformPosition(cursor, op[i], isOwnOp);\n//   }\n//   return cursor;\n// };\n//\n\njson.transformPresence = function(presence, op, isOwnOp) {\n  // Don't transform path-only presence objects.\n  if(!presence.t) return presence;\n\n  for (var i = 0; i < op.length; i++) {\n    var c = op[i];\n\n    // convert old string ops to use subtype for backwards compatibility\n    if (c.si != null || c.sd != null) {\n      convertFromText(c);\n    }\n\n    // Transform against subtype ops.\n    if (c.t && c.t === presence.t && json.pathMatches(c.p, presence.p)) {\n      presence = Object.assign({}, presence, {\n        s: subtypes[presence.t].transformPresence(presence.s, [c], isOwnOp)\n      });\n    }\n\n    // convert back to old string ops\n    if (c.t === 'text0') {\n      convertToText(c);\n    }\n\n    // TODO transform against non-subtype ops.\n  };\n  return presence;\n};\n\nrequire('./bootstrapTransform')(json, json.transformComponent, json.checkValidOp, json.append);\n\n/**\n * Register a subtype for string operations, using the text0 type.\n */\nvar text = require('./text0');\n\njson.registerSubtype(text);\nmodule.exports = json;\n\n","// DEPRECATED!\n//\n// This type works, but is not exported. Its included here because the JSON0\n// embedded string operations use this library.\n\n\n// A simple text implementation\n//\n// Operations are lists of components. Each component either inserts or deletes\n// at a specified position in the document.\n//\n// Components are either:\n//  {i:'str', p:100}: Insert 'str' at position 100 in the document\n//  {d:'str', p:100}: Delete 'str' at position 100 in the document\n//\n// Components in an operation are executed sequentially, so the position of components\n// assumes previous components have already executed.\n//\n// Eg: This op:\n//   [{i:'abc', p:0}]\n// is equivalent to this op:\n//   [{i:'a', p:0}, {i:'b', p:1}, {i:'c', p:2}]\n\nvar text = module.exports = {\n  name: 'text0',\n  uri: 'http://sharejs.org/types/textv0',\n  create: function(initial) {\n    if ((initial != null) && typeof initial !== 'string') {\n      throw new Error('Initial data must be a string');\n    }\n    return initial || '';\n  }\n};\n\n/** Insert s2 into s1 at pos. */\nvar strInject = function(s1, pos, s2) {\n  return s1.slice(0, pos) + s2 + s1.slice(pos);\n};\n\n/** Check that an operation component is valid. Throws if its invalid. */\nvar checkValidComponent = function(c) {\n  if (typeof c.p !== 'number')\n    throw new Error('component missing position field');\n\n  if ((typeof c.i === 'string') === (typeof c.d === 'string'))\n    throw new Error('component needs an i or d field');\n\n  if (c.p < 0)\n    throw new Error('position cannot be negative');\n};\n\n/** Check that an operation is valid */\nvar checkValidOp = function(op) {\n  for (var i = 0; i < op.length; i++) {\n    checkValidComponent(op[i]);\n  }\n};\n\n/** Apply op to snapshot */\ntext.apply = function(snapshot, op) {\n  var deleted;\n\n  checkValidOp(op);\n  for (var i = 0; i < op.length; i++) {\n    var component = op[i];\n    if (component.i != null) {\n      snapshot = strInject(snapshot, component.p, component.i);\n    } else {\n      deleted = snapshot.slice(component.p, component.p + component.d.length);\n      if (component.d !== deleted)\n        throw new Error(\"Delete component '\" + component.d + \"' does not match deleted text '\" + deleted + \"'\");\n\n      snapshot = snapshot.slice(0, component.p) + snapshot.slice(component.p + component.d.length);\n    }\n  }\n  return snapshot;\n};\n\n/**\n * Append a component to the end of newOp. Exported for use by the random op\n * generator and the JSON0 type.\n */\nvar append = text._append = function(newOp, c) {\n  if (c.i === '' || c.d === '') return;\n\n  if (newOp.length === 0) {\n    newOp.push(c);\n  } else {\n    var last = newOp[newOp.length - 1];\n\n    if (last.i != null && c.i != null && last.p <= c.p && c.p <= last.p + last.i.length) {\n      // Compose the insert into the previous insert\n      newOp[newOp.length - 1] = {i:strInject(last.i, c.p - last.p, c.i), p:last.p};\n\n    } else if (last.d != null && c.d != null && c.p <= last.p && last.p <= c.p + c.d.length) {\n      // Compose the deletes together\n      newOp[newOp.length - 1] = {d:strInject(c.d, last.p - c.p, last.d), p:c.p};\n\n    } else {\n      newOp.push(c);\n    }\n  }\n};\n\n/** Compose op1 and op2 together */\ntext.compose = function(op1, op2) {\n  checkValidOp(op1);\n  checkValidOp(op2);\n  var newOp = op1.slice();\n  for (var i = 0; i < op2.length; i++) {\n    append(newOp, op2[i]);\n  }\n  return newOp;\n};\n\n/** Clean up an op */\ntext.normalize = function(op) {\n  var newOp = [];\n\n  // Normalize should allow ops which are a single (unwrapped) component:\n  // {i:'asdf', p:23}.\n  // There's no good way to test if something is an array:\n  // http://perfectionkills.com/instanceof-considered-harmful-or-how-to-write-a-robust-isarray/\n  // so this is probably the least bad solution.\n  if (op.i != null || op.p != null) op = [op];\n\n  for (var i = 0; i < op.length; i++) {\n    var c = op[i];\n    if (c.p == null) c.p = 0;\n\n    append(newOp, c);\n  }\n\n  return newOp;\n};\n\n// This helper method transforms a position by an op component.\n//\n// If c is an insert, insertAfter specifies whether the transform\n// is pushed after the insert (true) or before it (false).\n//\n// insertAfter is optional for deletes.\nvar transformPosition = function(pos, c, insertAfter) {\n  // This will get collapsed into a giant ternary by uglify.\n  if (c.i != null) {\n    if (c.p < pos || (c.p === pos && insertAfter)) {\n      return pos + c.i.length;\n    } else {\n      return pos;\n    }\n  } else {\n    // I think this could also be written as: Math.min(c.p, Math.min(c.p -\n    // otherC.p, otherC.d.length)) but I think its harder to read that way, and\n    // it compiles using ternary operators anyway so its no slower written like\n    // this.\n    if (pos <= c.p) {\n      return pos;\n    } else if (pos <= c.p + c.d.length) {\n      return c.p;\n    } else {\n      return pos - c.d.length;\n    }\n  }\n};\n\n// This helper method transforms a position by an op component.\n//\n// If c is an insert, insertAfter specifies whether the transform\n// is pushed after the insert (true) or before it (false).\n//\n// insertAfter is optional for deletes.\n// Stian 21/4/2020: Originally there was insertAfter, but this caused a\n// bug where selecting text, then deleting it by typing a letter would get\n// misinterpreted. Seems to me that we want to push the cursor even by\n// normal typing. Perhaps this is because we don't send position updates\n// when typing, while others do? Hopefully changing this doesn't introduce\n// other bugs. We duplicated the transformPosition function to not introduce\n// bugs into the core OT mechanism.\n\nvar transformPositionPresence = function(pos, c, insertAfter) {\n  // This will get collapsed into a giant ternary by uglify.\n  if (c.i != null) {\n    if (c.p < pos || (c.p === pos)) {\n      return pos + c.i.length;\n    } else {\n      return pos;\n    }\n  } else {\n    // I think this could also be written as: Math.min(c.p, Math.min(c.p -\n    // otherC.p, otherC.d.length)) but I think its harder to read that way, and\n    // it compiles using ternary operators anyway so its no slower written like\n    // this.\n    if (pos <= c.p) {\n      return pos;\n    } else if (pos <= c.p + c.d.length) {\n      return c.p;\n    } else {\n      return pos - c.d.length;\n    }\n  }\n};\n\n// Helper method to transform a cursor position as a result of an op.\n//\n// Like transformPosition above, if c is an insert, insertAfter specifies\n// whether the cursor position is pushed after an insert (true) or before it\n// (false).\ntext.transformCursor = function(position, op, side) {\n  var insertAfter = side === 'right';\n  for (var i = 0; i < op.length; i++) {\n    position = transformPositionPresence(position, op[i], insertAfter);\n  }\n\n  return position;\n};\n\n// Transform an op component by another op component. Asymmetric.\n// The result will be appended to destination.\n//\n// exported for use in JSON type\nvar transformComponent = text._tc = function(dest, c, otherC, side) {\n  //var cIntersect, intersectEnd, intersectStart, newC, otherIntersect, s;\n\n  checkValidComponent(c);\n  checkValidComponent(otherC);\n\n  if (c.i != null) {\n    // Insert.\n    append(dest, {i:c.i, p:transformPosition(c.p, otherC, side === 'right')});\n  } else {\n    // Delete\n    if (otherC.i != null) {\n      // Delete vs insert\n      var s = c.d;\n      if (c.p < otherC.p) {\n        append(dest, {d:s.slice(0, otherC.p - c.p), p:c.p});\n        s = s.slice(otherC.p - c.p);\n      }\n      if (s !== '')\n        append(dest, {d: s, p: c.p + otherC.i.length});\n\n    } else {\n      // Delete vs delete\n      if (c.p >= otherC.p + otherC.d.length)\n        append(dest, {d: c.d, p: c.p - otherC.d.length});\n      else if (c.p + c.d.length <= otherC.p)\n        append(dest, c);\n      else {\n        // They overlap somewhere.\n        var newC = {d: '', p: c.p};\n\n        if (c.p < otherC.p)\n          newC.d = c.d.slice(0, otherC.p - c.p);\n\n        if (c.p + c.d.length > otherC.p + otherC.d.length)\n          newC.d += c.d.slice(otherC.p + otherC.d.length - c.p);\n\n        // This is entirely optional - I'm just checking the deleted text in\n        // the two ops matches\n        var intersectStart = Math.max(c.p, otherC.p);\n        var intersectEnd = Math.min(c.p + c.d.length, otherC.p + otherC.d.length);\n        var cIntersect = c.d.slice(intersectStart - c.p, intersectEnd - c.p);\n        var otherIntersect = otherC.d.slice(intersectStart - otherC.p, intersectEnd - otherC.p);\n        if (cIntersect !== otherIntersect)\n          throw new Error('Delete ops delete different text in the same region of the document');\n\n        if (newC.d !== '') {\n          newC.p = transformPosition(newC.p, otherC);\n          append(dest, newC);\n        }\n      }\n    }\n  }\n\n  return dest;\n};\n\nvar invertComponent = function(c) {\n  return (c.i != null) ? {d:c.i, p:c.p} : {i:c.d, p:c.p};\n};\n\n// No need to use append for invert, because the components won't be able to\n// cancel one another.\ntext.invert = function(op) {\n  // Shallow copy & reverse that sucka.\n  op = op.slice().reverse();\n  for (var i = 0; i < op.length; i++) {\n    op[i] = invertComponent(op[i]);\n  }\n  return op;\n};\n\ntext.createPresence = function(presenceData) {\n  return presenceData;\n};\n\n// Draws from https://github.com/Teamwork/ot-rich-text/blob/master/src/Operation.js\ntext.transformPresence = function(presence, operation, isOwnOperation) {\n  var user = presence.u;\n  var change = presence.c;\n  var selections = presence.s;\n  var side = isOwnOperation ? 'right' : 'left';\n  var newSelections = new Array(selections.length);\n\n  for (var i = 0, l = selections.length; i < l; ++i) {\n    newSelections[i] = [\n      text.transformCursor(selections[i][0], operation[0].o, side),\n      text.transformCursor(selections[i][1], operation[0].o, side)\n    ];\n  }\n\n  return {\n    u: user,\n    c: change,\n    s: newSelections\n  }\n}\n\ntext.comparePresence = function(pres1, pres2) {\n  return JSON.stringify(pres1) === JSON.stringify(pres2);\n};\n\nrequire('./bootstrapTransform')(text, transformComponent, checkValidOp, append);\n","\n/**\n * Array#filter.\n *\n * @param {Array} arr\n * @param {Function} fn\n * @param {Object=} self\n * @return {Array}\n * @throw TypeError\n */\n\nmodule.exports = function (arr, fn, self) {\n  if (arr.filter) return arr.filter(fn, self);\n  if (void 0 === arr || null === arr) throw new TypeError;\n  if ('function' != typeof fn) throw new TypeError;\n  var ret = [];\n  for (var i = 0; i < arr.length; i++) {\n    if (!hasOwn.call(arr, i)) continue;\n    var val = arr[i];\n    if (fn.call(self, val, i, arr)) ret.push(val);\n  }\n  return ret;\n};\n\nvar hasOwn = Object.prototype.hasOwnProperty;\n","// Currently in sync with Node.js lib/assert.js\n// https://github.com/nodejs/node/commit/2a51ae424a513ec9a6aa3466baa0cc1d55dd4f3b\n// Originally from narwhal.js (http://narwhaljs.org)\n// Copyright (c) 2009 Thomas Robinson <280north.com>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the 'Software'), to\n// deal in the Software without restriction, including without limitation the\n// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n// sell copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN\n// ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar _require = require('./internal/errors'),\n    _require$codes = _require.codes,\n    ERR_AMBIGUOUS_ARGUMENT = _require$codes.ERR_AMBIGUOUS_ARGUMENT,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_INVALID_ARG_VALUE = _require$codes.ERR_INVALID_ARG_VALUE,\n    ERR_INVALID_RETURN_VALUE = _require$codes.ERR_INVALID_RETURN_VALUE,\n    ERR_MISSING_ARGS = _require$codes.ERR_MISSING_ARGS;\n\nvar AssertionError = require('./internal/assert/assertion_error');\n\nvar _require2 = require('util/'),\n    inspect = _require2.inspect;\n\nvar _require$types = require('util/').types,\n    isPromise = _require$types.isPromise,\n    isRegExp = _require$types.isRegExp;\n\nvar objectAssign = Object.assign ? Object.assign : require('es6-object-assign').assign;\nvar objectIs = Object.is ? Object.is : require('object-is');\nvar errorCache = new Map();\nvar isDeepEqual;\nvar isDeepStrictEqual;\nvar parseExpressionAt;\nvar findNodeAround;\nvar decoder;\n\nfunction lazyLoadComparison() {\n  var comparison = require('./internal/util/comparisons');\n\n  isDeepEqual = comparison.isDeepEqual;\n  isDeepStrictEqual = comparison.isDeepStrictEqual;\n} // Escape control characters but not \\n and \\t to keep the line breaks and\n// indentation intact.\n// eslint-disable-next-line no-control-regex\n\n\nvar escapeSequencesRegExp = /[\\x00-\\x08\\x0b\\x0c\\x0e-\\x1f]/g;\nvar meta = [\"\\\\u0000\", \"\\\\u0001\", \"\\\\u0002\", \"\\\\u0003\", \"\\\\u0004\", \"\\\\u0005\", \"\\\\u0006\", \"\\\\u0007\", '\\\\b', '', '', \"\\\\u000b\", '\\\\f', '', \"\\\\u000e\", \"\\\\u000f\", \"\\\\u0010\", \"\\\\u0011\", \"\\\\u0012\", \"\\\\u0013\", \"\\\\u0014\", \"\\\\u0015\", \"\\\\u0016\", \"\\\\u0017\", \"\\\\u0018\", \"\\\\u0019\", \"\\\\u001a\", \"\\\\u001b\", \"\\\\u001c\", \"\\\\u001d\", \"\\\\u001e\", \"\\\\u001f\"];\n\nvar escapeFn = function escapeFn(str) {\n  return meta[str.charCodeAt(0)];\n};\n\nvar warned = false; // The assert module provides functions that throw\n// AssertionError's when particular conditions are not met. The\n// assert module must conform to the following interface.\n\nvar assert = module.exports = ok;\nvar NO_EXCEPTION_SENTINEL = {}; // All of the following functions must throw an AssertionError\n// when a corresponding condition is not met, with a message that\n// may be undefined if not provided. All assertion methods provide\n// both the actual and expected values to the assertion error for\n// display purposes.\n\nfunction innerFail(obj) {\n  if (obj.message instanceof Error) throw obj.message;\n  throw new AssertionError(obj);\n}\n\nfunction fail(actual, expected, message, operator, stackStartFn) {\n  var argsLen = arguments.length;\n  var internalMessage;\n\n  if (argsLen === 0) {\n    internalMessage = 'Failed';\n  } else if (argsLen === 1) {\n    message = actual;\n    actual = undefined;\n  } else {\n    if (warned === false) {\n      warned = true;\n      var warn = process.emitWarning ? process.emitWarning : console.warn.bind(console);\n      warn('assert.fail() with more than one argument is deprecated. ' + 'Please use assert.strictEqual() instead or only pass a message.', 'DeprecationWarning', 'DEP0094');\n    }\n\n    if (argsLen === 2) operator = '!=';\n  }\n\n  if (message instanceof Error) throw message;\n  var errArgs = {\n    actual: actual,\n    expected: expected,\n    operator: operator === undefined ? 'fail' : operator,\n    stackStartFn: stackStartFn || fail\n  };\n\n  if (message !== undefined) {\n    errArgs.message = message;\n  }\n\n  var err = new AssertionError(errArgs);\n\n  if (internalMessage) {\n    err.message = internalMessage;\n    err.generatedMessage = true;\n  }\n\n  throw err;\n}\n\nassert.fail = fail; // The AssertionError is defined in internal/error.\n\nassert.AssertionError = AssertionError;\n\nfunction innerOk(fn, argLen, value, message) {\n  if (!value) {\n    var generatedMessage = false;\n\n    if (argLen === 0) {\n      generatedMessage = true;\n      message = 'No value argument passed to `assert.ok()`';\n    } else if (message instanceof Error) {\n      throw message;\n    }\n\n    var err = new AssertionError({\n      actual: value,\n      expected: true,\n      message: message,\n      operator: '==',\n      stackStartFn: fn\n    });\n    err.generatedMessage = generatedMessage;\n    throw err;\n  }\n} // Pure assertion tests whether a value is truthy, as determined\n// by !!value.\n\n\nfunction ok() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  innerOk.apply(void 0, [ok, args.length].concat(args));\n}\n\nassert.ok = ok; // The equality assertion tests shallow, coercive equality with ==.\n\n/* eslint-disable no-restricted-properties */\n\nassert.equal = function equal(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  } // eslint-disable-next-line eqeqeq\n\n\n  if (actual != expected) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: '==',\n      stackStartFn: equal\n    });\n  }\n}; // The non-equality assertion tests for whether two objects are not\n// equal with !=.\n\n\nassert.notEqual = function notEqual(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  } // eslint-disable-next-line eqeqeq\n\n\n  if (actual == expected) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: '!=',\n      stackStartFn: notEqual\n    });\n  }\n}; // The equivalence assertion tests a deep equality relation.\n\n\nassert.deepEqual = function deepEqual(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  }\n\n  if (isDeepEqual === undefined) lazyLoadComparison();\n\n  if (!isDeepEqual(actual, expected)) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: 'deepEqual',\n      stackStartFn: deepEqual\n    });\n  }\n}; // The non-equivalence assertion tests for any deep inequality.\n\n\nassert.notDeepEqual = function notDeepEqual(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  }\n\n  if (isDeepEqual === undefined) lazyLoadComparison();\n\n  if (isDeepEqual(actual, expected)) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: 'notDeepEqual',\n      stackStartFn: notDeepEqual\n    });\n  }\n};\n/* eslint-enable */\n\n\nassert.deepStrictEqual = function deepStrictEqual(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  }\n\n  if (isDeepEqual === undefined) lazyLoadComparison();\n\n  if (!isDeepStrictEqual(actual, expected)) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: 'deepStrictEqual',\n      stackStartFn: deepStrictEqual\n    });\n  }\n};\n\nassert.notDeepStrictEqual = notDeepStrictEqual;\n\nfunction notDeepStrictEqual(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  }\n\n  if (isDeepEqual === undefined) lazyLoadComparison();\n\n  if (isDeepStrictEqual(actual, expected)) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: 'notDeepStrictEqual',\n      stackStartFn: notDeepStrictEqual\n    });\n  }\n}\n\nassert.strictEqual = function strictEqual(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  }\n\n  if (!objectIs(actual, expected)) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: 'strictEqual',\n      stackStartFn: strictEqual\n    });\n  }\n};\n\nassert.notStrictEqual = function notStrictEqual(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  }\n\n  if (objectIs(actual, expected)) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: 'notStrictEqual',\n      stackStartFn: notStrictEqual\n    });\n  }\n};\n\nvar Comparison = function Comparison(obj, keys, actual) {\n  var _this = this;\n\n  _classCallCheck(this, Comparison);\n\n  keys.forEach(function (key) {\n    if (key in obj) {\n      if (actual !== undefined && typeof actual[key] === 'string' && isRegExp(obj[key]) && obj[key].test(actual[key])) {\n        _this[key] = actual[key];\n      } else {\n        _this[key] = obj[key];\n      }\n    }\n  });\n};\n\nfunction compareExceptionKey(actual, expected, key, message, keys, fn) {\n  if (!(key in actual) || !isDeepStrictEqual(actual[key], expected[key])) {\n    if (!message) {\n      // Create placeholder objects to create a nice output.\n      var a = new Comparison(actual, keys);\n      var b = new Comparison(expected, keys, actual);\n      var err = new AssertionError({\n        actual: a,\n        expected: b,\n        operator: 'deepStrictEqual',\n        stackStartFn: fn\n      });\n      err.actual = actual;\n      err.expected = expected;\n      err.operator = fn.name;\n      throw err;\n    }\n\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: fn.name,\n      stackStartFn: fn\n    });\n  }\n}\n\nfunction expectedException(actual, expected, msg, fn) {\n  if (typeof expected !== 'function') {\n    if (isRegExp(expected)) return expected.test(actual); // assert.doesNotThrow does not accept objects.\n\n    if (arguments.length === 2) {\n      throw new ERR_INVALID_ARG_TYPE('expected', ['Function', 'RegExp'], expected);\n    } // Handle primitives properly.\n\n\n    if (_typeof(actual) !== 'object' || actual === null) {\n      var err = new AssertionError({\n        actual: actual,\n        expected: expected,\n        message: msg,\n        operator: 'deepStrictEqual',\n        stackStartFn: fn\n      });\n      err.operator = fn.name;\n      throw err;\n    }\n\n    var keys = Object.keys(expected); // Special handle errors to make sure the name and the message are compared\n    // as well.\n\n    if (expected instanceof Error) {\n      keys.push('name', 'message');\n    } else if (keys.length === 0) {\n      throw new ERR_INVALID_ARG_VALUE('error', expected, 'may not be an empty object');\n    }\n\n    if (isDeepEqual === undefined) lazyLoadComparison();\n    keys.forEach(function (key) {\n      if (typeof actual[key] === 'string' && isRegExp(expected[key]) && expected[key].test(actual[key])) {\n        return;\n      }\n\n      compareExceptionKey(actual, expected, key, msg, keys, fn);\n    });\n    return true;\n  } // Guard instanceof against arrow functions as they don't have a prototype.\n\n\n  if (expected.prototype !== undefined && actual instanceof expected) {\n    return true;\n  }\n\n  if (Error.isPrototypeOf(expected)) {\n    return false;\n  }\n\n  return expected.call({}, actual) === true;\n}\n\nfunction getActual(fn) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', 'Function', fn);\n  }\n\n  try {\n    fn();\n  } catch (e) {\n    return e;\n  }\n\n  return NO_EXCEPTION_SENTINEL;\n}\n\nfunction checkIsPromise(obj) {\n  // Accept native ES6 promises and promises that are implemented in a similar\n  // way. Do not accept thenables that use a function as `obj` and that have no\n  // `catch` handler.\n  // TODO: thenables are checked up until they have the correct methods,\n  // but according to documentation, the `then` method should receive\n  // the `fulfill` and `reject` arguments as well or it may be never resolved.\n  return isPromise(obj) || obj !== null && _typeof(obj) === 'object' && typeof obj.then === 'function' && typeof obj.catch === 'function';\n}\n\nfunction waitForActual(promiseFn) {\n  return Promise.resolve().then(function () {\n    var resultPromise;\n\n    if (typeof promiseFn === 'function') {\n      // Return a rejected promise if `promiseFn` throws synchronously.\n      resultPromise = promiseFn(); // Fail in case no promise is returned.\n\n      if (!checkIsPromise(resultPromise)) {\n        throw new ERR_INVALID_RETURN_VALUE('instance of Promise', 'promiseFn', resultPromise);\n      }\n    } else if (checkIsPromise(promiseFn)) {\n      resultPromise = promiseFn;\n    } else {\n      throw new ERR_INVALID_ARG_TYPE('promiseFn', ['Function', 'Promise'], promiseFn);\n    }\n\n    return Promise.resolve().then(function () {\n      return resultPromise;\n    }).then(function () {\n      return NO_EXCEPTION_SENTINEL;\n    }).catch(function (e) {\n      return e;\n    });\n  });\n}\n\nfunction expectsError(stackStartFn, actual, error, message) {\n  if (typeof error === 'string') {\n    if (arguments.length === 4) {\n      throw new ERR_INVALID_ARG_TYPE('error', ['Object', 'Error', 'Function', 'RegExp'], error);\n    }\n\n    if (_typeof(actual) === 'object' && actual !== null) {\n      if (actual.message === error) {\n        throw new ERR_AMBIGUOUS_ARGUMENT('error/message', \"The error message \\\"\".concat(actual.message, \"\\\" is identical to the message.\"));\n      }\n    } else if (actual === error) {\n      throw new ERR_AMBIGUOUS_ARGUMENT('error/message', \"The error \\\"\".concat(actual, \"\\\" is identical to the message.\"));\n    }\n\n    message = error;\n    error = undefined;\n  } else if (error != null && _typeof(error) !== 'object' && typeof error !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('error', ['Object', 'Error', 'Function', 'RegExp'], error);\n  }\n\n  if (actual === NO_EXCEPTION_SENTINEL) {\n    var details = '';\n\n    if (error && error.name) {\n      details += \" (\".concat(error.name, \")\");\n    }\n\n    details += message ? \": \".concat(message) : '.';\n    var fnType = stackStartFn.name === 'rejects' ? 'rejection' : 'exception';\n    innerFail({\n      actual: undefined,\n      expected: error,\n      operator: stackStartFn.name,\n      message: \"Missing expected \".concat(fnType).concat(details),\n      stackStartFn: stackStartFn\n    });\n  }\n\n  if (error && !expectedException(actual, error, message, stackStartFn)) {\n    throw actual;\n  }\n}\n\nfunction expectsNoError(stackStartFn, actual, error, message) {\n  if (actual === NO_EXCEPTION_SENTINEL) return;\n\n  if (typeof error === 'string') {\n    message = error;\n    error = undefined;\n  }\n\n  if (!error || expectedException(actual, error)) {\n    var details = message ? \": \".concat(message) : '.';\n    var fnType = stackStartFn.name === 'doesNotReject' ? 'rejection' : 'exception';\n    innerFail({\n      actual: actual,\n      expected: error,\n      operator: stackStartFn.name,\n      message: \"Got unwanted \".concat(fnType).concat(details, \"\\n\") + \"Actual message: \\\"\".concat(actual && actual.message, \"\\\"\"),\n      stackStartFn: stackStartFn\n    });\n  }\n\n  throw actual;\n}\n\nassert.throws = function throws(promiseFn) {\n  for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    args[_key2 - 1] = arguments[_key2];\n  }\n\n  expectsError.apply(void 0, [throws, getActual(promiseFn)].concat(args));\n};\n\nassert.rejects = function rejects(promiseFn) {\n  for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n    args[_key3 - 1] = arguments[_key3];\n  }\n\n  return waitForActual(promiseFn).then(function (result) {\n    return expectsError.apply(void 0, [rejects, result].concat(args));\n  });\n};\n\nassert.doesNotThrow = function doesNotThrow(fn) {\n  for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n    args[_key4 - 1] = arguments[_key4];\n  }\n\n  expectsNoError.apply(void 0, [doesNotThrow, getActual(fn)].concat(args));\n};\n\nassert.doesNotReject = function doesNotReject(fn) {\n  for (var _len5 = arguments.length, args = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n    args[_key5 - 1] = arguments[_key5];\n  }\n\n  return waitForActual(fn).then(function (result) {\n    return expectsNoError.apply(void 0, [doesNotReject, result].concat(args));\n  });\n};\n\nassert.ifError = function ifError(err) {\n  if (err !== null && err !== undefined) {\n    var message = 'ifError got unwanted exception: ';\n\n    if (_typeof(err) === 'object' && typeof err.message === 'string') {\n      if (err.message.length === 0 && err.constructor) {\n        message += err.constructor.name;\n      } else {\n        message += err.message;\n      }\n    } else {\n      message += inspect(err);\n    }\n\n    var newErr = new AssertionError({\n      actual: err,\n      expected: null,\n      operator: 'ifError',\n      message: message,\n      stackStartFn: ifError\n    }); // Make sure we actually have a stack trace!\n\n    var origStack = err.stack;\n\n    if (typeof origStack === 'string') {\n      // This will remove any duplicated frames from the error frames taken\n      // from within `ifError` and add the original error frames to the newly\n      // created ones.\n      var tmp2 = origStack.split('\\n');\n      tmp2.shift(); // Filter all frames existing in err.stack.\n\n      var tmp1 = newErr.stack.split('\\n');\n\n      for (var i = 0; i < tmp2.length; i++) {\n        // Find the first occurrence of the frame.\n        var pos = tmp1.indexOf(tmp2[i]);\n\n        if (pos !== -1) {\n          // Only keep new frames.\n          tmp1 = tmp1.slice(0, pos);\n          break;\n        }\n      }\n\n      newErr.stack = \"\".concat(tmp1.join('\\n'), \"\\n\").concat(tmp2.join('\\n'));\n    }\n\n    throw newErr;\n  }\n}; // Expose a strict only variant of assert\n\n\nfunction strict() {\n  for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n    args[_key6] = arguments[_key6];\n  }\n\n  innerOk.apply(void 0, [strict, args.length].concat(args));\n}\n\nassert.strict = objectAssign(strict, assert, {\n  equal: assert.strictEqual,\n  deepEqual: assert.deepStrictEqual,\n  notEqual: assert.notStrictEqual,\n  notDeepEqual: assert.notDeepStrictEqual\n});\nassert.strict.strict = assert.strict;","// Currently in sync with Node.js lib/internal/assert/assertion_error.js\n// https://github.com/nodejs/node/commit/0817840f775032169ddd70c85ac059f18ffcc81c\n'use strict';\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _construct(Parent, args, Class) { if (isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar _require = require('util/'),\n    inspect = _require.inspect;\n\nvar _require2 = require('../errors'),\n    ERR_INVALID_ARG_TYPE = _require2.codes.ERR_INVALID_ARG_TYPE; // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\n\n\nfunction endsWith(str, search, this_len) {\n  if (this_len === undefined || this_len > str.length) {\n    this_len = str.length;\n  }\n\n  return str.substring(this_len - search.length, this_len) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/repeat\n\n\nfunction repeat(str, count) {\n  count = Math.floor(count);\n  if (str.length == 0 || count == 0) return '';\n  var maxCount = str.length * count;\n  count = Math.floor(Math.log(count) / Math.log(2));\n\n  while (count) {\n    str += str;\n    count--;\n  }\n\n  str += str.substring(0, maxCount - str.length);\n  return str;\n}\n\nvar blue = '';\nvar green = '';\nvar red = '';\nvar white = '';\nvar kReadableOperator = {\n  deepStrictEqual: 'Expected values to be strictly deep-equal:',\n  strictEqual: 'Expected values to be strictly equal:',\n  strictEqualObject: 'Expected \"actual\" to be reference-equal to \"expected\":',\n  deepEqual: 'Expected values to be loosely deep-equal:',\n  equal: 'Expected values to be loosely equal:',\n  notDeepStrictEqual: 'Expected \"actual\" not to be strictly deep-equal to:',\n  notStrictEqual: 'Expected \"actual\" to be strictly unequal to:',\n  notStrictEqualObject: 'Expected \"actual\" not to be reference-equal to \"expected\":',\n  notDeepEqual: 'Expected \"actual\" not to be loosely deep-equal to:',\n  notEqual: 'Expected \"actual\" to be loosely unequal to:',\n  notIdentical: 'Values identical but not reference-equal:'\n}; // Comparing short primitives should just show === / !== instead of using the\n// diff.\n\nvar kMaxShortLength = 10;\n\nfunction copyError(source) {\n  var keys = Object.keys(source);\n  var target = Object.create(Object.getPrototypeOf(source));\n  keys.forEach(function (key) {\n    target[key] = source[key];\n  });\n  Object.defineProperty(target, 'message', {\n    value: source.message\n  });\n  return target;\n}\n\nfunction inspectValue(val) {\n  // The util.inspect default values could be changed. This makes sure the\n  // error messages contain the necessary information nevertheless.\n  return inspect(val, {\n    compact: false,\n    customInspect: false,\n    depth: 1000,\n    maxArrayLength: Infinity,\n    // Assert compares only enumerable properties (with a few exceptions).\n    showHidden: false,\n    // Having a long line as error is better than wrapping the line for\n    // comparison for now.\n    // TODO(BridgeAR): `breakLength` should be limited as soon as soon as we\n    // have meta information about the inspected properties (i.e., know where\n    // in what line the property starts and ends).\n    breakLength: Infinity,\n    // Assert does not detect proxies currently.\n    showProxy: false,\n    sorted: true,\n    // Inspect getters as we also check them when comparing entries.\n    getters: true\n  });\n}\n\nfunction createErrDiff(actual, expected, operator) {\n  var other = '';\n  var res = '';\n  var lastPos = 0;\n  var end = '';\n  var skipped = false;\n  var actualInspected = inspectValue(actual);\n  var actualLines = actualInspected.split('\\n');\n  var expectedLines = inspectValue(expected).split('\\n');\n  var i = 0;\n  var indicator = ''; // In case both values are objects explicitly mark them as not reference equal\n  // for the `strictEqual` operator.\n\n  if (operator === 'strictEqual' && _typeof(actual) === 'object' && _typeof(expected) === 'object' && actual !== null && expected !== null) {\n    operator = 'strictEqualObject';\n  } // If \"actual\" and \"expected\" fit on a single line and they are not strictly\n  // equal, check further special handling.\n\n\n  if (actualLines.length === 1 && expectedLines.length === 1 && actualLines[0] !== expectedLines[0]) {\n    var inputLength = actualLines[0].length + expectedLines[0].length; // If the character length of \"actual\" and \"expected\" together is less than\n    // kMaxShortLength and if neither is an object and at least one of them is\n    // not `zero`, use the strict equal comparison to visualize the output.\n\n    if (inputLength <= kMaxShortLength) {\n      if ((_typeof(actual) !== 'object' || actual === null) && (_typeof(expected) !== 'object' || expected === null) && (actual !== 0 || expected !== 0)) {\n        // -0 === +0\n        return \"\".concat(kReadableOperator[operator], \"\\n\\n\") + \"\".concat(actualLines[0], \" !== \").concat(expectedLines[0], \"\\n\");\n      }\n    } else if (operator !== 'strictEqualObject') {\n      // If the stderr is a tty and the input length is lower than the current\n      // columns per line, add a mismatch indicator below the output. If it is\n      // not a tty, use a default value of 80 characters.\n      var maxLength = process.stderr && process.stderr.isTTY ? process.stderr.columns : 80;\n\n      if (inputLength < maxLength) {\n        while (actualLines[0][i] === expectedLines[0][i]) {\n          i++;\n        } // Ignore the first characters.\n\n\n        if (i > 2) {\n          // Add position indicator for the first mismatch in case it is a\n          // single line and the input length is less than the column length.\n          indicator = \"\\n  \".concat(repeat(' ', i), \"^\");\n          i = 0;\n        }\n      }\n    }\n  } // Remove all ending lines that match (this optimizes the output for\n  // readability by reducing the number of total changed lines).\n\n\n  var a = actualLines[actualLines.length - 1];\n  var b = expectedLines[expectedLines.length - 1];\n\n  while (a === b) {\n    if (i++ < 2) {\n      end = \"\\n  \".concat(a).concat(end);\n    } else {\n      other = a;\n    }\n\n    actualLines.pop();\n    expectedLines.pop();\n    if (actualLines.length === 0 || expectedLines.length === 0) break;\n    a = actualLines[actualLines.length - 1];\n    b = expectedLines[expectedLines.length - 1];\n  }\n\n  var maxLines = Math.max(actualLines.length, expectedLines.length); // Strict equal with identical objects that are not identical by reference.\n  // E.g., assert.deepStrictEqual({ a: Symbol() }, { a: Symbol() })\n\n  if (maxLines === 0) {\n    // We have to get the result again. The lines were all removed before.\n    var _actualLines = actualInspected.split('\\n'); // Only remove lines in case it makes sense to collapse those.\n    // TODO: Accept env to always show the full error.\n\n\n    if (_actualLines.length > 30) {\n      _actualLines[26] = \"\".concat(blue, \"...\").concat(white);\n\n      while (_actualLines.length > 27) {\n        _actualLines.pop();\n      }\n    }\n\n    return \"\".concat(kReadableOperator.notIdentical, \"\\n\\n\").concat(_actualLines.join('\\n'), \"\\n\");\n  }\n\n  if (i > 3) {\n    end = \"\\n\".concat(blue, \"...\").concat(white).concat(end);\n    skipped = true;\n  }\n\n  if (other !== '') {\n    end = \"\\n  \".concat(other).concat(end);\n    other = '';\n  }\n\n  var printedLines = 0;\n  var msg = kReadableOperator[operator] + \"\\n\".concat(green, \"+ actual\").concat(white, \" \").concat(red, \"- expected\").concat(white);\n  var skippedMsg = \" \".concat(blue, \"...\").concat(white, \" Lines skipped\");\n\n  for (i = 0; i < maxLines; i++) {\n    // Only extra expected lines exist\n    var cur = i - lastPos;\n\n    if (actualLines.length < i + 1) {\n      // If the last diverging line is more than one line above and the\n      // current line is at least line three, add some of the former lines and\n      // also add dots to indicate skipped entries.\n      if (cur > 1 && i > 2) {\n        if (cur > 4) {\n          res += \"\\n\".concat(blue, \"...\").concat(white);\n          skipped = true;\n        } else if (cur > 3) {\n          res += \"\\n  \".concat(expectedLines[i - 2]);\n          printedLines++;\n        }\n\n        res += \"\\n  \".concat(expectedLines[i - 1]);\n        printedLines++;\n      } // Mark the current line as the last diverging one.\n\n\n      lastPos = i; // Add the expected line to the cache.\n\n      other += \"\\n\".concat(red, \"-\").concat(white, \" \").concat(expectedLines[i]);\n      printedLines++; // Only extra actual lines exist\n    } else if (expectedLines.length < i + 1) {\n      // If the last diverging line is more than one line above and the\n      // current line is at least line three, add some of the former lines and\n      // also add dots to indicate skipped entries.\n      if (cur > 1 && i > 2) {\n        if (cur > 4) {\n          res += \"\\n\".concat(blue, \"...\").concat(white);\n          skipped = true;\n        } else if (cur > 3) {\n          res += \"\\n  \".concat(actualLines[i - 2]);\n          printedLines++;\n        }\n\n        res += \"\\n  \".concat(actualLines[i - 1]);\n        printedLines++;\n      } // Mark the current line as the last diverging one.\n\n\n      lastPos = i; // Add the actual line to the result.\n\n      res += \"\\n\".concat(green, \"+\").concat(white, \" \").concat(actualLines[i]);\n      printedLines++; // Lines diverge\n    } else {\n      var expectedLine = expectedLines[i];\n      var actualLine = actualLines[i]; // If the lines diverge, specifically check for lines that only diverge by\n      // a trailing comma. In that case it is actually identical and we should\n      // mark it as such.\n\n      var divergingLines = actualLine !== expectedLine && (!endsWith(actualLine, ',') || actualLine.slice(0, -1) !== expectedLine); // If the expected line has a trailing comma but is otherwise identical,\n      // add a comma at the end of the actual line. Otherwise the output could\n      // look weird as in:\n      //\n      //   [\n      //     1         // No comma at the end!\n      // +   2\n      //   ]\n      //\n\n      if (divergingLines && endsWith(expectedLine, ',') && expectedLine.slice(0, -1) === actualLine) {\n        divergingLines = false;\n        actualLine += ',';\n      }\n\n      if (divergingLines) {\n        // If the last diverging line is more than one line above and the\n        // current line is at least line three, add some of the former lines and\n        // also add dots to indicate skipped entries.\n        if (cur > 1 && i > 2) {\n          if (cur > 4) {\n            res += \"\\n\".concat(blue, \"...\").concat(white);\n            skipped = true;\n          } else if (cur > 3) {\n            res += \"\\n  \".concat(actualLines[i - 2]);\n            printedLines++;\n          }\n\n          res += \"\\n  \".concat(actualLines[i - 1]);\n          printedLines++;\n        } // Mark the current line as the last diverging one.\n\n\n        lastPos = i; // Add the actual line to the result and cache the expected diverging\n        // line so consecutive diverging lines show up as +++--- and not +-+-+-.\n\n        res += \"\\n\".concat(green, \"+\").concat(white, \" \").concat(actualLine);\n        other += \"\\n\".concat(red, \"-\").concat(white, \" \").concat(expectedLine);\n        printedLines += 2; // Lines are identical\n      } else {\n        // Add all cached information to the result before adding other things\n        // and reset the cache.\n        res += other;\n        other = ''; // If the last diverging line is exactly one line above or if it is the\n        // very first line, add the line to the result.\n\n        if (cur === 1 || i === 0) {\n          res += \"\\n  \".concat(actualLine);\n          printedLines++;\n        }\n      }\n    } // Inspected object to big (Show ~20 rows max)\n\n\n    if (printedLines > 20 && i < maxLines - 2) {\n      return \"\".concat(msg).concat(skippedMsg, \"\\n\").concat(res, \"\\n\").concat(blue, \"...\").concat(white).concat(other, \"\\n\") + \"\".concat(blue, \"...\").concat(white);\n    }\n  }\n\n  return \"\".concat(msg).concat(skipped ? skippedMsg : '', \"\\n\").concat(res).concat(other).concat(end).concat(indicator);\n}\n\nvar AssertionError =\n/*#__PURE__*/\nfunction (_Error) {\n  _inherits(AssertionError, _Error);\n\n  function AssertionError(options) {\n    var _this;\n\n    _classCallCheck(this, AssertionError);\n\n    if (_typeof(options) !== 'object' || options === null) {\n      throw new ERR_INVALID_ARG_TYPE('options', 'Object', options);\n    }\n\n    var message = options.message,\n        operator = options.operator,\n        stackStartFn = options.stackStartFn;\n    var actual = options.actual,\n        expected = options.expected;\n    var limit = Error.stackTraceLimit;\n    Error.stackTraceLimit = 0;\n\n    if (message != null) {\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(AssertionError).call(this, String(message)));\n    } else {\n      if (process.stderr && process.stderr.isTTY) {\n        // Reset on each call to make sure we handle dynamically set environment\n        // variables correct.\n        if (process.stderr && process.stderr.getColorDepth && process.stderr.getColorDepth() !== 1) {\n          blue = \"\\x1B[34m\";\n          green = \"\\x1B[32m\";\n          white = \"\\x1B[39m\";\n          red = \"\\x1B[31m\";\n        } else {\n          blue = '';\n          green = '';\n          white = '';\n          red = '';\n        }\n      } // Prevent the error stack from being visible by duplicating the error\n      // in a very close way to the original in case both sides are actually\n      // instances of Error.\n\n\n      if (_typeof(actual) === 'object' && actual !== null && _typeof(expected) === 'object' && expected !== null && 'stack' in actual && actual instanceof Error && 'stack' in expected && expected instanceof Error) {\n        actual = copyError(actual);\n        expected = copyError(expected);\n      }\n\n      if (operator === 'deepStrictEqual' || operator === 'strictEqual') {\n        _this = _possibleConstructorReturn(this, _getPrototypeOf(AssertionError).call(this, createErrDiff(actual, expected, operator)));\n      } else if (operator === 'notDeepStrictEqual' || operator === 'notStrictEqual') {\n        // In case the objects are equal but the operator requires unequal, show\n        // the first object and say A equals B\n        var base = kReadableOperator[operator];\n        var res = inspectValue(actual).split('\\n'); // In case \"actual\" is an object, it should not be reference equal.\n\n        if (operator === 'notStrictEqual' && _typeof(actual) === 'object' && actual !== null) {\n          base = kReadableOperator.notStrictEqualObject;\n        } // Only remove lines in case it makes sense to collapse those.\n        // TODO: Accept env to always show the full error.\n\n\n        if (res.length > 30) {\n          res[26] = \"\".concat(blue, \"...\").concat(white);\n\n          while (res.length > 27) {\n            res.pop();\n          }\n        } // Only print a single input.\n\n\n        if (res.length === 1) {\n          _this = _possibleConstructorReturn(this, _getPrototypeOf(AssertionError).call(this, \"\".concat(base, \" \").concat(res[0])));\n        } else {\n          _this = _possibleConstructorReturn(this, _getPrototypeOf(AssertionError).call(this, \"\".concat(base, \"\\n\\n\").concat(res.join('\\n'), \"\\n\")));\n        }\n      } else {\n        var _res = inspectValue(actual);\n\n        var other = '';\n        var knownOperators = kReadableOperator[operator];\n\n        if (operator === 'notDeepEqual' || operator === 'notEqual') {\n          _res = \"\".concat(kReadableOperator[operator], \"\\n\\n\").concat(_res);\n\n          if (_res.length > 1024) {\n            _res = \"\".concat(_res.slice(0, 1021), \"...\");\n          }\n        } else {\n          other = \"\".concat(inspectValue(expected));\n\n          if (_res.length > 512) {\n            _res = \"\".concat(_res.slice(0, 509), \"...\");\n          }\n\n          if (other.length > 512) {\n            other = \"\".concat(other.slice(0, 509), \"...\");\n          }\n\n          if (operator === 'deepEqual' || operator === 'equal') {\n            _res = \"\".concat(knownOperators, \"\\n\\n\").concat(_res, \"\\n\\nshould equal\\n\\n\");\n          } else {\n            other = \" \".concat(operator, \" \").concat(other);\n          }\n        }\n\n        _this = _possibleConstructorReturn(this, _getPrototypeOf(AssertionError).call(this, \"\".concat(_res).concat(other)));\n      }\n    }\n\n    Error.stackTraceLimit = limit;\n    _this.generatedMessage = !message;\n    Object.defineProperty(_assertThisInitialized(_this), 'name', {\n      value: 'AssertionError [ERR_ASSERTION]',\n      enumerable: false,\n      writable: true,\n      configurable: true\n    });\n    _this.code = 'ERR_ASSERTION';\n    _this.actual = actual;\n    _this.expected = expected;\n    _this.operator = operator;\n\n    if (Error.captureStackTrace) {\n      // eslint-disable-next-line no-restricted-syntax\n      Error.captureStackTrace(_assertThisInitialized(_this), stackStartFn);\n    } // Create error message including the error code in the name.\n\n\n    _this.stack; // Reset the name.\n\n    _this.name = 'AssertionError';\n    return _possibleConstructorReturn(_this);\n  }\n\n  _createClass(AssertionError, [{\n    key: \"toString\",\n    value: function toString() {\n      return \"\".concat(this.name, \" [\").concat(this.code, \"]: \").concat(this.message);\n    }\n  }, {\n    key: inspect.custom,\n    value: function value(recurseTimes, ctx) {\n      // This limits the `actual` and `expected` property default inspection to\n      // the minimum depth. Otherwise those values would be too verbose compared\n      // to the actual error message which contains a combined view of these two\n      // input values.\n      return inspect(this, _objectSpread({}, ctx, {\n        customInspect: false,\n        depth: 0\n      }));\n    }\n  }]);\n\n  return AssertionError;\n}(_wrapNativeSuper(Error));\n\nmodule.exports = AssertionError;","// Currently in sync with Node.js lib/internal/errors.js\n// https://github.com/nodejs/node/commit/3b044962c48fe313905877a96b5d0894a5404f6f\n\n/* eslint node-core/documented-errors: \"error\" */\n\n/* eslint node-core/alphabetize-errors: \"error\" */\n\n/* eslint node-core/prefer-util-format-errors: \"error\" */\n'use strict'; // The whole point behind this internal module is to allow Node.js to no\n// longer be forced to treat every error message change as a semver-major\n// change. The NodeError classes here all expose a `code` property whose\n// value statically and permanently identifies the error. While the error\n// message may change, the code should not.\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar codes = {}; // Lazy loaded\n\nvar assert;\nvar util;\n\nfunction createErrorType(code, message, Base) {\n  if (!Base) {\n    Base = Error;\n  }\n\n  function getMessage(arg1, arg2, arg3) {\n    if (typeof message === 'string') {\n      return message;\n    } else {\n      return message(arg1, arg2, arg3);\n    }\n  }\n\n  var NodeError =\n  /*#__PURE__*/\n  function (_Base) {\n    _inherits(NodeError, _Base);\n\n    function NodeError(arg1, arg2, arg3) {\n      var _this;\n\n      _classCallCheck(this, NodeError);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(NodeError).call(this, getMessage(arg1, arg2, arg3)));\n      _this.code = code;\n      return _this;\n    }\n\n    return NodeError;\n  }(Base);\n\n  codes[code] = NodeError;\n} // https://github.com/nodejs/node/blob/v10.8.0/lib/internal/errors.js\n\n\nfunction oneOf(expected, thing) {\n  if (Array.isArray(expected)) {\n    var len = expected.length;\n    expected = expected.map(function (i) {\n      return String(i);\n    });\n\n    if (len > 2) {\n      return \"one of \".concat(thing, \" \").concat(expected.slice(0, len - 1).join(', '), \", or \") + expected[len - 1];\n    } else if (len === 2) {\n      return \"one of \".concat(thing, \" \").concat(expected[0], \" or \").concat(expected[1]);\n    } else {\n      return \"of \".concat(thing, \" \").concat(expected[0]);\n    }\n  } else {\n    return \"of \".concat(thing, \" \").concat(String(expected));\n  }\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\n\n\nfunction startsWith(str, search, pos) {\n  return str.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\n\n\nfunction endsWith(str, search, this_len) {\n  if (this_len === undefined || this_len > str.length) {\n    this_len = str.length;\n  }\n\n  return str.substring(this_len - search.length, this_len) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes\n\n\nfunction includes(str, search, start) {\n  if (typeof start !== 'number') {\n    start = 0;\n  }\n\n  if (start + search.length > str.length) {\n    return false;\n  } else {\n    return str.indexOf(search, start) !== -1;\n  }\n}\n\ncreateErrorType('ERR_AMBIGUOUS_ARGUMENT', 'The \"%s\" argument is ambiguous. %s', TypeError);\ncreateErrorType('ERR_INVALID_ARG_TYPE', function (name, expected, actual) {\n  if (assert === undefined) assert = require('../assert');\n  assert(typeof name === 'string', \"'name' must be a string\"); // determiner: 'must be' or 'must not be'\n\n  var determiner;\n\n  if (typeof expected === 'string' && startsWith(expected, 'not ')) {\n    determiner = 'must not be';\n    expected = expected.replace(/^not /, '');\n  } else {\n    determiner = 'must be';\n  }\n\n  var msg;\n\n  if (endsWith(name, ' argument')) {\n    // For cases like 'first argument'\n    msg = \"The \".concat(name, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  } else {\n    var type = includes(name, '.') ? 'property' : 'argument';\n    msg = \"The \\\"\".concat(name, \"\\\" \").concat(type, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  } // TODO(BridgeAR): Improve the output by showing `null` and similar.\n\n\n  msg += \". Received type \".concat(_typeof(actual));\n  return msg;\n}, TypeError);\ncreateErrorType('ERR_INVALID_ARG_VALUE', function (name, value) {\n  var reason = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'is invalid';\n  if (util === undefined) util = require('util/');\n  var inspected = util.inspect(value);\n\n  if (inspected.length > 128) {\n    inspected = \"\".concat(inspected.slice(0, 128), \"...\");\n  }\n\n  return \"The argument '\".concat(name, \"' \").concat(reason, \". Received \").concat(inspected);\n}, TypeError, RangeError);\ncreateErrorType('ERR_INVALID_RETURN_VALUE', function (input, name, value) {\n  var type;\n\n  if (value && value.constructor && value.constructor.name) {\n    type = \"instance of \".concat(value.constructor.name);\n  } else {\n    type = \"type \".concat(_typeof(value));\n  }\n\n  return \"Expected \".concat(input, \" to be returned from the \\\"\").concat(name, \"\\\"\") + \" function but got \".concat(type, \".\");\n}, TypeError);\ncreateErrorType('ERR_MISSING_ARGS', function () {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  if (assert === undefined) assert = require('../assert');\n  assert(args.length > 0, 'At least one arg needs to be specified');\n  var msg = 'The ';\n  var len = args.length;\n  args = args.map(function (a) {\n    return \"\\\"\".concat(a, \"\\\"\");\n  });\n\n  switch (len) {\n    case 1:\n      msg += \"\".concat(args[0], \" argument\");\n      break;\n\n    case 2:\n      msg += \"\".concat(args[0], \" and \").concat(args[1], \" arguments\");\n      break;\n\n    default:\n      msg += args.slice(0, len - 1).join(', ');\n      msg += \", and \".concat(args[len - 1], \" arguments\");\n      break;\n  }\n\n  return \"\".concat(msg, \" must be specified\");\n}, TypeError);\nmodule.exports.codes = codes;","// Currently in sync with Node.js lib/internal/util/comparisons.js\n// https://github.com/nodejs/node/commit/112cc7c27551254aa2b17098fb774867f05ed0d9\n'use strict';\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar regexFlagsSupported = /a/g.flags !== undefined;\n\nvar arrayFromSet = function arrayFromSet(set) {\n  var array = [];\n  set.forEach(function (value) {\n    return array.push(value);\n  });\n  return array;\n};\n\nvar arrayFromMap = function arrayFromMap(map) {\n  var array = [];\n  map.forEach(function (value, key) {\n    return array.push([key, value]);\n  });\n  return array;\n};\n\nvar objectIs = Object.is ? Object.is : require('object-is');\nvar objectGetOwnPropertySymbols = Object.getOwnPropertySymbols ? Object.getOwnPropertySymbols : function () {\n  return [];\n};\nvar numberIsNaN = Number.isNaN ? Number.isNaN : require('is-nan');\n\nfunction uncurryThis(f) {\n  return f.call.bind(f);\n}\n\nvar hasOwnProperty = uncurryThis(Object.prototype.hasOwnProperty);\nvar propertyIsEnumerable = uncurryThis(Object.prototype.propertyIsEnumerable);\nvar objectToString = uncurryThis(Object.prototype.toString);\n\nvar _require$types = require('util/').types,\n    isAnyArrayBuffer = _require$types.isAnyArrayBuffer,\n    isArrayBufferView = _require$types.isArrayBufferView,\n    isDate = _require$types.isDate,\n    isMap = _require$types.isMap,\n    isRegExp = _require$types.isRegExp,\n    isSet = _require$types.isSet,\n    isNativeError = _require$types.isNativeError,\n    isBoxedPrimitive = _require$types.isBoxedPrimitive,\n    isNumberObject = _require$types.isNumberObject,\n    isStringObject = _require$types.isStringObject,\n    isBooleanObject = _require$types.isBooleanObject,\n    isBigIntObject = _require$types.isBigIntObject,\n    isSymbolObject = _require$types.isSymbolObject,\n    isFloat32Array = _require$types.isFloat32Array,\n    isFloat64Array = _require$types.isFloat64Array;\n\nfunction isNonIndex(key) {\n  if (key.length === 0 || key.length > 10) return true;\n\n  for (var i = 0; i < key.length; i++) {\n    var code = key.charCodeAt(i);\n    if (code < 48 || code > 57) return true;\n  } // The maximum size for an array is 2 ** 32 -1.\n\n\n  return key.length === 10 && key >= Math.pow(2, 32);\n}\n\nfunction getOwnNonIndexProperties(value) {\n  return Object.keys(value).filter(isNonIndex).concat(objectGetOwnPropertySymbols(value).filter(Object.prototype.propertyIsEnumerable.bind(value)));\n} // Taken from https://github.com/feross/buffer/blob/680e9e5e488f22aac27599a57dc844a6315928dd/index.js\n// original notice:\n\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n\n\nfunction compare(a, b) {\n  if (a === b) {\n    return 0;\n  }\n\n  var x = a.length;\n  var y = b.length;\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i];\n      y = b[i];\n      break;\n    }\n  }\n\n  if (x < y) {\n    return -1;\n  }\n\n  if (y < x) {\n    return 1;\n  }\n\n  return 0;\n}\n\nvar ONLY_ENUMERABLE = undefined;\nvar kStrict = true;\nvar kLoose = false;\nvar kNoIterator = 0;\nvar kIsArray = 1;\nvar kIsSet = 2;\nvar kIsMap = 3; // Check if they have the same source and flags\n\nfunction areSimilarRegExps(a, b) {\n  return regexFlagsSupported ? a.source === b.source && a.flags === b.flags : RegExp.prototype.toString.call(a) === RegExp.prototype.toString.call(b);\n}\n\nfunction areSimilarFloatArrays(a, b) {\n  if (a.byteLength !== b.byteLength) {\n    return false;\n  }\n\n  for (var offset = 0; offset < a.byteLength; offset++) {\n    if (a[offset] !== b[offset]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction areSimilarTypedArrays(a, b) {\n  if (a.byteLength !== b.byteLength) {\n    return false;\n  }\n\n  return compare(new Uint8Array(a.buffer, a.byteOffset, a.byteLength), new Uint8Array(b.buffer, b.byteOffset, b.byteLength)) === 0;\n}\n\nfunction areEqualArrayBuffers(buf1, buf2) {\n  return buf1.byteLength === buf2.byteLength && compare(new Uint8Array(buf1), new Uint8Array(buf2)) === 0;\n}\n\nfunction isEqualBoxedPrimitive(val1, val2) {\n  if (isNumberObject(val1)) {\n    return isNumberObject(val2) && objectIs(Number.prototype.valueOf.call(val1), Number.prototype.valueOf.call(val2));\n  }\n\n  if (isStringObject(val1)) {\n    return isStringObject(val2) && String.prototype.valueOf.call(val1) === String.prototype.valueOf.call(val2);\n  }\n\n  if (isBooleanObject(val1)) {\n    return isBooleanObject(val2) && Boolean.prototype.valueOf.call(val1) === Boolean.prototype.valueOf.call(val2);\n  }\n\n  if (isBigIntObject(val1)) {\n    return isBigIntObject(val2) && BigInt.prototype.valueOf.call(val1) === BigInt.prototype.valueOf.call(val2);\n  }\n\n  return isSymbolObject(val2) && Symbol.prototype.valueOf.call(val1) === Symbol.prototype.valueOf.call(val2);\n} // Notes: Type tags are historical [[Class]] properties that can be set by\n// FunctionTemplate::SetClassName() in C++ or Symbol.toStringTag in JS\n// and retrieved using Object.prototype.toString.call(obj) in JS\n// See https://tc39.github.io/ecma262/#sec-object.prototype.tostring\n// for a list of tags pre-defined in the spec.\n// There are some unspecified tags in the wild too (e.g. typed array tags).\n// Since tags can be altered, they only serve fast failures\n//\n// Typed arrays and buffers are checked by comparing the content in their\n// underlying ArrayBuffer. This optimization requires that it's\n// reasonable to interpret their underlying memory in the same way,\n// which is checked by comparing their type tags.\n// (e.g. a Uint8Array and a Uint16Array with the same memory content\n// could still be different because they will be interpreted differently).\n//\n// For strict comparison, objects should have\n// a) The same built-in type tags\n// b) The same prototypes.\n\n\nfunction innerDeepEqual(val1, val2, strict, memos) {\n  // All identical values are equivalent, as determined by ===.\n  if (val1 === val2) {\n    if (val1 !== 0) return true;\n    return strict ? objectIs(val1, val2) : true;\n  } // Check more closely if val1 and val2 are equal.\n\n\n  if (strict) {\n    if (_typeof(val1) !== 'object') {\n      return typeof val1 === 'number' && numberIsNaN(val1) && numberIsNaN(val2);\n    }\n\n    if (_typeof(val2) !== 'object' || val1 === null || val2 === null) {\n      return false;\n    }\n\n    if (Object.getPrototypeOf(val1) !== Object.getPrototypeOf(val2)) {\n      return false;\n    }\n  } else {\n    if (val1 === null || _typeof(val1) !== 'object') {\n      if (val2 === null || _typeof(val2) !== 'object') {\n        // eslint-disable-next-line eqeqeq\n        return val1 == val2;\n      }\n\n      return false;\n    }\n\n    if (val2 === null || _typeof(val2) !== 'object') {\n      return false;\n    }\n  }\n\n  var val1Tag = objectToString(val1);\n  var val2Tag = objectToString(val2);\n\n  if (val1Tag !== val2Tag) {\n    return false;\n  }\n\n  if (Array.isArray(val1)) {\n    // Check for sparse arrays and general fast path\n    if (val1.length !== val2.length) {\n      return false;\n    }\n\n    var keys1 = getOwnNonIndexProperties(val1, ONLY_ENUMERABLE);\n    var keys2 = getOwnNonIndexProperties(val2, ONLY_ENUMERABLE);\n\n    if (keys1.length !== keys2.length) {\n      return false;\n    }\n\n    return keyCheck(val1, val2, strict, memos, kIsArray, keys1);\n  } // [browserify] This triggers on certain types in IE (Map/Set) so we don't\n  // wan't to early return out of the rest of the checks. However we can check\n  // if the second value is one of these values and the first isn't.\n\n\n  if (val1Tag === '[object Object]') {\n    // return keyCheck(val1, val2, strict, memos, kNoIterator);\n    if (!isMap(val1) && isMap(val2) || !isSet(val1) && isSet(val2)) {\n      return false;\n    }\n  }\n\n  if (isDate(val1)) {\n    if (!isDate(val2) || Date.prototype.getTime.call(val1) !== Date.prototype.getTime.call(val2)) {\n      return false;\n    }\n  } else if (isRegExp(val1)) {\n    if (!isRegExp(val2) || !areSimilarRegExps(val1, val2)) {\n      return false;\n    }\n  } else if (isNativeError(val1) || val1 instanceof Error) {\n    // Do not compare the stack as it might differ even though the error itself\n    // is otherwise identical.\n    if (val1.message !== val2.message || val1.name !== val2.name) {\n      return false;\n    }\n  } else if (isArrayBufferView(val1)) {\n    if (!strict && (isFloat32Array(val1) || isFloat64Array(val1))) {\n      if (!areSimilarFloatArrays(val1, val2)) {\n        return false;\n      }\n    } else if (!areSimilarTypedArrays(val1, val2)) {\n      return false;\n    } // Buffer.compare returns true, so val1.length === val2.length. If they both\n    // only contain numeric keys, we don't need to exam further than checking\n    // the symbols.\n\n\n    var _keys = getOwnNonIndexProperties(val1, ONLY_ENUMERABLE);\n\n    var _keys2 = getOwnNonIndexProperties(val2, ONLY_ENUMERABLE);\n\n    if (_keys.length !== _keys2.length) {\n      return false;\n    }\n\n    return keyCheck(val1, val2, strict, memos, kNoIterator, _keys);\n  } else if (isSet(val1)) {\n    if (!isSet(val2) || val1.size !== val2.size) {\n      return false;\n    }\n\n    return keyCheck(val1, val2, strict, memos, kIsSet);\n  } else if (isMap(val1)) {\n    if (!isMap(val2) || val1.size !== val2.size) {\n      return false;\n    }\n\n    return keyCheck(val1, val2, strict, memos, kIsMap);\n  } else if (isAnyArrayBuffer(val1)) {\n    if (!areEqualArrayBuffers(val1, val2)) {\n      return false;\n    }\n  } else if (isBoxedPrimitive(val1) && !isEqualBoxedPrimitive(val1, val2)) {\n    return false;\n  }\n\n  return keyCheck(val1, val2, strict, memos, kNoIterator);\n}\n\nfunction getEnumerables(val, keys) {\n  return keys.filter(function (k) {\n    return propertyIsEnumerable(val, k);\n  });\n}\n\nfunction keyCheck(val1, val2, strict, memos, iterationType, aKeys) {\n  // For all remaining Object pairs, including Array, objects and Maps,\n  // equivalence is determined by having:\n  // a) The same number of owned enumerable properties\n  // b) The same set of keys/indexes (although not necessarily the same order)\n  // c) Equivalent values for every corresponding key/index\n  // d) For Sets and Maps, equal contents\n  // Note: this accounts for both named and indexed properties on Arrays.\n  if (arguments.length === 5) {\n    aKeys = Object.keys(val1);\n    var bKeys = Object.keys(val2); // The pair must have the same number of owned properties.\n\n    if (aKeys.length !== bKeys.length) {\n      return false;\n    }\n  } // Cheap key test\n\n\n  var i = 0;\n\n  for (; i < aKeys.length; i++) {\n    if (!hasOwnProperty(val2, aKeys[i])) {\n      return false;\n    }\n  }\n\n  if (strict && arguments.length === 5) {\n    var symbolKeysA = objectGetOwnPropertySymbols(val1);\n\n    if (symbolKeysA.length !== 0) {\n      var count = 0;\n\n      for (i = 0; i < symbolKeysA.length; i++) {\n        var key = symbolKeysA[i];\n\n        if (propertyIsEnumerable(val1, key)) {\n          if (!propertyIsEnumerable(val2, key)) {\n            return false;\n          }\n\n          aKeys.push(key);\n          count++;\n        } else if (propertyIsEnumerable(val2, key)) {\n          return false;\n        }\n      }\n\n      var symbolKeysB = objectGetOwnPropertySymbols(val2);\n\n      if (symbolKeysA.length !== symbolKeysB.length && getEnumerables(val2, symbolKeysB).length !== count) {\n        return false;\n      }\n    } else {\n      var _symbolKeysB = objectGetOwnPropertySymbols(val2);\n\n      if (_symbolKeysB.length !== 0 && getEnumerables(val2, _symbolKeysB).length !== 0) {\n        return false;\n      }\n    }\n  }\n\n  if (aKeys.length === 0 && (iterationType === kNoIterator || iterationType === kIsArray && val1.length === 0 || val1.size === 0)) {\n    return true;\n  } // Use memos to handle cycles.\n\n\n  if (memos === undefined) {\n    memos = {\n      val1: new Map(),\n      val2: new Map(),\n      position: 0\n    };\n  } else {\n    // We prevent up to two map.has(x) calls by directly retrieving the value\n    // and checking for undefined. The map can only contain numbers, so it is\n    // safe to check for undefined only.\n    var val2MemoA = memos.val1.get(val1);\n\n    if (val2MemoA !== undefined) {\n      var val2MemoB = memos.val2.get(val2);\n\n      if (val2MemoB !== undefined) {\n        return val2MemoA === val2MemoB;\n      }\n    }\n\n    memos.position++;\n  }\n\n  memos.val1.set(val1, memos.position);\n  memos.val2.set(val2, memos.position);\n  var areEq = objEquiv(val1, val2, strict, aKeys, memos, iterationType);\n  memos.val1.delete(val1);\n  memos.val2.delete(val2);\n  return areEq;\n}\n\nfunction setHasEqualElement(set, val1, strict, memo) {\n  // Go looking.\n  var setValues = arrayFromSet(set);\n\n  for (var i = 0; i < setValues.length; i++) {\n    var val2 = setValues[i];\n\n    if (innerDeepEqual(val1, val2, strict, memo)) {\n      // Remove the matching element to make sure we do not check that again.\n      set.delete(val2);\n      return true;\n    }\n  }\n\n  return false;\n} // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Equality_comparisons_and_sameness#Loose_equality_using\n// Sadly it is not possible to detect corresponding values properly in case the\n// type is a string, number, bigint or boolean. The reason is that those values\n// can match lots of different string values (e.g., 1n == '+00001').\n\n\nfunction findLooseMatchingPrimitives(prim) {\n  switch (_typeof(prim)) {\n    case 'undefined':\n      return null;\n\n    case 'object':\n      // Only pass in null as object!\n      return undefined;\n\n    case 'symbol':\n      return false;\n\n    case 'string':\n      prim = +prim;\n    // Loose equal entries exist only if the string is possible to convert to\n    // a regular number and not NaN.\n    // Fall through\n\n    case 'number':\n      if (numberIsNaN(prim)) {\n        return false;\n      }\n\n  }\n\n  return true;\n}\n\nfunction setMightHaveLoosePrim(a, b, prim) {\n  var altValue = findLooseMatchingPrimitives(prim);\n  if (altValue != null) return altValue;\n  return b.has(altValue) && !a.has(altValue);\n}\n\nfunction mapMightHaveLoosePrim(a, b, prim, item, memo) {\n  var altValue = findLooseMatchingPrimitives(prim);\n\n  if (altValue != null) {\n    return altValue;\n  }\n\n  var curB = b.get(altValue);\n\n  if (curB === undefined && !b.has(altValue) || !innerDeepEqual(item, curB, false, memo)) {\n    return false;\n  }\n\n  return !a.has(altValue) && innerDeepEqual(item, curB, false, memo);\n}\n\nfunction setEquiv(a, b, strict, memo) {\n  // This is a lazily initiated Set of entries which have to be compared\n  // pairwise.\n  var set = null;\n  var aValues = arrayFromSet(a);\n\n  for (var i = 0; i < aValues.length; i++) {\n    var val = aValues[i]; // Note: Checking for the objects first improves the performance for object\n    // heavy sets but it is a minor slow down for primitives. As they are fast\n    // to check this improves the worst case scenario instead.\n\n    if (_typeof(val) === 'object' && val !== null) {\n      if (set === null) {\n        set = new Set();\n      } // If the specified value doesn't exist in the second set its an not null\n      // object (or non strict only: a not matching primitive) we'll need to go\n      // hunting for something thats deep-(strict-)equal to it. To make this\n      // O(n log n) complexity we have to copy these values in a new set first.\n\n\n      set.add(val);\n    } else if (!b.has(val)) {\n      if (strict) return false; // Fast path to detect missing string, symbol, undefined and null values.\n\n      if (!setMightHaveLoosePrim(a, b, val)) {\n        return false;\n      }\n\n      if (set === null) {\n        set = new Set();\n      }\n\n      set.add(val);\n    }\n  }\n\n  if (set !== null) {\n    var bValues = arrayFromSet(b);\n\n    for (var _i = 0; _i < bValues.length; _i++) {\n      var _val = bValues[_i]; // We have to check if a primitive value is already\n      // matching and only if it's not, go hunting for it.\n\n      if (_typeof(_val) === 'object' && _val !== null) {\n        if (!setHasEqualElement(set, _val, strict, memo)) return false;\n      } else if (!strict && !a.has(_val) && !setHasEqualElement(set, _val, strict, memo)) {\n        return false;\n      }\n    }\n\n    return set.size === 0;\n  }\n\n  return true;\n}\n\nfunction mapHasEqualEntry(set, map, key1, item1, strict, memo) {\n  // To be able to handle cases like:\n  //   Map([[{}, 'a'], [{}, 'b']]) vs Map([[{}, 'b'], [{}, 'a']])\n  // ... we need to consider *all* matching keys, not just the first we find.\n  var setValues = arrayFromSet(set);\n\n  for (var i = 0; i < setValues.length; i++) {\n    var key2 = setValues[i];\n\n    if (innerDeepEqual(key1, key2, strict, memo) && innerDeepEqual(item1, map.get(key2), strict, memo)) {\n      set.delete(key2);\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction mapEquiv(a, b, strict, memo) {\n  var set = null;\n  var aEntries = arrayFromMap(a);\n\n  for (var i = 0; i < aEntries.length; i++) {\n    var _aEntries$i = _slicedToArray(aEntries[i], 2),\n        key = _aEntries$i[0],\n        item1 = _aEntries$i[1];\n\n    if (_typeof(key) === 'object' && key !== null) {\n      if (set === null) {\n        set = new Set();\n      }\n\n      set.add(key);\n    } else {\n      // By directly retrieving the value we prevent another b.has(key) check in\n      // almost all possible cases.\n      var item2 = b.get(key);\n\n      if (item2 === undefined && !b.has(key) || !innerDeepEqual(item1, item2, strict, memo)) {\n        if (strict) return false; // Fast path to detect missing string, symbol, undefined and null\n        // keys.\n\n        if (!mapMightHaveLoosePrim(a, b, key, item1, memo)) return false;\n\n        if (set === null) {\n          set = new Set();\n        }\n\n        set.add(key);\n      }\n    }\n  }\n\n  if (set !== null) {\n    var bEntries = arrayFromMap(b);\n\n    for (var _i2 = 0; _i2 < bEntries.length; _i2++) {\n      var _bEntries$_i = _slicedToArray(bEntries[_i2], 2),\n          key = _bEntries$_i[0],\n          item = _bEntries$_i[1];\n\n      if (_typeof(key) === 'object' && key !== null) {\n        if (!mapHasEqualEntry(set, a, key, item, strict, memo)) return false;\n      } else if (!strict && (!a.has(key) || !innerDeepEqual(a.get(key), item, false, memo)) && !mapHasEqualEntry(set, a, key, item, false, memo)) {\n        return false;\n      }\n    }\n\n    return set.size === 0;\n  }\n\n  return true;\n}\n\nfunction objEquiv(a, b, strict, keys, memos, iterationType) {\n  // Sets and maps don't have their entries accessible via normal object\n  // properties.\n  var i = 0;\n\n  if (iterationType === kIsSet) {\n    if (!setEquiv(a, b, strict, memos)) {\n      return false;\n    }\n  } else if (iterationType === kIsMap) {\n    if (!mapEquiv(a, b, strict, memos)) {\n      return false;\n    }\n  } else if (iterationType === kIsArray) {\n    for (; i < a.length; i++) {\n      if (hasOwnProperty(a, i)) {\n        if (!hasOwnProperty(b, i) || !innerDeepEqual(a[i], b[i], strict, memos)) {\n          return false;\n        }\n      } else if (hasOwnProperty(b, i)) {\n        return false;\n      } else {\n        // Array is sparse.\n        var keysA = Object.keys(a);\n\n        for (; i < keysA.length; i++) {\n          var key = keysA[i];\n\n          if (!hasOwnProperty(b, key) || !innerDeepEqual(a[key], b[key], strict, memos)) {\n            return false;\n          }\n        }\n\n        if (keysA.length !== Object.keys(b).length) {\n          return false;\n        }\n\n        return true;\n      }\n    }\n  } // The pair must have equivalent values for every corresponding key.\n  // Possibly expensive deep test:\n\n\n  for (i = 0; i < keys.length; i++) {\n    var _key = keys[i];\n\n    if (!innerDeepEqual(a[_key], b[_key], strict, memos)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction isDeepEqual(val1, val2) {\n  return innerDeepEqual(val1, val2, kLoose);\n}\n\nfunction isDeepStrictEqual(val1, val2) {\n  return innerDeepEqual(val1, val2, kStrict);\n}\n\nmodule.exports = {\n  isDeepEqual: isDeepEqual,\n  isDeepStrictEqual: isDeepStrictEqual\n};","'use strict';\n\nvar filter = require('array-filter');\n\nmodule.exports = function availableTypedArrays() {\n\treturn filter([\n\t\t'BigInt64Array',\n\t\t'BigUint64Array',\n\t\t'Float32Array',\n\t\t'Float64Array',\n\t\t'Int16Array',\n\t\t'Int32Array',\n\t\t'Int8Array',\n\t\t'Uint16Array',\n\t\t'Uint32Array',\n\t\t'Uint8Array',\n\t\t'Uint8ClampedArray'\n\t], function (typedArray) {\n\t\treturn typeof global[typedArray] === 'function';\n\t});\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar callBind = require('./');\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n","'use strict';\n\nvar bind = require('function-bind');\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $apply = GetIntrinsic('%Function.prototype.apply%');\nvar $call = GetIntrinsic('%Function.prototype.call%');\nvar $reflectApply = GetIntrinsic('%Reflect.apply%', true) || bind.call($call, $apply);\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);\nvar $defineProperty = GetIntrinsic('%Object.defineProperty%', true);\nvar $max = GetIntrinsic('%Math.max%');\n\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = null;\n\t}\n}\n\nmodule.exports = function callBind(originalFunction) {\n\tvar func = $reflectApply(bind, $call, arguments);\n\tif ($gOPD && $defineProperty) {\n\t\tvar desc = $gOPD(func, 'length');\n\t\tif (desc.configurable) {\n\t\t\t// original length, plus the receiver, minus any additional arguments (after the receiver)\n\t\t\t$defineProperty(\n\t\t\t\tfunc,\n\t\t\t\t'length',\n\t\t\t\t{ value: 1 + $max(0, originalFunction.length - (arguments.length - 1)) }\n\t\t\t);\n\t\t}\n\t}\n\treturn func;\n};\n\nvar applyBind = function applyBind() {\n\treturn $reflectApply(bind, $apply, arguments);\n};\n\nif ($defineProperty) {\n\t$defineProperty(module.exports, 'apply', { value: applyBind });\n} else {\n\tmodule.exports.apply = applyBind;\n}\n","/*global window, global*/\nvar util = require(\"util\")\nvar assert = require(\"assert\")\nfunction now() { return new Date().getTime() }\n\nvar slice = Array.prototype.slice\nvar console\nvar times = {}\n\nif (typeof global !== \"undefined\" && global.console) {\n    console = global.console\n} else if (typeof window !== \"undefined\" && window.console) {\n    console = window.console\n} else {\n    console = {}\n}\n\nvar functions = [\n    [log, \"log\"],\n    [info, \"info\"],\n    [warn, \"warn\"],\n    [error, \"error\"],\n    [time, \"time\"],\n    [timeEnd, \"timeEnd\"],\n    [trace, \"trace\"],\n    [dir, \"dir\"],\n    [consoleAssert, \"assert\"]\n]\n\nfor (var i = 0; i < functions.length; i++) {\n    var tuple = functions[i]\n    var f = tuple[0]\n    var name = tuple[1]\n\n    if (!console[name]) {\n        console[name] = f\n    }\n}\n\nmodule.exports = console\n\nfunction log() {}\n\nfunction info() {\n    console.log.apply(console, arguments)\n}\n\nfunction warn() {\n    console.log.apply(console, arguments)\n}\n\nfunction error() {\n    console.warn.apply(console, arguments)\n}\n\nfunction time(label) {\n    times[label] = now()\n}\n\nfunction timeEnd(label) {\n    var time = times[label]\n    if (!time) {\n        throw new Error(\"No such label: \" + label)\n    }\n\n    delete times[label]\n    var duration = now() - time\n    console.log(label + \": \" + duration + \"ms\")\n}\n\nfunction trace() {\n    var err = new Error()\n    err.name = \"Trace\"\n    err.message = util.format.apply(null, arguments)\n    console.error(err.stack)\n}\n\nfunction dir(object) {\n    console.log(util.inspect(object) + \"\\n\")\n}\n\nfunction consoleAssert(expression) {\n    if (!expression) {\n        var arr = slice.call(arguments, 1)\n        assert.ok(false, util.format.apply(null, arr))\n    }\n}\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","module.exports = function (it, Constructor, name) {\n  if (!(it instanceof Constructor)) {\n    throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n  } return it;\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n};\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /(iphone|ipod|ipad).*applewebkit/i.test(userAgent);\n","var classof = require('../internals/classof-raw');\nvar global = require('../internals/global');\n\nmodule.exports = classof(global.process) == 'process';\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /web0s(?!.*chrome)/i.test(userAgent);\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","var classof = require('../internals/classof');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func\n  (function () { return this; })() || Function('return this')();\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","module.exports = {};\n","var global = require('../internals/global');\n\nmodule.exports = function (a, b) {\n  var console = global.console;\n  if (console && console.error) {\n    arguments.length === 1 ? console.error(a) : console.error(a, b);\n  }\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    metadata.facade = it;\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","module.exports = false;\n","var anObject = require('../internals/an-object');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar iteratorClose = require('../internals/iterator-close');\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nmodule.exports = function (iterable, unboundFunction, options) {\n  var that = options && options.that;\n  var AS_ENTRIES = !!(options && options.AS_ENTRIES);\n  var IS_ITERATOR = !!(options && options.IS_ITERATOR);\n  var INTERRUPTED = !!(options && options.INTERRUPTED);\n  var fn = bind(unboundFunction, that, 1 + AS_ENTRIES + INTERRUPTED);\n  var iterator, iterFn, index, length, result, next, step;\n\n  var stop = function (condition) {\n    if (iterator) iteratorClose(iterator);\n    return new Result(true, condition);\n  };\n\n  var callFn = function (value) {\n    if (AS_ENTRIES) {\n      anObject(value);\n      return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);\n    } return INTERRUPTED ? fn(value, stop) : fn(value);\n  };\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (typeof iterFn != 'function') throw TypeError('Target is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = toLength(iterable.length); length > index; index++) {\n        result = callFn(iterable[index]);\n        if (result && result instanceof Result) return result;\n      } return new Result(false);\n    }\n    iterator = iterFn.call(iterable);\n  }\n\n  next = iterator.next;\n  while (!(step = next.call(iterator)).done) {\n    try {\n      result = callFn(step.value);\n    } catch (error) {\n      iteratorClose(iterator);\n      throw error;\n    }\n    if (typeof result == 'object' && result && result instanceof Result) return result;\n  } return new Result(false);\n};\n","var anObject = require('../internals/an-object');\n\nmodule.exports = function (iterator) {\n  var returnMethod = iterator['return'];\n  if (returnMethod !== undefined) {\n    return anObject(returnMethod.call(iterator)).value;\n  }\n};\n","module.exports = {};\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar macrotask = require('../internals/task').set;\nvar IS_IOS = require('../internals/engine-is-ios');\nvar IS_WEBOS_WEBKIT = require('../internals/engine-is-webos-webkit');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar MutationObserver = global.MutationObserver || global.WebKitMutationObserver;\nvar document = global.document;\nvar process = global.process;\nvar Promise = global.Promise;\n// Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\nvar queueMicrotaskDescriptor = getOwnPropertyDescriptor(global, 'queueMicrotask');\nvar queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;\n\nvar flush, head, last, notify, toggle, node, promise, then;\n\n// modern engines have queueMicrotask method\nif (!queueMicrotask) {\n  flush = function () {\n    var parent, fn;\n    if (IS_NODE && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (error) {\n        if (head) notify();\n        else last = undefined;\n        throw error;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n  // also except WebOS Webkit https://github.com/zloirock/core-js/issues/898\n  if (!IS_IOS && !IS_NODE && !IS_WEBOS_WEBKIT && MutationObserver && document) {\n    toggle = true;\n    node = document.createTextNode('');\n    new MutationObserver(flush).observe(node, { characterData: true });\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    promise = Promise.resolve(undefined);\n    then = promise.then;\n    notify = function () {\n      then.call(promise, flush);\n    };\n  // Node.js without promises\n  } else if (IS_NODE) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n}\n\nmodule.exports = queueMicrotask || function (fn) {\n  var task = { fn: fn, next: undefined };\n  if (last) last.next = task;\n  if (!head) {\n    head = task;\n    notify();\n  } last = task;\n};\n","var global = require('../internals/global');\n\nmodule.exports = global.Promise;\n","var fails = require('../internals/fails');\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  // eslint-disable-next-line no-undef\n  return !String(Symbol());\n});\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","'use strict';\nvar aFunction = require('../internals/a-function');\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n};\n\n// 25.4.1.5 NewPromiseCapability(C)\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","exports.f = Object.getOwnPropertySymbols;\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classof = require('../internals/classof');\n\n// `Object.prototype.toString` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","module.exports = function (exec) {\n  try {\n    return { error: false, value: exec() };\n  } catch (error) {\n    return { error: true, value: error };\n  }\n};\n","var anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar newPromiseCapability = require('../internals/new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var redefine = require('../internals/redefine');\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) redefine(target, key, src[key], options);\n  return target;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  var state;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) {\n      createNonEnumerableProperty(value, 'name', key);\n    }\n    state = enforceInternalState(value);\n    if (!state.source) {\n      state.source = TEMPLATE.join(typeof key == 'string' ? key : '');\n    }\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar definePropertyModule = require('../internals/object-define-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n","var defineProperty = require('../internals/object-define-property').f;\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC) {\n  if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n    defineProperty(it, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.8.3',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2021 Denis Pushkarev (zloirock.ru)'\n});\n","var anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n","var global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar bind = require('../internals/function-bind-context');\nvar html = require('../internals/html');\nvar createElement = require('../internals/document-create-element');\nvar IS_IOS = require('../internals/engine-is-ios');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar location = global.location;\nvar set = global.setImmediate;\nvar clear = global.clearImmediate;\nvar process = global.process;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\n\nvar run = function (id) {\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar listener = function (event) {\n  run(event.data);\n};\n\nvar post = function (id) {\n  // old engines have not location.origin\n  global.postMessage(id + '', location.protocol + '//' + location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (IS_NODE) {\n    defer = function (id) {\n      process.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = bind(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (\n    global.addEventListener &&\n    typeof postMessage == 'function' &&\n    !global.importScripts &&\n    location && location.protocol !== 'file:' &&\n    !fails(post)\n  ) {\n    defer = post;\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function (id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.es/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","var NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  // eslint-disable-next-line no-undef\n  && !Symbol.sham\n  // eslint-disable-next-line no-undef\n  && typeof Symbol.iterator == 'symbol';\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name)) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name];\n    else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar redefine = require('../internals/redefine');\nvar toString = require('../internals/object-to-string');\n\n// `Object.prototype.toString` method\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nif (!TO_STRING_TAG_SUPPORT) {\n  redefine(Object.prototype, 'toString', toString, { unsafe: true });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar redefine = require('../internals/redefine');\nvar redefineAll = require('../internals/redefine-all');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar setSpecies = require('../internals/set-species');\nvar isObject = require('../internals/is-object');\nvar aFunction = require('../internals/a-function');\nvar anInstance = require('../internals/an-instance');\nvar inspectSource = require('../internals/inspect-source');\nvar iterate = require('../internals/iterate');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar speciesConstructor = require('../internals/species-constructor');\nvar task = require('../internals/task').set;\nvar microtask = require('../internals/microtask');\nvar promiseResolve = require('../internals/promise-resolve');\nvar hostReportErrors = require('../internals/host-report-errors');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar InternalStateModule = require('../internals/internal-state');\nvar isForced = require('../internals/is-forced');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_NODE = require('../internals/engine-is-node');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\nvar PROMISE = 'Promise';\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar PromiseConstructor = NativePromise;\nvar TypeError = global.TypeError;\nvar document = global.document;\nvar process = global.process;\nvar $fetch = getBuiltIn('fetch');\nvar newPromiseCapability = newPromiseCapabilityModule.f;\nvar newGenericPromiseCapability = newPromiseCapability;\nvar DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);\nvar NATIVE_REJECTION_EVENT = typeof PromiseRejectionEvent == 'function';\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\nvar Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\nvar FORCED = isForced(PROMISE, function () {\n  var GLOBAL_CORE_JS_PROMISE = inspectSource(PromiseConstructor) !== String(PromiseConstructor);\n  if (!GLOBAL_CORE_JS_PROMISE) {\n    // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n    // We can't detect it synchronously, so just check versions\n    if (V8_VERSION === 66) return true;\n    // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    if (!IS_NODE && !NATIVE_REJECTION_EVENT) return true;\n  }\n  // We need Promise#finally in the pure version for preventing prototype pollution\n  if (IS_PURE && !PromiseConstructor.prototype['finally']) return true;\n  // We can't use @@species feature detection in V8 since it causes\n  // deoptimization and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if (V8_VERSION >= 51 && /native code/.test(PromiseConstructor)) return false;\n  // Detect correctness of subclassing with @@species support\n  var promise = PromiseConstructor.resolve(1);\n  var FakePromise = function (exec) {\n    exec(function () { /* empty */ }, function () { /* empty */ });\n  };\n  var constructor = promise.constructor = {};\n  constructor[SPECIES] = FakePromise;\n  return !(promise.then(function () { /* empty */ }) instanceof FakePromise);\n});\n\nvar INCORRECT_ITERATION = FORCED || !checkCorrectnessOfIteration(function (iterable) {\n  PromiseConstructor.all(iterable)['catch'](function () { /* empty */ });\n});\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\n\nvar notify = function (state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  var chain = state.reactions;\n  microtask(function () {\n    var value = state.value;\n    var ok = state.state == FULFILLED;\n    var index = 0;\n    // variable length - can't use forEach\n    while (chain.length > index) {\n      var reaction = chain[index++];\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (state.rejection === UNHANDLED) onHandleUnhandled(state);\n            state.rejection = HANDLED;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // can throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (error) {\n        if (domain && !exited) domain.exit();\n        reject(error);\n      }\n    }\n    state.reactions = [];\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n  if (DISPATCH_EVENT) {\n    event = document.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global.dispatchEvent(event);\n  } else event = { promise: promise, reason: reason };\n  if (!NATIVE_REJECTION_EVENT && (handler = global['on' + name])) handler(event);\n  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function (state) {\n  task.call(global, function () {\n    var promise = state.facade;\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE) {\n          process.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (state) {\n  task.call(global, function () {\n    var promise = state.facade;\n    if (IS_NODE) {\n      process.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function (fn, state, unwrap) {\n  return function (value) {\n    fn(state, value, unwrap);\n  };\n};\n\nvar internalReject = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(state, true);\n};\n\nvar internalResolve = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  try {\n    if (state.facade === value) throw TypeError(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n    if (then) {\n      microtask(function () {\n        var wrapper = { done: false };\n        try {\n          then.call(value,\n            bind(internalResolve, wrapper, state),\n            bind(internalReject, wrapper, state)\n          );\n        } catch (error) {\n          internalReject(wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(state, false);\n    }\n  } catch (error) {\n    internalReject({ done: false }, error, state);\n  }\n};\n\n// constructor polyfill\nif (FORCED) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromiseConstructor, PROMISE);\n    aFunction(executor);\n    Internal.call(this);\n    var state = getInternalState(this);\n    try {\n      executor(bind(internalResolve, state), bind(internalReject, state));\n    } catch (error) {\n      internalReject(state, error);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: [],\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  };\n  Internal.prototype = redefineAll(PromiseConstructor.prototype, {\n    // `Promise.prototype.then` method\n    // https://tc39.es/ecma262/#sec-promise.prototype.then\n    then: function then(onFulfilled, onRejected) {\n      var state = getInternalPromiseState(this);\n      var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = IS_NODE ? process.domain : undefined;\n      state.parent = true;\n      state.reactions.push(reaction);\n      if (state.state != PENDING) notify(state, false);\n      return reaction.promise;\n    },\n    // `Promise.prototype.catch` method\n    // https://tc39.es/ecma262/#sec-promise.prototype.catch\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalState(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, state);\n    this.reject = bind(internalReject, state);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n\n  if (!IS_PURE && typeof NativePromise == 'function') {\n    nativeThen = NativePromise.prototype.then;\n\n    // wrap native Promise#then for native async functions\n    redefine(NativePromise.prototype, 'then', function then(onFulfilled, onRejected) {\n      var that = this;\n      return new PromiseConstructor(function (resolve, reject) {\n        nativeThen.call(that, resolve, reject);\n      }).then(onFulfilled, onRejected);\n    // https://github.com/zloirock/core-js/issues/640\n    }, { unsafe: true });\n\n    // wrap fetch result\n    if (typeof $fetch == 'function') $({ global: true, enumerable: true, forced: true }, {\n      // eslint-disable-next-line no-unused-vars\n      fetch: function fetch(input /* , init */) {\n        return promiseResolve(PromiseConstructor, $fetch.apply(global, arguments));\n      }\n    });\n  }\n}\n\n$({ global: true, wrap: true, forced: FORCED }, {\n  Promise: PromiseConstructor\n});\n\nsetToStringTag(PromiseConstructor, PROMISE, false, true);\nsetSpecies(PROMISE);\n\nPromiseWrapper = getBuiltIn(PROMISE);\n\n// statics\n$({ target: PROMISE, stat: true, forced: FORCED }, {\n  // `Promise.reject` method\n  // https://tc39.es/ecma262/#sec-promise.reject\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    capability.reject.call(undefined, r);\n    return capability.promise;\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: IS_PURE || FORCED }, {\n  // `Promise.resolve` method\n  // https://tc39.es/ecma262/#sec-promise.resolve\n  resolve: function resolve(x) {\n    return promiseResolve(IS_PURE && this === PromiseWrapper ? PromiseConstructor : this, x);\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {\n  // `Promise.all` method\n  // https://tc39.es/ecma262/#sec-promise.all\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        $promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  },\n  // `Promise.race` method\n  // https://tc39.es/ecma262/#sec-promise.race\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      iterate(iterable, function (promise) {\n        $promiseResolve.call(C, promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","'use strict';\n\nvar keys = require('object-keys');\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol('foo') === 'symbol';\n\nvar toStr = Object.prototype.toString;\nvar concat = Array.prototype.concat;\nvar origDefineProperty = Object.defineProperty;\n\nvar isFunction = function (fn) {\n\treturn typeof fn === 'function' && toStr.call(fn) === '[object Function]';\n};\n\nvar arePropertyDescriptorsSupported = function () {\n\tvar obj = {};\n\ttry {\n\t\torigDefineProperty(obj, 'x', { enumerable: false, value: obj });\n\t\t// eslint-disable-next-line no-unused-vars, no-restricted-syntax\n\t\tfor (var _ in obj) { // jscs:ignore disallowUnusedVariables\n\t\t\treturn false;\n\t\t}\n\t\treturn obj.x === obj;\n\t} catch (e) { /* this is IE 8. */\n\t\treturn false;\n\t}\n};\nvar supportsDescriptors = origDefineProperty && arePropertyDescriptorsSupported();\n\nvar defineProperty = function (object, name, value, predicate) {\n\tif (name in object && (!isFunction(predicate) || !predicate())) {\n\t\treturn;\n\t}\n\tif (supportsDescriptors) {\n\t\torigDefineProperty(object, name, {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: false,\n\t\t\tvalue: value,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\tobject[name] = value;\n\t}\n};\n\nvar defineProperties = function (object, map) {\n\tvar predicates = arguments.length > 2 ? arguments[2] : {};\n\tvar props = keys(map);\n\tif (hasSymbols) {\n\t\tprops = concat.call(props, Object.getOwnPropertySymbols(map));\n\t}\n\tfor (var i = 0; i < props.length; i += 1) {\n\t\tdefineProperty(object, props[i], map[props[i]], predicates[props[i]]);\n\t}\n};\n\ndefineProperties.supportsDescriptors = !!supportsDescriptors;\n\nmodule.exports = defineProperties;\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%');\nif ($gOPD) {\n\ttry {\n\t\t$gOPD([], 'length');\n\t} catch (e) {\n\t\t// IE 8 has a broken gOPD\n\t\t$gOPD = null;\n\t}\n}\n\nmodule.exports = $gOPD;\n","/**\n * Code refactored from Mozilla Developer Network:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n */\n\n'use strict';\n\nfunction assign(target, firstSource) {\n  if (target === undefined || target === null) {\n    throw new TypeError('Cannot convert first argument to object');\n  }\n\n  var to = Object(target);\n  for (var i = 1; i < arguments.length; i++) {\n    var nextSource = arguments[i];\n    if (nextSource === undefined || nextSource === null) {\n      continue;\n    }\n\n    var keysArray = Object.keys(Object(nextSource));\n    for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex++) {\n      var nextKey = keysArray[nextIndex];\n      var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n      if (desc !== undefined && desc.enumerable) {\n        to[nextKey] = nextSource[nextKey];\n      }\n    }\n  }\n  return to;\n}\n\nfunction polyfill() {\n  if (!Object.assign) {\n    Object.defineProperty(Object, 'assign', {\n      enumerable: false,\n      configurable: true,\n      writable: true,\n      value: assign\n    });\n  }\n}\n\nmodule.exports = {\n  assign: assign,\n  polyfill: polyfill\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function eventListener() {\n      if (errorListener !== undefined) {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n    var errorListener;\n\n    // Adding an error listener is not optional because\n    // if an error is thrown on an event emitter we cannot\n    // guarantee that the actual event we are waiting will\n    // be fired. The result could be a silent way to create\n    // memory or file descriptor leaks, which is something\n    // we should avoid.\n    if (name !== 'error') {\n      errorListener = function errorListener(err) {\n        emitter.removeListener(name, eventListener);\n        reject(err);\n      };\n\n      emitter.once('error', errorListener);\n    }\n\n    emitter.once(name, eventListener);\n  });\n}\n","\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toString = Object.prototype.toString;\n\nmodule.exports = function forEach (obj, fn, ctx) {\n    if (toString.call(fn) !== '[object Function]') {\n        throw new TypeError('iterator must be a function');\n    }\n    var l = obj.length;\n    if (l === +l) {\n        for (var i = 0; i < l; i++) {\n            fn.call(ctx, obj[i], i, obj);\n        }\n    } else {\n        for (var k in obj) {\n            if (hasOwn.call(obj, k)) {\n                fn.call(ctx, obj[k], k, obj);\n            }\n        }\n    }\n};\n\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar slice = Array.prototype.slice;\nvar toStr = Object.prototype.toString;\nvar funcType = '[object Function]';\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slice.call(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        } else {\n            return target.apply(\n                that,\n                args.concat(slice.call(arguments))\n            );\n        }\n    };\n\n    var boundLength = Math.max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs.push('$' + i);\n    }\n\n    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\n/* globals\n\tAggregateError,\n\tSharedArrayBuffer,\n*/\n\nvar undefined;\n\nvar $SyntaxError = SyntaxError;\nvar $Function = Function;\nvar $TypeError = TypeError;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\n\nvar getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': EvalError,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': Object,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': RangeError,\n\t'%ReferenceError%': ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet\n};\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('has');\nvar $concat = bind.call(Function.call, Array.prototype.concat);\nvar $spliceApply = bind.call(Function.apply, Array.prototype.splice);\nvar $replace = bind.call(Function.call, String.prototype.replace);\nvar $strSlice = bind.call(Function.call, String.prototype.slice);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","'use strict';\n\nvar origSymbol = global.Symbol;\nvar hasSymbolSham = require('./shams');\n\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n","'use strict';\n\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; } // eslint-disable-line no-restricted-syntax\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","'use strict';\n\nvar bind = require('function-bind');\n\nmodule.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","'use strict';\n\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\nvar callBound = require('call-bind/callBound');\n\nvar $toString = callBound('Object.prototype.toString');\n\nvar isStandardArguments = function isArguments(value) {\n\tif (hasToStringTag && value && typeof value === 'object' && Symbol.toStringTag in value) {\n\t\treturn false;\n\t}\n\treturn $toString(value) === '[object Arguments]';\n};\n\nvar isLegacyArguments = function isArguments(value) {\n\tif (isStandardArguments(value)) {\n\t\treturn true;\n\t}\n\treturn value !== null &&\n\t\ttypeof value === 'object' &&\n\t\ttypeof value.length === 'number' &&\n\t\tvalue.length >= 0 &&\n\t\t$toString(value) !== '[object Array]' &&\n\t\t$toString(value.callee) === '[object Function]';\n};\n\nvar supportsStandardArguments = (function () {\n\treturn isStandardArguments(arguments);\n}());\n\nisStandardArguments.isLegacyArguments = isLegacyArguments; // for tests\n\nmodule.exports = supportsStandardArguments ? isStandardArguments : isLegacyArguments;\n","'use strict';\n\nvar toStr = Object.prototype.toString;\nvar fnToStr = Function.prototype.toString;\nvar isFnRegex = /^\\s*(?:function)?\\*/;\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\nvar getProto = Object.getPrototypeOf;\nvar getGeneratorFunc = function () { // eslint-disable-line consistent-return\n\tif (!hasToStringTag) {\n\t\treturn false;\n\t}\n\ttry {\n\t\treturn Function('return function*() {}')();\n\t} catch (e) {\n\t}\n};\nvar generatorFunc = getGeneratorFunc();\nvar GeneratorFunction = getProto && generatorFunc ? getProto(generatorFunc) : false;\n\nmodule.exports = function isGeneratorFunction(fn) {\n\tif (typeof fn !== 'function') {\n\t\treturn false;\n\t}\n\tif (isFnRegex.test(fnToStr.call(fn))) {\n\t\treturn true;\n\t}\n\tif (!hasToStringTag) {\n\t\tvar str = toStr.call(fn);\n\t\treturn str === '[object GeneratorFunction]';\n\t}\n\treturn getProto && getProto(fn) === GeneratorFunction;\n};\n","'use strict';\n\n/* http://www.ecma-international.org/ecma-262/6.0/#sec-number.isnan */\n\nmodule.exports = function isNaN(value) {\n\treturn value !== value;\n};\n","'use strict';\n\nvar callBind = require('call-bind');\nvar define = require('define-properties');\n\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\nvar polyfill = callBind(getPolyfill(), Number);\n\n/* http://www.ecma-international.org/ecma-262/6.0/#sec-number.isnan */\n\ndefine(polyfill, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = polyfill;\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = function getPolyfill() {\n\tif (Number.isNaN && Number.isNaN(NaN) && !Number.isNaN('a')) {\n\t\treturn Number.isNaN;\n\t}\n\treturn implementation;\n};\n","'use strict';\n\nvar define = require('define-properties');\nvar getPolyfill = require('./polyfill');\n\n/* http://www.ecma-international.org/ecma-262/6.0/#sec-number.isnan */\n\nmodule.exports = function shimNumberIsNaN() {\n\tvar polyfill = getPolyfill();\n\tdefine(Number, { isNaN: polyfill }, {\n\t\tisNaN: function testIsNaN() {\n\t\t\treturn Number.isNaN !== polyfill;\n\t\t}\n\t});\n\treturn polyfill;\n};\n","'use strict';\n\nvar forEach = require('foreach');\nvar availableTypedArrays = require('available-typed-arrays');\nvar callBound = require('call-bind/callBound');\n\nvar $toString = callBound('Object.prototype.toString');\nvar hasSymbols = require('has-symbols')();\nvar hasToStringTag = hasSymbols && typeof Symbol.toStringTag === 'symbol';\n\nvar typedArrays = availableTypedArrays();\n\nvar $indexOf = callBound('Array.prototype.indexOf', true) || function indexOf(array, value) {\n\tfor (var i = 0; i < array.length; i += 1) {\n\t\tif (array[i] === value) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n};\nvar $slice = callBound('String.prototype.slice');\nvar toStrTags = {};\nvar gOPD = require('es-abstract/helpers/getOwnPropertyDescriptor');\nvar getPrototypeOf = Object.getPrototypeOf; // require('getprototypeof');\nif (hasToStringTag && gOPD && getPrototypeOf) {\n\tforEach(typedArrays, function (typedArray) {\n\t\tvar arr = new global[typedArray]();\n\t\tif (!(Symbol.toStringTag in arr)) {\n\t\t\tthrow new EvalError('this engine has support for Symbol.toStringTag, but ' + typedArray + ' does not have the property! Please report this.');\n\t\t}\n\t\tvar proto = getPrototypeOf(arr);\n\t\tvar descriptor = gOPD(proto, Symbol.toStringTag);\n\t\tif (!descriptor) {\n\t\t\tvar superProto = getPrototypeOf(proto);\n\t\t\tdescriptor = gOPD(superProto, Symbol.toStringTag);\n\t\t}\n\t\ttoStrTags[typedArray] = descriptor.get;\n\t});\n}\n\nvar tryTypedArrays = function tryAllTypedArrays(value) {\n\tvar anyTrue = false;\n\tforEach(toStrTags, function (getter, typedArray) {\n\t\tif (!anyTrue) {\n\t\t\ttry {\n\t\t\t\tanyTrue = getter.call(value) === typedArray;\n\t\t\t} catch (e) { /**/ }\n\t\t}\n\t});\n\treturn anyTrue;\n};\n\nmodule.exports = function isTypedArray(value) {\n\tif (!value || typeof value !== 'object') { return false; }\n\tif (!hasToStringTag) {\n\t\tvar tag = $slice($toString(value), 8, -1);\n\t\treturn $indexOf(typedArrays, tag) > -1;\n\t}\n\tif (!gOPD) { return false; }\n\treturn tryTypedArrays(value);\n};\n","// ISC @ Julien Fontanet\n\n\"use strict\";\n\n// ===================================================================\n\nvar construct = typeof Reflect !== \"undefined\" ? Reflect.construct : undefined;\nvar defineProperty = Object.defineProperty;\n\n// -------------------------------------------------------------------\n\nvar captureStackTrace = Error.captureStackTrace;\nif (captureStackTrace === undefined) {\n  captureStackTrace = function captureStackTrace(error) {\n    var container = new Error();\n\n    defineProperty(error, \"stack\", {\n      configurable: true,\n      get: function getStack() {\n        var stack = container.stack;\n\n        // Replace property with value for faster future accesses.\n        defineProperty(this, \"stack\", {\n          configurable: true,\n          value: stack,\n          writable: true,\n        });\n\n        return stack;\n      },\n      set: function setStack(stack) {\n        defineProperty(error, \"stack\", {\n          configurable: true,\n          value: stack,\n          writable: true,\n        });\n      },\n    });\n  };\n}\n\n// -------------------------------------------------------------------\n\nfunction BaseError(message) {\n  if (message !== undefined) {\n    defineProperty(this, \"message\", {\n      configurable: true,\n      value: message,\n      writable: true,\n    });\n  }\n\n  var cname = this.constructor.name;\n  if (cname !== undefined && cname !== this.name) {\n    defineProperty(this, \"name\", {\n      configurable: true,\n      value: cname,\n      writable: true,\n    });\n  }\n\n  captureStackTrace(this, this.constructor);\n}\n\nBaseError.prototype = Object.create(Error.prototype, {\n  // See: https://github.com/JsCommunity/make-error/issues/4\n  constructor: {\n    configurable: true,\n    value: BaseError,\n    writable: true,\n  },\n});\n\n// -------------------------------------------------------------------\n\n// Sets the name of a function if possible (depends of the JS engine).\nvar setFunctionName = (function() {\n  function setFunctionName(fn, name) {\n    return defineProperty(fn, \"name\", {\n      configurable: true,\n      value: name,\n    });\n  }\n  try {\n    var f = function() {};\n    setFunctionName(f, \"foo\");\n    if (f.name === \"foo\") {\n      return setFunctionName;\n    }\n  } catch (_) {}\n})();\n\n// -------------------------------------------------------------------\n\nfunction makeError(constructor, super_) {\n  if (super_ == null || super_ === Error) {\n    super_ = BaseError;\n  } else if (typeof super_ !== \"function\") {\n    throw new TypeError(\"super_ should be a function\");\n  }\n\n  var name;\n  if (typeof constructor === \"string\") {\n    name = constructor;\n    constructor =\n      construct !== undefined\n        ? function() {\n            return construct(super_, arguments, this.constructor);\n          }\n        : function() {\n            super_.apply(this, arguments);\n          };\n\n    // If the name can be set, do it once and for all.\n    if (setFunctionName !== undefined) {\n      setFunctionName(constructor, name);\n      name = undefined;\n    }\n  } else if (typeof constructor !== \"function\") {\n    throw new TypeError(\"constructor should be either a string or a function\");\n  }\n\n  // Also register the super constructor also as `constructor.super_` just\n  // like Node's `util.inherits()`.\n  //\n  // eslint-disable-next-line dot-notation\n  constructor.super_ = constructor[\"super\"] = super_;\n\n  var properties = {\n    constructor: {\n      configurable: true,\n      value: constructor,\n      writable: true,\n    },\n  };\n\n  // If the name could not be set on the constructor, set it on the\n  // prototype.\n  if (name !== undefined) {\n    properties.name = {\n      configurable: true,\n      value: name,\n      writable: true,\n    };\n  }\n  constructor.prototype = Object.create(super_.prototype, properties);\n\n  return constructor;\n}\nexports = module.exports = makeError;\nexports.BaseError = BaseError;\n","'use strict';\n\nvar numberIsNaN = function (value) {\n\treturn value !== value;\n};\n\nmodule.exports = function is(a, b) {\n\tif (a === 0 && b === 0) {\n\t\treturn 1 / a === 1 / b;\n\t}\n\tif (a === b) {\n\t\treturn true;\n\t}\n\tif (numberIsNaN(a) && numberIsNaN(b)) {\n\t\treturn true;\n\t}\n\treturn false;\n};\n\n","'use strict';\n\nvar define = require('define-properties');\nvar callBind = require('call-bind');\n\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\nvar polyfill = callBind(getPolyfill(), Object);\n\ndefine(polyfill, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = polyfill;\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = function getPolyfill() {\n\treturn typeof Object.is === 'function' ? Object.is : implementation;\n};\n","'use strict';\n\nvar getPolyfill = require('./polyfill');\nvar define = require('define-properties');\n\nmodule.exports = function shimObjectIs() {\n\tvar polyfill = getPolyfill();\n\tdefine(Object, { is: polyfill }, {\n\t\tis: function testObjectIs() {\n\t\t\treturn Object.is !== polyfill;\n\t\t}\n\t});\n\treturn polyfill;\n};\n","'use strict';\n\nvar keysShim;\nif (!Object.keys) {\n\t// modified from https://github.com/es-shims/es5-shim\n\tvar has = Object.prototype.hasOwnProperty;\n\tvar toStr = Object.prototype.toString;\n\tvar isArgs = require('./isArguments'); // eslint-disable-line global-require\n\tvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\tvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\n\tvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\n\tvar dontEnums = [\n\t\t'toString',\n\t\t'toLocaleString',\n\t\t'valueOf',\n\t\t'hasOwnProperty',\n\t\t'isPrototypeOf',\n\t\t'propertyIsEnumerable',\n\t\t'constructor'\n\t];\n\tvar equalsConstructorPrototype = function (o) {\n\t\tvar ctor = o.constructor;\n\t\treturn ctor && ctor.prototype === o;\n\t};\n\tvar excludedKeys = {\n\t\t$applicationCache: true,\n\t\t$console: true,\n\t\t$external: true,\n\t\t$frame: true,\n\t\t$frameElement: true,\n\t\t$frames: true,\n\t\t$innerHeight: true,\n\t\t$innerWidth: true,\n\t\t$onmozfullscreenchange: true,\n\t\t$onmozfullscreenerror: true,\n\t\t$outerHeight: true,\n\t\t$outerWidth: true,\n\t\t$pageXOffset: true,\n\t\t$pageYOffset: true,\n\t\t$parent: true,\n\t\t$scrollLeft: true,\n\t\t$scrollTop: true,\n\t\t$scrollX: true,\n\t\t$scrollY: true,\n\t\t$self: true,\n\t\t$webkitIndexedDB: true,\n\t\t$webkitStorageInfo: true,\n\t\t$window: true\n\t};\n\tvar hasAutomationEqualityBug = (function () {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined') { return false; }\n\t\tfor (var k in window) {\n\t\t\ttry {\n\t\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}());\n\tvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t}\n\t\ttry {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tkeysShim = function keys(object) {\n\t\tvar isObject = object !== null && typeof object === 'object';\n\t\tvar isFunction = toStr.call(object) === '[object Function]';\n\t\tvar isArguments = isArgs(object);\n\t\tvar isString = isObject && toStr.call(object) === '[object String]';\n\t\tvar theKeys = [];\n\n\t\tif (!isObject && !isFunction && !isArguments) {\n\t\t\tthrow new TypeError('Object.keys called on a non-object');\n\t\t}\n\n\t\tvar skipProto = hasProtoEnumBug && isFunction;\n\t\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\t\ttheKeys.push(String(i));\n\t\t\t}\n\t\t}\n\n\t\tif (isArguments && object.length > 0) {\n\t\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\t\ttheKeys.push(String(j));\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var name in object) {\n\t\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\t\ttheKeys.push(String(name));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (hasDontEnumBug) {\n\t\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn theKeys;\n\t};\n}\nmodule.exports = keysShim;\n","'use strict';\n\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\n\nvar origKeys = Object.keys;\nvar keysShim = origKeys ? function keys(o) { return origKeys(o); } : require('./implementation');\n\nvar originalKeys = Object.keys;\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\tvar args = Object.keys(arguments);\n\t\t\treturn args && args.length === arguments.length;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tObject.keys = function keys(object) { // eslint-disable-line func-name-matching\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t}\n\t\t\t\treturn originalKeys(object);\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","// Currently in sync with Node.js lib/internal/util/types.js\n// https://github.com/nodejs/node/commit/112cc7c27551254aa2b17098fb774867f05ed0d9\n\n'use strict';\n\nvar isArgumentsObject = require('is-arguments');\nvar isGeneratorFunction = require('is-generator-function');\nvar whichTypedArray = require('which-typed-array');\nvar isTypedArray = require('is-typed-array');\n\nfunction uncurryThis(f) {\n  return f.call.bind(f);\n}\n\nvar BigIntSupported = typeof BigInt !== 'undefined';\nvar SymbolSupported = typeof Symbol !== 'undefined';\n\nvar ObjectToString = uncurryThis(Object.prototype.toString);\n\nvar numberValue = uncurryThis(Number.prototype.valueOf);\nvar stringValue = uncurryThis(String.prototype.valueOf);\nvar booleanValue = uncurryThis(Boolean.prototype.valueOf);\n\nif (BigIntSupported) {\n  var bigIntValue = uncurryThis(BigInt.prototype.valueOf);\n}\n\nif (SymbolSupported) {\n  var symbolValue = uncurryThis(Symbol.prototype.valueOf);\n}\n\nfunction checkBoxedPrimitive(value, prototypeValueOf) {\n  if (typeof value !== 'object') {\n    return false;\n  }\n  try {\n    prototypeValueOf(value);\n    return true;\n  } catch(e) {\n    return false;\n  }\n}\n\nexports.isArgumentsObject = isArgumentsObject;\nexports.isGeneratorFunction = isGeneratorFunction;\nexports.isTypedArray = isTypedArray;\n\n// Taken from here and modified for better browser support\n// https://github.com/sindresorhus/p-is-promise/blob/cda35a513bda03f977ad5cde3a079d237e82d7ef/index.js\nfunction isPromise(input) {\n\treturn (\n\t\t(\n\t\t\ttypeof Promise !== 'undefined' &&\n\t\t\tinput instanceof Promise\n\t\t) ||\n\t\t(\n\t\t\tinput !== null &&\n\t\t\ttypeof input === 'object' &&\n\t\t\ttypeof input.then === 'function' &&\n\t\t\ttypeof input.catch === 'function'\n\t\t)\n\t);\n}\nexports.isPromise = isPromise;\n\nfunction isArrayBufferView(value) {\n  if (typeof ArrayBuffer !== 'undefined' && ArrayBuffer.isView) {\n    return ArrayBuffer.isView(value);\n  }\n\n  return (\n    isTypedArray(value) ||\n    isDataView(value)\n  );\n}\nexports.isArrayBufferView = isArrayBufferView;\n\n\nfunction isUint8Array(value) {\n  return whichTypedArray(value) === 'Uint8Array';\n}\nexports.isUint8Array = isUint8Array;\n\nfunction isUint8ClampedArray(value) {\n  return whichTypedArray(value) === 'Uint8ClampedArray';\n}\nexports.isUint8ClampedArray = isUint8ClampedArray;\n\nfunction isUint16Array(value) {\n  return whichTypedArray(value) === 'Uint16Array';\n}\nexports.isUint16Array = isUint16Array;\n\nfunction isUint32Array(value) {\n  return whichTypedArray(value) === 'Uint32Array';\n}\nexports.isUint32Array = isUint32Array;\n\nfunction isInt8Array(value) {\n  return whichTypedArray(value) === 'Int8Array';\n}\nexports.isInt8Array = isInt8Array;\n\nfunction isInt16Array(value) {\n  return whichTypedArray(value) === 'Int16Array';\n}\nexports.isInt16Array = isInt16Array;\n\nfunction isInt32Array(value) {\n  return whichTypedArray(value) === 'Int32Array';\n}\nexports.isInt32Array = isInt32Array;\n\nfunction isFloat32Array(value) {\n  return whichTypedArray(value) === 'Float32Array';\n}\nexports.isFloat32Array = isFloat32Array;\n\nfunction isFloat64Array(value) {\n  return whichTypedArray(value) === 'Float64Array';\n}\nexports.isFloat64Array = isFloat64Array;\n\nfunction isBigInt64Array(value) {\n  return whichTypedArray(value) === 'BigInt64Array';\n}\nexports.isBigInt64Array = isBigInt64Array;\n\nfunction isBigUint64Array(value) {\n  return whichTypedArray(value) === 'BigUint64Array';\n}\nexports.isBigUint64Array = isBigUint64Array;\n\nfunction isMapToString(value) {\n  return ObjectToString(value) === '[object Map]';\n}\nisMapToString.working = (\n  typeof Map !== 'undefined' &&\n  isMapToString(new Map())\n);\n\nfunction isMap(value) {\n  if (typeof Map === 'undefined') {\n    return false;\n  }\n\n  return isMapToString.working\n    ? isMapToString(value)\n    : value instanceof Map;\n}\nexports.isMap = isMap;\n\nfunction isSetToString(value) {\n  return ObjectToString(value) === '[object Set]';\n}\nisSetToString.working = (\n  typeof Set !== 'undefined' &&\n  isSetToString(new Set())\n);\nfunction isSet(value) {\n  if (typeof Set === 'undefined') {\n    return false;\n  }\n\n  return isSetToString.working\n    ? isSetToString(value)\n    : value instanceof Set;\n}\nexports.isSet = isSet;\n\nfunction isWeakMapToString(value) {\n  return ObjectToString(value) === '[object WeakMap]';\n}\nisWeakMapToString.working = (\n  typeof WeakMap !== 'undefined' &&\n  isWeakMapToString(new WeakMap())\n);\nfunction isWeakMap(value) {\n  if (typeof WeakMap === 'undefined') {\n    return false;\n  }\n\n  return isWeakMapToString.working\n    ? isWeakMapToString(value)\n    : value instanceof WeakMap;\n}\nexports.isWeakMap = isWeakMap;\n\nfunction isWeakSetToString(value) {\n  return ObjectToString(value) === '[object WeakSet]';\n}\nisWeakSetToString.working = (\n  typeof WeakSet !== 'undefined' &&\n  isWeakSetToString(new WeakSet())\n);\nfunction isWeakSet(value) {\n  return isWeakSetToString(value);\n}\nexports.isWeakSet = isWeakSet;\n\nfunction isArrayBufferToString(value) {\n  return ObjectToString(value) === '[object ArrayBuffer]';\n}\nisArrayBufferToString.working = (\n  typeof ArrayBuffer !== 'undefined' &&\n  isArrayBufferToString(new ArrayBuffer())\n);\nfunction isArrayBuffer(value) {\n  if (typeof ArrayBuffer === 'undefined') {\n    return false;\n  }\n\n  return isArrayBufferToString.working\n    ? isArrayBufferToString(value)\n    : value instanceof ArrayBuffer;\n}\nexports.isArrayBuffer = isArrayBuffer;\n\nfunction isDataViewToString(value) {\n  return ObjectToString(value) === '[object DataView]';\n}\nisDataViewToString.working = (\n  typeof ArrayBuffer !== 'undefined' &&\n  typeof DataView !== 'undefined' &&\n  isDataViewToString(new DataView(new ArrayBuffer(1), 0, 1))\n);\nfunction isDataView(value) {\n  if (typeof DataView === 'undefined') {\n    return false;\n  }\n\n  return isDataViewToString.working\n    ? isDataViewToString(value)\n    : value instanceof DataView;\n}\nexports.isDataView = isDataView;\n\nfunction isSharedArrayBufferToString(value) {\n  return ObjectToString(value) === '[object SharedArrayBuffer]';\n}\nisSharedArrayBufferToString.working = (\n  typeof SharedArrayBuffer !== 'undefined' &&\n  isSharedArrayBufferToString(new SharedArrayBuffer())\n);\nfunction isSharedArrayBuffer(value) {\n  if (typeof SharedArrayBuffer === 'undefined') {\n    return false;\n  }\n\n  return isSharedArrayBufferToString.working\n    ? isSharedArrayBufferToString(value)\n    : value instanceof SharedArrayBuffer;\n}\nexports.isSharedArrayBuffer = isSharedArrayBuffer;\n\nfunction isAsyncFunction(value) {\n  return ObjectToString(value) === '[object AsyncFunction]';\n}\nexports.isAsyncFunction = isAsyncFunction;\n\nfunction isMapIterator(value) {\n  return ObjectToString(value) === '[object Map Iterator]';\n}\nexports.isMapIterator = isMapIterator;\n\nfunction isSetIterator(value) {\n  return ObjectToString(value) === '[object Set Iterator]';\n}\nexports.isSetIterator = isSetIterator;\n\nfunction isGeneratorObject(value) {\n  return ObjectToString(value) === '[object Generator]';\n}\nexports.isGeneratorObject = isGeneratorObject;\n\nfunction isWebAssemblyCompiledModule(value) {\n  return ObjectToString(value) === '[object WebAssembly.Module]';\n}\nexports.isWebAssemblyCompiledModule = isWebAssemblyCompiledModule;\n\nfunction isNumberObject(value) {\n  return checkBoxedPrimitive(value, numberValue);\n}\nexports.isNumberObject = isNumberObject;\n\nfunction isStringObject(value) {\n  return checkBoxedPrimitive(value, stringValue);\n}\nexports.isStringObject = isStringObject;\n\nfunction isBooleanObject(value) {\n  return checkBoxedPrimitive(value, booleanValue);\n}\nexports.isBooleanObject = isBooleanObject;\n\nfunction isBigIntObject(value) {\n  return BigIntSupported && checkBoxedPrimitive(value, bigIntValue);\n}\nexports.isBigIntObject = isBigIntObject;\n\nfunction isSymbolObject(value) {\n  return SymbolSupported && checkBoxedPrimitive(value, symbolValue);\n}\nexports.isSymbolObject = isSymbolObject;\n\nfunction isBoxedPrimitive(value) {\n  return (\n    isNumberObject(value) ||\n    isStringObject(value) ||\n    isBooleanObject(value) ||\n    isBigIntObject(value) ||\n    isSymbolObject(value)\n  );\n}\nexports.isBoxedPrimitive = isBoxedPrimitive;\n\nfunction isAnyArrayBuffer(value) {\n  return typeof Uint8Array !== 'undefined' && (\n    isArrayBuffer(value) ||\n    isSharedArrayBuffer(value)\n  );\n}\nexports.isAnyArrayBuffer = isAnyArrayBuffer;\n\n['isProxy', 'isExternal', 'isModuleNamespaceObject'].forEach(function(method) {\n  Object.defineProperty(exports, method, {\n    enumerable: false,\n    value: function() {\n      throw new Error(method + ' is not supported in userland');\n    }\n  });\n});\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors ||\n  function getOwnPropertyDescriptors(obj) {\n    var keys = Object.keys(obj);\n    var descriptors = {};\n    for (var i = 0; i < keys.length; i++) {\n      descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);\n    }\n    return descriptors;\n  };\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  if (typeof process !== 'undefined' && process.noDeprecation === true) {\n    return fn;\n  }\n\n  // Allow for deprecating things in the process of starting up.\n  if (typeof process === 'undefined') {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnvRegex = /^$/;\n\nif (process.env.NODE_DEBUG) {\n  var debugEnv = process.env.NODE_DEBUG;\n  debugEnv = debugEnv.replace(/[|\\\\{}()[\\]^$+?.]/g, '\\\\$&')\n    .replace(/\\*/g, '.*')\n    .replace(/,/g, '$|^')\n    .toUpperCase();\n  debugEnvRegex = new RegExp('^' + debugEnv + '$', 'i');\n}\nexports.debuglog = function(set) {\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (debugEnvRegex.test(set)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nexports.types = require('./support/types');\n\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\nexports.types.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\nexports.types.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\nexports.types.isNativeError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;\n\nexports.promisify = function promisify(original) {\n  if (typeof original !== 'function')\n    throw new TypeError('The \"original\" argument must be of type Function');\n\n  if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {\n    var fn = original[kCustomPromisifiedSymbol];\n    if (typeof fn !== 'function') {\n      throw new TypeError('The \"util.promisify.custom\" argument must be of type Function');\n    }\n    Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n      value: fn, enumerable: false, writable: false, configurable: true\n    });\n    return fn;\n  }\n\n  function fn() {\n    var promiseResolve, promiseReject;\n    var promise = new Promise(function (resolve, reject) {\n      promiseResolve = resolve;\n      promiseReject = reject;\n    });\n\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n    args.push(function (err, value) {\n      if (err) {\n        promiseReject(err);\n      } else {\n        promiseResolve(value);\n      }\n    });\n\n    try {\n      original.apply(this, args);\n    } catch (err) {\n      promiseReject(err);\n    }\n\n    return promise;\n  }\n\n  Object.setPrototypeOf(fn, Object.getPrototypeOf(original));\n\n  if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n    value: fn, enumerable: false, writable: false, configurable: true\n  });\n  return Object.defineProperties(\n    fn,\n    getOwnPropertyDescriptors(original)\n  );\n}\n\nexports.promisify.custom = kCustomPromisifiedSymbol\n\nfunction callbackifyOnRejected(reason, cb) {\n  // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).\n  // Because `null` is a special error value in callbacks which means \"no error\n  // occurred\", we error-wrap so the callback consumer can distinguish between\n  // \"the promise rejected with null\" or \"the promise fulfilled with undefined\".\n  if (!reason) {\n    var newReason = new Error('Promise was rejected with a falsy value');\n    newReason.reason = reason;\n    reason = newReason;\n  }\n  return cb(reason);\n}\n\nfunction callbackify(original) {\n  if (typeof original !== 'function') {\n    throw new TypeError('The \"original\" argument must be of type Function');\n  }\n\n  // We DO NOT return the promise as it gives the user a false sense that\n  // the promise is actually somehow related to the callback's execution\n  // and that the callback throwing will reject the promise.\n  function callbackified() {\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n\n    var maybeCb = args.pop();\n    if (typeof maybeCb !== 'function') {\n      throw new TypeError('The last argument must be of type Function');\n    }\n    var self = this;\n    var cb = function() {\n      return maybeCb.apply(self, arguments);\n    };\n    // In true node style we process the callback on `nextTick` with all the\n    // implications (stack, `uncaughtException`, `async_hooks`)\n    original.apply(this, args)\n      .then(function(ret) { process.nextTick(cb.bind(null, null, ret)) },\n            function(rej) { process.nextTick(callbackifyOnRejected.bind(null, rej, cb)) });\n  }\n\n  Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));\n  Object.defineProperties(callbackified,\n                          getOwnPropertyDescriptors(original));\n  return callbackified;\n}\nexports.callbackify = callbackify;\n","'use strict';\n\nvar forEach = require('foreach');\nvar availableTypedArrays = require('available-typed-arrays');\nvar callBound = require('call-bind/callBound');\n\nvar $toString = callBound('Object.prototype.toString');\nvar hasSymbols = require('has-symbols')();\nvar hasToStringTag = hasSymbols && typeof Symbol.toStringTag === 'symbol';\n\nvar typedArrays = availableTypedArrays();\n\nvar $slice = callBound('String.prototype.slice');\nvar toStrTags = {};\nvar gOPD = require('es-abstract/helpers/getOwnPropertyDescriptor');\nvar getPrototypeOf = Object.getPrototypeOf; // require('getprototypeof');\nif (hasToStringTag && gOPD && getPrototypeOf) {\n\tforEach(typedArrays, function (typedArray) {\n\t\tif (typeof global[typedArray] === 'function') {\n\t\t\tvar arr = new global[typedArray]();\n\t\t\tif (!(Symbol.toStringTag in arr)) {\n\t\t\t\tthrow new EvalError('this engine has support for Symbol.toStringTag, but ' + typedArray + ' does not have the property! Please report this.');\n\t\t\t}\n\t\t\tvar proto = getPrototypeOf(arr);\n\t\t\tvar descriptor = gOPD(proto, Symbol.toStringTag);\n\t\t\tif (!descriptor) {\n\t\t\t\tvar superProto = getPrototypeOf(proto);\n\t\t\t\tdescriptor = gOPD(superProto, Symbol.toStringTag);\n\t\t\t}\n\t\t\ttoStrTags[typedArray] = descriptor.get;\n\t\t}\n\t});\n}\n\nvar tryTypedArrays = function tryAllTypedArrays(value) {\n\tvar foundName = false;\n\tforEach(toStrTags, function (getter, typedArray) {\n\t\tif (!foundName) {\n\t\t\ttry {\n\t\t\t\tvar name = getter.call(value);\n\t\t\t\tif (name === typedArray) {\n\t\t\t\t\tfoundName = name;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\t\t}\n\t});\n\treturn foundName;\n};\n\nvar isTypedArray = require('is-typed-array');\n\nmodule.exports = function whichTypedArray(value) {\n\tif (!isTypedArray(value)) { return false; }\n\tif (!hasToStringTag) { return $slice($toString(value), 8, -1); }\n\treturn tryTypedArrays(value);\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nfunction __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nfunction __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\n\nvar Event = /** @class */ (function () {\r\n    function Event(type, target) {\r\n        this.target = target;\r\n        this.type = type;\r\n    }\r\n    return Event;\r\n}());\r\nvar ErrorEvent = /** @class */ (function (_super) {\r\n    __extends(ErrorEvent, _super);\r\n    function ErrorEvent(error, target) {\r\n        var _this = _super.call(this, 'error', target) || this;\r\n        _this.message = error.message;\r\n        _this.error = error;\r\n        return _this;\r\n    }\r\n    return ErrorEvent;\r\n}(Event));\r\nvar CloseEvent = /** @class */ (function (_super) {\r\n    __extends(CloseEvent, _super);\r\n    function CloseEvent(code, reason, target) {\r\n        if (code === void 0) { code = 1000; }\r\n        if (reason === void 0) { reason = ''; }\r\n        var _this = _super.call(this, 'close', target) || this;\r\n        _this.wasClean = true;\r\n        _this.code = code;\r\n        _this.reason = reason;\r\n        return _this;\r\n    }\r\n    return CloseEvent;\r\n}(Event));\n\n/*!\r\n * Reconnecting WebSocket\r\n * by Pedro Ladaria <pedro.ladaria@gmail.com>\r\n * https://github.com/pladaria/reconnecting-websocket\r\n * License MIT\r\n */\r\nvar getGlobalWebSocket = function () {\r\n    if (typeof WebSocket !== 'undefined') {\r\n        // @ts-ignore\r\n        return WebSocket;\r\n    }\r\n};\r\n/**\r\n * Returns true if given argument looks like a WebSocket class\r\n */\r\nvar isWebSocket = function (w) { return typeof w !== 'undefined' && !!w && w.CLOSING === 2; };\r\nvar DEFAULT = {\r\n    maxReconnectionDelay: 10000,\r\n    minReconnectionDelay: 1000 + Math.random() * 4000,\r\n    minUptime: 5000,\r\n    reconnectionDelayGrowFactor: 1.3,\r\n    connectionTimeout: 4000,\r\n    maxRetries: Infinity,\r\n    maxEnqueuedMessages: Infinity,\r\n    startClosed: false,\r\n    debug: false,\r\n};\r\nvar ReconnectingWebSocket = /** @class */ (function () {\r\n    function ReconnectingWebSocket(url, protocols, options) {\r\n        var _this = this;\r\n        if (options === void 0) { options = {}; }\r\n        this._listeners = {\r\n            error: [],\r\n            message: [],\r\n            open: [],\r\n            close: [],\r\n        };\r\n        this._retryCount = -1;\r\n        this._shouldReconnect = true;\r\n        this._connectLock = false;\r\n        this._binaryType = 'blob';\r\n        this._closeCalled = false;\r\n        this._messageQueue = [];\r\n        /**\r\n         * An event listener to be called when the WebSocket connection's readyState changes to CLOSED\r\n         */\r\n        this.onclose = null;\r\n        /**\r\n         * An event listener to be called when an error occurs\r\n         */\r\n        this.onerror = null;\r\n        /**\r\n         * An event listener to be called when a message is received from the server\r\n         */\r\n        this.onmessage = null;\r\n        /**\r\n         * An event listener to be called when the WebSocket connection's readyState changes to OPEN;\r\n         * this indicates that the connection is ready to send and receive data\r\n         */\r\n        this.onopen = null;\r\n        this._handleOpen = function (event) {\r\n            _this._debug('open event');\r\n            var _a = _this._options.minUptime, minUptime = _a === void 0 ? DEFAULT.minUptime : _a;\r\n            clearTimeout(_this._connectTimeout);\r\n            _this._uptimeTimeout = setTimeout(function () { return _this._acceptOpen(); }, minUptime);\r\n            _this._ws.binaryType = _this._binaryType;\r\n            // send enqueued messages (messages sent before websocket open event)\r\n            _this._messageQueue.forEach(function (message) { return _this._ws.send(message); });\r\n            _this._messageQueue = [];\r\n            if (_this.onopen) {\r\n                _this.onopen(event);\r\n            }\r\n            _this._listeners.open.forEach(function (listener) { return _this._callEventListener(event, listener); });\r\n        };\r\n        this._handleMessage = function (event) {\r\n            _this._debug('message event');\r\n            if (_this.onmessage) {\r\n                _this.onmessage(event);\r\n            }\r\n            _this._listeners.message.forEach(function (listener) { return _this._callEventListener(event, listener); });\r\n        };\r\n        this._handleError = function (event) {\r\n            _this._debug('error event', event.message);\r\n            _this._disconnect(undefined, event.message === 'TIMEOUT' ? 'timeout' : undefined);\r\n            if (_this.onerror) {\r\n                _this.onerror(event);\r\n            }\r\n            _this._debug('exec error listeners');\r\n            _this._listeners.error.forEach(function (listener) { return _this._callEventListener(event, listener); });\r\n            _this._connect();\r\n        };\r\n        this._handleClose = function (event) {\r\n            _this._debug('close event');\r\n            _this._clearTimeouts();\r\n            if (_this._shouldReconnect) {\r\n                _this._connect();\r\n            }\r\n            if (_this.onclose) {\r\n                _this.onclose(event);\r\n            }\r\n            _this._listeners.close.forEach(function (listener) { return _this._callEventListener(event, listener); });\r\n        };\r\n        this._url = url;\r\n        this._protocols = protocols;\r\n        this._options = options;\r\n        if (this._options.startClosed) {\r\n            this._shouldReconnect = false;\r\n        }\r\n        this._connect();\r\n    }\r\n    Object.defineProperty(ReconnectingWebSocket, \"CONNECTING\", {\r\n        get: function () {\r\n            return 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket, \"OPEN\", {\r\n        get: function () {\r\n            return 1;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket, \"CLOSING\", {\r\n        get: function () {\r\n            return 2;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket, \"CLOSED\", {\r\n        get: function () {\r\n            return 3;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"CONNECTING\", {\r\n        get: function () {\r\n            return ReconnectingWebSocket.CONNECTING;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"OPEN\", {\r\n        get: function () {\r\n            return ReconnectingWebSocket.OPEN;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"CLOSING\", {\r\n        get: function () {\r\n            return ReconnectingWebSocket.CLOSING;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"CLOSED\", {\r\n        get: function () {\r\n            return ReconnectingWebSocket.CLOSED;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"binaryType\", {\r\n        get: function () {\r\n            return this._ws ? this._ws.binaryType : this._binaryType;\r\n        },\r\n        set: function (value) {\r\n            this._binaryType = value;\r\n            if (this._ws) {\r\n                this._ws.binaryType = value;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"retryCount\", {\r\n        /**\r\n         * Returns the number or connection retries\r\n         */\r\n        get: function () {\r\n            return Math.max(this._retryCount, 0);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"bufferedAmount\", {\r\n        /**\r\n         * The number of bytes of data that have been queued using calls to send() but not yet\r\n         * transmitted to the network. This value resets to zero once all queued data has been sent.\r\n         * This value does not reset to zero when the connection is closed; if you keep calling send(),\r\n         * this will continue to climb. Read only\r\n         */\r\n        get: function () {\r\n            var bytes = this._messageQueue.reduce(function (acc, message) {\r\n                if (typeof message === 'string') {\r\n                    acc += message.length; // not byte size\r\n                }\r\n                else if (message instanceof Blob) {\r\n                    acc += message.size;\r\n                }\r\n                else {\r\n                    acc += message.byteLength;\r\n                }\r\n                return acc;\r\n            }, 0);\r\n            return bytes + (this._ws ? this._ws.bufferedAmount : 0);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"extensions\", {\r\n        /**\r\n         * The extensions selected by the server. This is currently only the empty string or a list of\r\n         * extensions as negotiated by the connection\r\n         */\r\n        get: function () {\r\n            return this._ws ? this._ws.extensions : '';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"protocol\", {\r\n        /**\r\n         * A string indicating the name of the sub-protocol the server selected;\r\n         * this will be one of the strings specified in the protocols parameter when creating the\r\n         * WebSocket object\r\n         */\r\n        get: function () {\r\n            return this._ws ? this._ws.protocol : '';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"readyState\", {\r\n        /**\r\n         * The current state of the connection; this is one of the Ready state constants\r\n         */\r\n        get: function () {\r\n            if (this._ws) {\r\n                return this._ws.readyState;\r\n            }\r\n            return this._options.startClosed\r\n                ? ReconnectingWebSocket.CLOSED\r\n                : ReconnectingWebSocket.CONNECTING;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"url\", {\r\n        /**\r\n         * The URL as resolved by the constructor\r\n         */\r\n        get: function () {\r\n            return this._ws ? this._ws.url : '';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Closes the WebSocket connection or connection attempt, if any. If the connection is already\r\n     * CLOSED, this method does nothing\r\n     */\r\n    ReconnectingWebSocket.prototype.close = function (code, reason) {\r\n        if (code === void 0) { code = 1000; }\r\n        this._closeCalled = true;\r\n        this._shouldReconnect = false;\r\n        this._clearTimeouts();\r\n        if (!this._ws) {\r\n            this._debug('close enqueued: no ws instance');\r\n            return;\r\n        }\r\n        if (this._ws.readyState === this.CLOSED) {\r\n            this._debug('close: already closed');\r\n            return;\r\n        }\r\n        this._ws.close(code, reason);\r\n    };\r\n    /**\r\n     * Closes the WebSocket connection or connection attempt and connects again.\r\n     * Resets retry counter;\r\n     */\r\n    ReconnectingWebSocket.prototype.reconnect = function (code, reason) {\r\n        this._shouldReconnect = true;\r\n        this._closeCalled = false;\r\n        this._retryCount = -1;\r\n        if (!this._ws || this._ws.readyState === this.CLOSED) {\r\n            this._connect();\r\n        }\r\n        else {\r\n            this._disconnect(code, reason);\r\n            this._connect();\r\n        }\r\n    };\r\n    /**\r\n     * Enqueue specified data to be transmitted to the server over the WebSocket connection\r\n     */\r\n    ReconnectingWebSocket.prototype.send = function (data) {\r\n        if (this._ws && this._ws.readyState === this.OPEN) {\r\n            this._debug('send', data);\r\n            this._ws.send(data);\r\n        }\r\n        else {\r\n            var _a = this._options.maxEnqueuedMessages, maxEnqueuedMessages = _a === void 0 ? DEFAULT.maxEnqueuedMessages : _a;\r\n            if (this._messageQueue.length < maxEnqueuedMessages) {\r\n                this._debug('enqueue', data);\r\n                this._messageQueue.push(data);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Register an event handler of a specific event type\r\n     */\r\n    ReconnectingWebSocket.prototype.addEventListener = function (type, listener) {\r\n        if (this._listeners[type]) {\r\n            // @ts-ignore\r\n            this._listeners[type].push(listener);\r\n        }\r\n    };\r\n    ReconnectingWebSocket.prototype.dispatchEvent = function (event) {\r\n        var e_1, _a;\r\n        var listeners = this._listeners[event.type];\r\n        if (listeners) {\r\n            try {\r\n                for (var listeners_1 = __values(listeners), listeners_1_1 = listeners_1.next(); !listeners_1_1.done; listeners_1_1 = listeners_1.next()) {\r\n                    var listener = listeners_1_1.value;\r\n                    this._callEventListener(event, listener);\r\n                }\r\n            }\r\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n            finally {\r\n                try {\r\n                    if (listeners_1_1 && !listeners_1_1.done && (_a = listeners_1.return)) _a.call(listeners_1);\r\n                }\r\n                finally { if (e_1) throw e_1.error; }\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    /**\r\n     * Removes an event listener\r\n     */\r\n    ReconnectingWebSocket.prototype.removeEventListener = function (type, listener) {\r\n        if (this._listeners[type]) {\r\n            // @ts-ignore\r\n            this._listeners[type] = this._listeners[type].filter(function (l) { return l !== listener; });\r\n        }\r\n    };\r\n    ReconnectingWebSocket.prototype._debug = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        if (this._options.debug) {\r\n            // not using spread because compiled version uses Symbols\r\n            // tslint:disable-next-line\r\n            console.log.apply(console, __spread(['RWS>'], args));\r\n        }\r\n    };\r\n    ReconnectingWebSocket.prototype._getNextDelay = function () {\r\n        var _a = this._options, _b = _a.reconnectionDelayGrowFactor, reconnectionDelayGrowFactor = _b === void 0 ? DEFAULT.reconnectionDelayGrowFactor : _b, _c = _a.minReconnectionDelay, minReconnectionDelay = _c === void 0 ? DEFAULT.minReconnectionDelay : _c, _d = _a.maxReconnectionDelay, maxReconnectionDelay = _d === void 0 ? DEFAULT.maxReconnectionDelay : _d;\r\n        var delay = 0;\r\n        if (this._retryCount > 0) {\r\n            delay =\r\n                minReconnectionDelay * Math.pow(reconnectionDelayGrowFactor, this._retryCount - 1);\r\n            if (delay > maxReconnectionDelay) {\r\n                delay = maxReconnectionDelay;\r\n            }\r\n        }\r\n        this._debug('next delay', delay);\r\n        return delay;\r\n    };\r\n    ReconnectingWebSocket.prototype._wait = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve) {\r\n            setTimeout(resolve, _this._getNextDelay());\r\n        });\r\n    };\r\n    ReconnectingWebSocket.prototype._getNextUrl = function (urlProvider) {\r\n        if (typeof urlProvider === 'string') {\r\n            return Promise.resolve(urlProvider);\r\n        }\r\n        if (typeof urlProvider === 'function') {\r\n            var url = urlProvider();\r\n            if (typeof url === 'string') {\r\n                return Promise.resolve(url);\r\n            }\r\n            if (!!url.then) {\r\n                return url;\r\n            }\r\n        }\r\n        throw Error('Invalid URL');\r\n    };\r\n    ReconnectingWebSocket.prototype._connect = function () {\r\n        var _this = this;\r\n        if (this._connectLock || !this._shouldReconnect) {\r\n            return;\r\n        }\r\n        this._connectLock = true;\r\n        var _a = this._options, _b = _a.maxRetries, maxRetries = _b === void 0 ? DEFAULT.maxRetries : _b, _c = _a.connectionTimeout, connectionTimeout = _c === void 0 ? DEFAULT.connectionTimeout : _c, _d = _a.WebSocket, WebSocket = _d === void 0 ? getGlobalWebSocket() : _d;\r\n        if (this._retryCount >= maxRetries) {\r\n            this._debug('max retries reached', this._retryCount, '>=', maxRetries);\r\n            return;\r\n        }\r\n        this._retryCount++;\r\n        this._debug('connect', this._retryCount);\r\n        this._removeListeners();\r\n        if (!isWebSocket(WebSocket)) {\r\n            throw Error('No valid WebSocket class provided');\r\n        }\r\n        this._wait()\r\n            .then(function () { return _this._getNextUrl(_this._url); })\r\n            .then(function (url) {\r\n            // close could be called before creating the ws\r\n            if (_this._closeCalled) {\r\n                return;\r\n            }\r\n            _this._debug('connect', { url: url, protocols: _this._protocols });\r\n            _this._ws = _this._protocols\r\n                ? new WebSocket(url, _this._protocols)\r\n                : new WebSocket(url);\r\n            _this._ws.binaryType = _this._binaryType;\r\n            _this._connectLock = false;\r\n            _this._addListeners();\r\n            _this._connectTimeout = setTimeout(function () { return _this._handleTimeout(); }, connectionTimeout);\r\n        });\r\n    };\r\n    ReconnectingWebSocket.prototype._handleTimeout = function () {\r\n        this._debug('timeout event');\r\n        this._handleError(new ErrorEvent(Error('TIMEOUT'), this));\r\n    };\r\n    ReconnectingWebSocket.prototype._disconnect = function (code, reason) {\r\n        if (code === void 0) { code = 1000; }\r\n        this._clearTimeouts();\r\n        if (!this._ws) {\r\n            return;\r\n        }\r\n        this._removeListeners();\r\n        try {\r\n            this._ws.close(code, reason);\r\n            this._handleClose(new CloseEvent(code, reason, this));\r\n        }\r\n        catch (error) {\r\n            // ignore\r\n        }\r\n    };\r\n    ReconnectingWebSocket.prototype._acceptOpen = function () {\r\n        this._debug('accept open');\r\n        this._retryCount = 0;\r\n    };\r\n    ReconnectingWebSocket.prototype._callEventListener = function (event, listener) {\r\n        if ('handleEvent' in listener) {\r\n            // @ts-ignore\r\n            listener.handleEvent(event);\r\n        }\r\n        else {\r\n            // @ts-ignore\r\n            listener(event);\r\n        }\r\n    };\r\n    ReconnectingWebSocket.prototype._removeListeners = function () {\r\n        if (!this._ws) {\r\n            return;\r\n        }\r\n        this._debug('removeListeners');\r\n        this._ws.removeEventListener('open', this._handleOpen);\r\n        this._ws.removeEventListener('close', this._handleClose);\r\n        this._ws.removeEventListener('message', this._handleMessage);\r\n        // @ts-ignore\r\n        this._ws.removeEventListener('error', this._handleError);\r\n    };\r\n    ReconnectingWebSocket.prototype._addListeners = function () {\r\n        if (!this._ws) {\r\n            return;\r\n        }\r\n        this._debug('addListeners');\r\n        this._ws.addEventListener('open', this._handleOpen);\r\n        this._ws.addEventListener('close', this._handleClose);\r\n        this._ws.addEventListener('message', this._handleMessage);\r\n        // @ts-ignore\r\n        this._ws.addEventListener('error', this._handleError);\r\n    };\r\n    ReconnectingWebSocket.prototype._clearTimeouts = function () {\r\n        clearTimeout(this._connectTimeout);\r\n        clearTimeout(this._uptimeTimeout);\r\n    };\r\n    return ReconnectingWebSocket;\r\n}());\n\nexport default ReconnectingWebSocket;\n","import ShareDBClient from \"@chilifrog/sharedb/lib/client\";\nimport WebSocket from \"reconnecting-websocket\";\nimport json0 from \"@minervaproject/ot-json0\";\n\nif (!global.inter) {\n  global.inter = {};\n}\n\nexport const setup = () =>{\n    ShareDBClient.types.register(json0.type);\n    ShareDBClient.types.defaultType = json0.type;\n\n    const shareDbUrl = \"wss://icchilisrv3.epfl.ch/sharedb?null\";\n\n    const socket = new WebSocket(shareDbUrl);\n    global.inter.connection = new ShareDBClient.Connection(socket);\n } \n\nglobal.inter.getStream = (streamname, callback) =>\n  new Promise((resolve) => {\n    const doc = global.inter.connection.get(\"rz\", streamname);\n    doc.subscribe();\n\n    doc.pushChange = (change) => {\n      if (!change)  {\n        return;\n      }\n      doc.submitOp({\n        p: [\"changes\", 99999],\n        li: change,\n      });\n\n    };\n\n    doc.rewrite = (change) => {\n      doc.submitOp({\n        p: [\"changes\"],\n        oi: change,\n      });\n    };\n\n    doc.getData = () => doc.data.changes;\n    console.log('callback',callback)\n\n    doc.on('op', (op)=>{\n      console.log('incoming op', op)\n      if(callback) { callback(doc.data.changes)}\n    })\n\n    doc.once(\"load\", () => {\n      if (!doc.type) {\n        console.log(\"initiating doc\");\n        doc.create({ changes: [] });\n      }\n      resolve(doc);\n    });\n  });\n","import  {setup} from \"./sharedb\";\n\nsetup()\n"],"sourceRoot":""}